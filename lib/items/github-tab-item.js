"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _react = _interopRequireDefault(require("react"));
var _propTypes = _interopRequireDefault(require("prop-types"));
var _propTypes2 = require("../prop-types");
var _refHolder = _interopRequireDefault(require("../models/ref-holder"));
var _githubTabContainer = _interopRequireDefault(require("../containers/github-tab-container"));
function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }
function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }
function _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == typeof i ? i : String(i); }
function _toPrimitive(t, r) { if ("object" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != typeof i) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }
class GitHubTabItem extends _react.default.Component {
  static buildURI() {
    return this.uriPattern;
  }
  constructor(props) {
    super(props);
    this.rootHolder = new _refHolder.default();
  }
  getTitle() {
    return 'GitHub';
  }
  getIconName() {
    return 'octoface';
  }
  getDefaultLocation() {
    return 'right';
  }
  getPreferredWidth() {
    return 400;
  }
  getWorkingDirectory() {
    return this.props.repository.getWorkingDirectoryPath();
  }
  serialize() {
    return {
      deserializer: 'GithubDockItem',
      uri: this.getURI()
    };
  }
  render() {
    return _react.default.createElement(_githubTabContainer.default, _extends({}, this.props, {
      rootHolder: this.rootHolder
    }));
  }
  hasFocus() {
    return this.rootHolder.map(root => root.contains(this.props.documentActiveElement())).getOr(false);
  }
  restoreFocus() {
    // No-op
  }
}
exports.default = GitHubTabItem;
_defineProperty(GitHubTabItem, "propTypes", {
  workspace: _propTypes.default.object.isRequired,
  repository: _propTypes.default.object,
  loginModel: _propTypes2.GithubLoginModelPropType.isRequired,
  documentActiveElement: _propTypes.default.func,
  changeWorkingDirectory: _propTypes.default.func.isRequired,
  onDidChangeWorkDirs: _propTypes.default.func.isRequired,
  getCurrentWorkDirs: _propTypes.default.func.isRequired,
  openCreateDialog: _propTypes.default.func.isRequired,
  openPublishDialog: _propTypes.default.func.isRequired,
  openCloneDialog: _propTypes.default.func.isRequired,
  openGitTab: _propTypes.default.func.isRequired
});
_defineProperty(GitHubTabItem, "defaultProps", {
  documentActiveElement: /* istanbul ignore next */() => document.activeElement
});
_defineProperty(GitHubTabItem, "uriPattern", 'atom-github://dock-item/github');
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmVhY3QiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9wcm9wVHlwZXMiLCJfcHJvcFR5cGVzMiIsIl9yZWZIb2xkZXIiLCJfZ2l0aHViVGFiQ29udGFpbmVyIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJfZXh0ZW5kcyIsIk9iamVjdCIsImFzc2lnbiIsImJpbmQiLCJ0YXJnZXQiLCJpIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwic291cmNlIiwia2V5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiYXBwbHkiLCJfZGVmaW5lUHJvcGVydHkiLCJ2YWx1ZSIsIl90b1Byb3BlcnR5S2V5IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiY29uZmlndXJhYmxlIiwid3JpdGFibGUiLCJ0IiwiX3RvUHJpbWl0aXZlIiwiU3RyaW5nIiwiciIsImUiLCJTeW1ib2wiLCJ0b1ByaW1pdGl2ZSIsIlR5cGVFcnJvciIsIk51bWJlciIsIkdpdEh1YlRhYkl0ZW0iLCJSZWFjdCIsIkNvbXBvbmVudCIsImJ1aWxkVVJJIiwidXJpUGF0dGVybiIsImNvbnN0cnVjdG9yIiwicHJvcHMiLCJyb290SG9sZGVyIiwiUmVmSG9sZGVyIiwiZ2V0VGl0bGUiLCJnZXRJY29uTmFtZSIsImdldERlZmF1bHRMb2NhdGlvbiIsImdldFByZWZlcnJlZFdpZHRoIiwiZ2V0V29ya2luZ0RpcmVjdG9yeSIsInJlcG9zaXRvcnkiLCJnZXRXb3JraW5nRGlyZWN0b3J5UGF0aCIsInNlcmlhbGl6ZSIsImRlc2VyaWFsaXplciIsInVyaSIsImdldFVSSSIsInJlbmRlciIsImNyZWF0ZUVsZW1lbnQiLCJoYXNGb2N1cyIsIm1hcCIsInJvb3QiLCJjb250YWlucyIsImRvY3VtZW50QWN0aXZlRWxlbWVudCIsImdldE9yIiwicmVzdG9yZUZvY3VzIiwiZXhwb3J0cyIsIndvcmtzcGFjZSIsIlByb3BUeXBlcyIsIm9iamVjdCIsImlzUmVxdWlyZWQiLCJsb2dpbk1vZGVsIiwiR2l0aHViTG9naW5Nb2RlbFByb3BUeXBlIiwiZnVuYyIsImNoYW5nZVdvcmtpbmdEaXJlY3RvcnkiLCJvbkRpZENoYW5nZVdvcmtEaXJzIiwiZ2V0Q3VycmVudFdvcmtEaXJzIiwib3BlbkNyZWF0ZURpYWxvZyIsIm9wZW5QdWJsaXNoRGlhbG9nIiwib3BlbkNsb25lRGlhbG9nIiwib3BlbkdpdFRhYiIsImRvY3VtZW50IiwiYWN0aXZlRWxlbWVudCJdLCJzb3VyY2VzIjpbImdpdGh1Yi10YWItaXRlbS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcblxuaW1wb3J0IHtHaXRodWJMb2dpbk1vZGVsUHJvcFR5cGV9IGZyb20gJy4uL3Byb3AtdHlwZXMnO1xuaW1wb3J0IFJlZkhvbGRlciBmcm9tICcuLi9tb2RlbHMvcmVmLWhvbGRlcic7XG5pbXBvcnQgR2l0SHViVGFiQ29udGFpbmVyIGZyb20gJy4uL2NvbnRhaW5lcnMvZ2l0aHViLXRhYi1jb250YWluZXInO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHaXRIdWJUYWJJdGVtIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgc3RhdGljIHByb3BUeXBlcyA9IHtcbiAgICB3b3Jrc3BhY2U6IFByb3BUeXBlcy5vYmplY3QuaXNSZXF1aXJlZCxcbiAgICByZXBvc2l0b3J5OiBQcm9wVHlwZXMub2JqZWN0LFxuICAgIGxvZ2luTW9kZWw6IEdpdGh1YkxvZ2luTW9kZWxQcm9wVHlwZS5pc1JlcXVpcmVkLFxuXG4gICAgZG9jdW1lbnRBY3RpdmVFbGVtZW50OiBQcm9wVHlwZXMuZnVuYyxcblxuICAgIGNoYW5nZVdvcmtpbmdEaXJlY3Rvcnk6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXG4gICAgb25EaWRDaGFuZ2VXb3JrRGlyczogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcbiAgICBnZXRDdXJyZW50V29ya0RpcnM6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXG4gICAgb3BlbkNyZWF0ZURpYWxvZzogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcbiAgICBvcGVuUHVibGlzaERpYWxvZzogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcbiAgICBvcGVuQ2xvbmVEaWFsb2c6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXG4gICAgb3BlbkdpdFRhYjogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcbiAgfVxuXG4gIHN0YXRpYyBkZWZhdWx0UHJvcHMgPSB7XG4gICAgZG9jdW1lbnRBY3RpdmVFbGVtZW50OiAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqLyAoKSA9PiBkb2N1bWVudC5hY3RpdmVFbGVtZW50LFxuICB9XG5cbiAgc3RhdGljIHVyaVBhdHRlcm4gPSAnYXRvbS1naXRodWI6Ly9kb2NrLWl0ZW0vZ2l0aHViJztcblxuICBzdGF0aWMgYnVpbGRVUkkoKSB7XG4gICAgcmV0dXJuIHRoaXMudXJpUGF0dGVybjtcbiAgfVxuXG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuXG4gICAgdGhpcy5yb290SG9sZGVyID0gbmV3IFJlZkhvbGRlcigpO1xuICB9XG5cbiAgZ2V0VGl0bGUoKSB7XG4gICAgcmV0dXJuICdHaXRIdWInO1xuICB9XG5cbiAgZ2V0SWNvbk5hbWUoKSB7XG4gICAgcmV0dXJuICdvY3RvZmFjZSc7XG4gIH1cblxuICBnZXREZWZhdWx0TG9jYXRpb24oKSB7XG4gICAgcmV0dXJuICdyaWdodCc7XG4gIH1cblxuICBnZXRQcmVmZXJyZWRXaWR0aCgpIHtcbiAgICByZXR1cm4gNDAwO1xuICB9XG5cbiAgZ2V0V29ya2luZ0RpcmVjdG9yeSgpIHtcbiAgICByZXR1cm4gdGhpcy5wcm9wcy5yZXBvc2l0b3J5LmdldFdvcmtpbmdEaXJlY3RvcnlQYXRoKCk7XG4gIH1cblxuICBzZXJpYWxpemUoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGRlc2VyaWFsaXplcjogJ0dpdGh1YkRvY2tJdGVtJyxcbiAgICAgIHVyaTogdGhpcy5nZXRVUkkoKSxcbiAgICB9O1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8R2l0SHViVGFiQ29udGFpbmVyIHsuLi50aGlzLnByb3BzfSByb290SG9sZGVyPXt0aGlzLnJvb3RIb2xkZXJ9IC8+XG4gICAgKTtcbiAgfVxuXG4gIGhhc0ZvY3VzKCkge1xuICAgIHJldHVybiB0aGlzLnJvb3RIb2xkZXIubWFwKHJvb3QgPT4gcm9vdC5jb250YWlucyh0aGlzLnByb3BzLmRvY3VtZW50QWN0aXZlRWxlbWVudCgpKSkuZ2V0T3IoZmFsc2UpO1xuICB9XG5cbiAgcmVzdG9yZUZvY3VzKCkge1xuICAgIC8vIE5vLW9wXG4gIH1cbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsTUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsVUFBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBRUEsSUFBQUUsV0FBQSxHQUFBRixPQUFBO0FBQ0EsSUFBQUcsVUFBQSxHQUFBSixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUksbUJBQUEsR0FBQUwsc0JBQUEsQ0FBQUMsT0FBQTtBQUFvRSxTQUFBRCx1QkFBQU0sR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLEtBQUFFLE9BQUEsRUFBQUYsR0FBQTtBQUFBLFNBQUFHLFNBQUEsSUFBQUEsUUFBQSxHQUFBQyxNQUFBLENBQUFDLE1BQUEsR0FBQUQsTUFBQSxDQUFBQyxNQUFBLENBQUFDLElBQUEsZUFBQUMsTUFBQSxhQUFBQyxDQUFBLE1BQUFBLENBQUEsR0FBQUMsU0FBQSxDQUFBQyxNQUFBLEVBQUFGLENBQUEsVUFBQUcsTUFBQSxHQUFBRixTQUFBLENBQUFELENBQUEsWUFBQUksR0FBQSxJQUFBRCxNQUFBLFFBQUFQLE1BQUEsQ0FBQVMsU0FBQSxDQUFBQyxjQUFBLENBQUFDLElBQUEsQ0FBQUosTUFBQSxFQUFBQyxHQUFBLEtBQUFMLE1BQUEsQ0FBQUssR0FBQSxJQUFBRCxNQUFBLENBQUFDLEdBQUEsZ0JBQUFMLE1BQUEsWUFBQUosUUFBQSxDQUFBYSxLQUFBLE9BQUFQLFNBQUE7QUFBQSxTQUFBUSxnQkFBQWpCLEdBQUEsRUFBQVksR0FBQSxFQUFBTSxLQUFBLElBQUFOLEdBQUEsR0FBQU8sY0FBQSxDQUFBUCxHQUFBLE9BQUFBLEdBQUEsSUFBQVosR0FBQSxJQUFBSSxNQUFBLENBQUFnQixjQUFBLENBQUFwQixHQUFBLEVBQUFZLEdBQUEsSUFBQU0sS0FBQSxFQUFBQSxLQUFBLEVBQUFHLFVBQUEsUUFBQUMsWUFBQSxRQUFBQyxRQUFBLG9CQUFBdkIsR0FBQSxDQUFBWSxHQUFBLElBQUFNLEtBQUEsV0FBQWxCLEdBQUE7QUFBQSxTQUFBbUIsZUFBQUssQ0FBQSxRQUFBaEIsQ0FBQSxHQUFBaUIsWUFBQSxDQUFBRCxDQUFBLHVDQUFBaEIsQ0FBQSxHQUFBQSxDQUFBLEdBQUFrQixNQUFBLENBQUFsQixDQUFBO0FBQUEsU0FBQWlCLGFBQUFELENBQUEsRUFBQUcsQ0FBQSwyQkFBQUgsQ0FBQSxLQUFBQSxDQUFBLFNBQUFBLENBQUEsTUFBQUksQ0FBQSxHQUFBSixDQUFBLENBQUFLLE1BQUEsQ0FBQUMsV0FBQSxrQkFBQUYsQ0FBQSxRQUFBcEIsQ0FBQSxHQUFBb0IsQ0FBQSxDQUFBYixJQUFBLENBQUFTLENBQUEsRUFBQUcsQ0FBQSx1Q0FBQW5CLENBQUEsU0FBQUEsQ0FBQSxZQUFBdUIsU0FBQSx5RUFBQUosQ0FBQSxHQUFBRCxNQUFBLEdBQUFNLE1BQUEsRUFBQVIsQ0FBQTtBQUVyRCxNQUFNUyxhQUFhLFNBQVNDLGNBQUssQ0FBQ0MsU0FBUyxDQUFDO0VBdUJ6RCxPQUFPQyxRQUFRQSxDQUFBLEVBQUc7SUFDaEIsT0FBTyxJQUFJLENBQUNDLFVBQVU7RUFDeEI7RUFFQUMsV0FBV0EsQ0FBQ0MsS0FBSyxFQUFFO0lBQ2pCLEtBQUssQ0FBQ0EsS0FBSyxDQUFDO0lBRVosSUFBSSxDQUFDQyxVQUFVLEdBQUcsSUFBSUMsa0JBQVMsQ0FBQyxDQUFDO0VBQ25DO0VBRUFDLFFBQVFBLENBQUEsRUFBRztJQUNULE9BQU8sUUFBUTtFQUNqQjtFQUVBQyxXQUFXQSxDQUFBLEVBQUc7SUFDWixPQUFPLFVBQVU7RUFDbkI7RUFFQUMsa0JBQWtCQSxDQUFBLEVBQUc7SUFDbkIsT0FBTyxPQUFPO0VBQ2hCO0VBRUFDLGlCQUFpQkEsQ0FBQSxFQUFHO0lBQ2xCLE9BQU8sR0FBRztFQUNaO0VBRUFDLG1CQUFtQkEsQ0FBQSxFQUFHO0lBQ3BCLE9BQU8sSUFBSSxDQUFDUCxLQUFLLENBQUNRLFVBQVUsQ0FBQ0MsdUJBQXVCLENBQUMsQ0FBQztFQUN4RDtFQUVBQyxTQUFTQSxDQUFBLEVBQUc7SUFDVixPQUFPO01BQ0xDLFlBQVksRUFBRSxnQkFBZ0I7TUFDOUJDLEdBQUcsRUFBRSxJQUFJLENBQUNDLE1BQU0sQ0FBQztJQUNuQixDQUFDO0VBQ0g7RUFFQUMsTUFBTUEsQ0FBQSxFQUFHO0lBQ1AsT0FDRTVELE1BQUEsQ0FBQVMsT0FBQSxDQUFBb0QsYUFBQSxDQUFDdkQsbUJBQUEsQ0FBQUcsT0FBa0IsRUFBQUMsUUFBQSxLQUFLLElBQUksQ0FBQ29DLEtBQUs7TUFBRUMsVUFBVSxFQUFFLElBQUksQ0FBQ0E7SUFBVyxFQUFFLENBQUM7RUFFdkU7RUFFQWUsUUFBUUEsQ0FBQSxFQUFHO0lBQ1QsT0FBTyxJQUFJLENBQUNmLFVBQVUsQ0FBQ2dCLEdBQUcsQ0FBQ0MsSUFBSSxJQUFJQSxJQUFJLENBQUNDLFFBQVEsQ0FBQyxJQUFJLENBQUNuQixLQUFLLENBQUNvQixxQkFBcUIsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDQyxLQUFLLENBQUMsS0FBSyxDQUFDO0VBQ3BHO0VBRUFDLFlBQVlBLENBQUEsRUFBRztJQUNiO0VBQUE7QUFFSjtBQUFDQyxPQUFBLENBQUE1RCxPQUFBLEdBQUErQixhQUFBO0FBQUFoQixlQUFBLENBekVvQmdCLGFBQWEsZUFDYjtFQUNqQjhCLFNBQVMsRUFBRUMsa0JBQVMsQ0FBQ0MsTUFBTSxDQUFDQyxVQUFVO0VBQ3RDbkIsVUFBVSxFQUFFaUIsa0JBQVMsQ0FBQ0MsTUFBTTtFQUM1QkUsVUFBVSxFQUFFQyxvQ0FBd0IsQ0FBQ0YsVUFBVTtFQUUvQ1AscUJBQXFCLEVBQUVLLGtCQUFTLENBQUNLLElBQUk7RUFFckNDLHNCQUFzQixFQUFFTixrQkFBUyxDQUFDSyxJQUFJLENBQUNILFVBQVU7RUFDakRLLG1CQUFtQixFQUFFUCxrQkFBUyxDQUFDSyxJQUFJLENBQUNILFVBQVU7RUFDOUNNLGtCQUFrQixFQUFFUixrQkFBUyxDQUFDSyxJQUFJLENBQUNILFVBQVU7RUFDN0NPLGdCQUFnQixFQUFFVCxrQkFBUyxDQUFDSyxJQUFJLENBQUNILFVBQVU7RUFDM0NRLGlCQUFpQixFQUFFVixrQkFBUyxDQUFDSyxJQUFJLENBQUNILFVBQVU7RUFDNUNTLGVBQWUsRUFBRVgsa0JBQVMsQ0FBQ0ssSUFBSSxDQUFDSCxVQUFVO0VBQzFDVSxVQUFVLEVBQUVaLGtCQUFTLENBQUNLLElBQUksQ0FBQ0g7QUFDN0IsQ0FBQztBQUFBakQsZUFBQSxDQWZrQmdCLGFBQWEsa0JBaUJWO0VBQ3BCMEIscUJBQXFCLEVBQUUsMEJBQTJCQSxDQUFBLEtBQU1rQixRQUFRLENBQUNDO0FBQ25FLENBQUM7QUFBQTdELGVBQUEsQ0FuQmtCZ0IsYUFBYSxnQkFxQlosZ0NBQWdDIn0=