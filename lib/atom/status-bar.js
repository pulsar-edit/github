"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _react = _interopRequireDefault(require("react"));
var _reactDom = _interopRequireDefault(require("react-dom"));
var _propTypes = _interopRequireDefault(require("prop-types"));
function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }
function _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == typeof i ? i : String(i); }
function _toPrimitive(t, r) { if ("object" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != typeof i) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }
class StatusBar extends _react.default.Component {
  constructor(props) {
    super(props);
    this.domNode = document.createElement('div');
    this.domNode.classList.add('react-atom-status-bar');
    if (props.className) {
      this.domNode.classList.add(props.className);
    }
    this.tile = null;
  }
  componentDidMount() {
    this.consumeStatusBar();
  }
  render() {
    return _reactDom.default.createPortal(this.props.children, this.domNode);
  }
  consumeStatusBar() {
    if (this.tile) {
      return;
    }
    if (!this.props.statusBar) {
      return;
    }
    this.tile = this.props.statusBar.addRightTile({
      item: this.domNode,
      priority: -50
    });
    this.props.onConsumeStatusBar(this.props.statusBar);
  }
  componentWillUnmount() {
    this.tile && this.tile.destroy();
  }
}
exports.default = StatusBar;
_defineProperty(StatusBar, "propTypes", {
  children: _propTypes.default.element.isRequired,
  statusBar: _propTypes.default.object,
  onConsumeStatusBar: _propTypes.default.func,
  className: _propTypes.default.string
});
_defineProperty(StatusBar, "defaultProps", {
  onConsumeStatusBar: statusBar => {}
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmVhY3QiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9yZWFjdERvbSIsIl9wcm9wVHlwZXMiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIl9kZWZpbmVQcm9wZXJ0eSIsImtleSIsInZhbHVlIiwiX3RvUHJvcGVydHlLZXkiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJjb25maWd1cmFibGUiLCJ3cml0YWJsZSIsInQiLCJpIiwiX3RvUHJpbWl0aXZlIiwiU3RyaW5nIiwiciIsImUiLCJTeW1ib2wiLCJ0b1ByaW1pdGl2ZSIsImNhbGwiLCJUeXBlRXJyb3IiLCJOdW1iZXIiLCJTdGF0dXNCYXIiLCJSZWFjdCIsIkNvbXBvbmVudCIsImNvbnN0cnVjdG9yIiwicHJvcHMiLCJkb21Ob2RlIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiY2xhc3NMaXN0IiwiYWRkIiwiY2xhc3NOYW1lIiwidGlsZSIsImNvbXBvbmVudERpZE1vdW50IiwiY29uc3VtZVN0YXR1c0JhciIsInJlbmRlciIsIlJlYWN0RE9NIiwiY3JlYXRlUG9ydGFsIiwiY2hpbGRyZW4iLCJzdGF0dXNCYXIiLCJhZGRSaWdodFRpbGUiLCJpdGVtIiwicHJpb3JpdHkiLCJvbkNvbnN1bWVTdGF0dXNCYXIiLCJjb21wb25lbnRXaWxsVW5tb3VudCIsImRlc3Ryb3kiLCJleHBvcnRzIiwiUHJvcFR5cGVzIiwiZWxlbWVudCIsImlzUmVxdWlyZWQiLCJvYmplY3QiLCJmdW5jIiwic3RyaW5nIl0sInNvdXJjZXMiOlsic3RhdHVzLWJhci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFJlYWN0RE9NIGZyb20gJ3JlYWN0LWRvbSc7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTdGF0dXNCYXIgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBzdGF0aWMgcHJvcFR5cGVzID0ge1xuICAgIGNoaWxkcmVuOiBQcm9wVHlwZXMuZWxlbWVudC5pc1JlcXVpcmVkLFxuICAgIHN0YXR1c0JhcjogUHJvcFR5cGVzLm9iamVjdCxcbiAgICBvbkNvbnN1bWVTdGF0dXNCYXI6IFByb3BUeXBlcy5mdW5jLFxuICAgIGNsYXNzTmFtZTogUHJvcFR5cGVzLnN0cmluZyxcbiAgfVxuXG4gIHN0YXRpYyBkZWZhdWx0UHJvcHMgPSB7XG4gICAgb25Db25zdW1lU3RhdHVzQmFyOiBzdGF0dXNCYXIgPT4ge30sXG4gIH1cblxuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIHRoaXMuZG9tTm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHRoaXMuZG9tTm9kZS5jbGFzc0xpc3QuYWRkKCdyZWFjdC1hdG9tLXN0YXR1cy1iYXInKTtcbiAgICBpZiAocHJvcHMuY2xhc3NOYW1lKSB7XG4gICAgICB0aGlzLmRvbU5vZGUuY2xhc3NMaXN0LmFkZChwcm9wcy5jbGFzc05hbWUpO1xuICAgIH1cbiAgICB0aGlzLnRpbGUgPSBudWxsO1xuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgdGhpcy5jb25zdW1lU3RhdHVzQmFyKCk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIFJlYWN0RE9NLmNyZWF0ZVBvcnRhbChcbiAgICAgIHRoaXMucHJvcHMuY2hpbGRyZW4sXG4gICAgICB0aGlzLmRvbU5vZGUsXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN1bWVTdGF0dXNCYXIoKSB7XG4gICAgaWYgKHRoaXMudGlsZSkgeyByZXR1cm47IH1cbiAgICBpZiAoIXRoaXMucHJvcHMuc3RhdHVzQmFyKSB7IHJldHVybjsgfVxuXG4gICAgdGhpcy50aWxlID0gdGhpcy5wcm9wcy5zdGF0dXNCYXIuYWRkUmlnaHRUaWxlKHtpdGVtOiB0aGlzLmRvbU5vZGUsIHByaW9yaXR5OiAtNTB9KTtcbiAgICB0aGlzLnByb3BzLm9uQ29uc3VtZVN0YXR1c0Jhcih0aGlzLnByb3BzLnN0YXR1c0Jhcik7XG4gIH1cblxuICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICB0aGlzLnRpbGUgJiYgdGhpcy50aWxlLmRlc3Ryb3koKTtcbiAgfVxufVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxNQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxTQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRSxVQUFBLEdBQUFILHNCQUFBLENBQUFDLE9BQUE7QUFBbUMsU0FBQUQsdUJBQUFJLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQSxLQUFBRSxPQUFBLEVBQUFGLEdBQUE7QUFBQSxTQUFBRyxnQkFBQUgsR0FBQSxFQUFBSSxHQUFBLEVBQUFDLEtBQUEsSUFBQUQsR0FBQSxHQUFBRSxjQUFBLENBQUFGLEdBQUEsT0FBQUEsR0FBQSxJQUFBSixHQUFBLElBQUFPLE1BQUEsQ0FBQUMsY0FBQSxDQUFBUixHQUFBLEVBQUFJLEdBQUEsSUFBQUMsS0FBQSxFQUFBQSxLQUFBLEVBQUFJLFVBQUEsUUFBQUMsWUFBQSxRQUFBQyxRQUFBLG9CQUFBWCxHQUFBLENBQUFJLEdBQUEsSUFBQUMsS0FBQSxXQUFBTCxHQUFBO0FBQUEsU0FBQU0sZUFBQU0sQ0FBQSxRQUFBQyxDQUFBLEdBQUFDLFlBQUEsQ0FBQUYsQ0FBQSx1Q0FBQUMsQ0FBQSxHQUFBQSxDQUFBLEdBQUFFLE1BQUEsQ0FBQUYsQ0FBQTtBQUFBLFNBQUFDLGFBQUFGLENBQUEsRUFBQUksQ0FBQSwyQkFBQUosQ0FBQSxLQUFBQSxDQUFBLFNBQUFBLENBQUEsTUFBQUssQ0FBQSxHQUFBTCxDQUFBLENBQUFNLE1BQUEsQ0FBQUMsV0FBQSxrQkFBQUYsQ0FBQSxRQUFBSixDQUFBLEdBQUFJLENBQUEsQ0FBQUcsSUFBQSxDQUFBUixDQUFBLEVBQUFJLENBQUEsdUNBQUFILENBQUEsU0FBQUEsQ0FBQSxZQUFBUSxTQUFBLHlFQUFBTCxDQUFBLEdBQUFELE1BQUEsR0FBQU8sTUFBQSxFQUFBVixDQUFBO0FBRXBCLE1BQU1XLFNBQVMsU0FBU0MsY0FBSyxDQUFDQyxTQUFTLENBQUM7RUFZckRDLFdBQVdBLENBQUNDLEtBQUssRUFBRTtJQUNqQixLQUFLLENBQUNBLEtBQUssQ0FBQztJQUVaLElBQUksQ0FBQ0MsT0FBTyxHQUFHQyxRQUFRLENBQUNDLGFBQWEsQ0FBQyxLQUFLLENBQUM7SUFDNUMsSUFBSSxDQUFDRixPQUFPLENBQUNHLFNBQVMsQ0FBQ0MsR0FBRyxDQUFDLHVCQUF1QixDQUFDO0lBQ25ELElBQUlMLEtBQUssQ0FBQ00sU0FBUyxFQUFFO01BQ25CLElBQUksQ0FBQ0wsT0FBTyxDQUFDRyxTQUFTLENBQUNDLEdBQUcsQ0FBQ0wsS0FBSyxDQUFDTSxTQUFTLENBQUM7SUFDN0M7SUFDQSxJQUFJLENBQUNDLElBQUksR0FBRyxJQUFJO0VBQ2xCO0VBRUFDLGlCQUFpQkEsQ0FBQSxFQUFHO0lBQ2xCLElBQUksQ0FBQ0MsZ0JBQWdCLENBQUMsQ0FBQztFQUN6QjtFQUVBQyxNQUFNQSxDQUFBLEVBQUc7SUFDUCxPQUFPQyxpQkFBUSxDQUFDQyxZQUFZLENBQzFCLElBQUksQ0FBQ1osS0FBSyxDQUFDYSxRQUFRLEVBQ25CLElBQUksQ0FBQ1osT0FDUCxDQUFDO0VBQ0g7RUFFQVEsZ0JBQWdCQSxDQUFBLEVBQUc7SUFDakIsSUFBSSxJQUFJLENBQUNGLElBQUksRUFBRTtNQUFFO0lBQVE7SUFDekIsSUFBSSxDQUFDLElBQUksQ0FBQ1AsS0FBSyxDQUFDYyxTQUFTLEVBQUU7TUFBRTtJQUFRO0lBRXJDLElBQUksQ0FBQ1AsSUFBSSxHQUFHLElBQUksQ0FBQ1AsS0FBSyxDQUFDYyxTQUFTLENBQUNDLFlBQVksQ0FBQztNQUFDQyxJQUFJLEVBQUUsSUFBSSxDQUFDZixPQUFPO01BQUVnQixRQUFRLEVBQUUsQ0FBQztJQUFFLENBQUMsQ0FBQztJQUNsRixJQUFJLENBQUNqQixLQUFLLENBQUNrQixrQkFBa0IsQ0FBQyxJQUFJLENBQUNsQixLQUFLLENBQUNjLFNBQVMsQ0FBQztFQUNyRDtFQUVBSyxvQkFBb0JBLENBQUEsRUFBRztJQUNyQixJQUFJLENBQUNaLElBQUksSUFBSSxJQUFJLENBQUNBLElBQUksQ0FBQ2EsT0FBTyxDQUFDLENBQUM7RUFDbEM7QUFDRjtBQUFDQyxPQUFBLENBQUE5QyxPQUFBLEdBQUFxQixTQUFBO0FBQUFwQixlQUFBLENBN0NvQm9CLFNBQVMsZUFDVDtFQUNqQmlCLFFBQVEsRUFBRVMsa0JBQVMsQ0FBQ0MsT0FBTyxDQUFDQyxVQUFVO0VBQ3RDVixTQUFTLEVBQUVRLGtCQUFTLENBQUNHLE1BQU07RUFDM0JQLGtCQUFrQixFQUFFSSxrQkFBUyxDQUFDSSxJQUFJO0VBQ2xDcEIsU0FBUyxFQUFFZ0Isa0JBQVMsQ0FBQ0s7QUFDdkIsQ0FBQztBQUFBbkQsZUFBQSxDQU5rQm9CLFNBQVMsa0JBUU47RUFDcEJzQixrQkFBa0IsRUFBRUosU0FBUyxJQUFJLENBQUM7QUFDcEMsQ0FBQyJ9