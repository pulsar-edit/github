"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _react = _interopRequireDefault(require("react"));
var _propTypes = _interopRequireDefault(require("prop-types"));
var _atom = require("atom");
var _author = require("../models/author");
var _gitTabHeaderView = _interopRequireDefault(require("../views/git-tab-header-view"));
function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }
function _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == typeof i ? i : String(i); }
function _toPrimitive(t, r) { if ("object" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != typeof i) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }
class GitTabHeaderController extends _react.default.Component {
  constructor(props) {
    super(props);
    _defineProperty(this, "handleLockToggle", async () => {
      if (this.state.changingLock !== null) {
        return;
      }
      const nextLock = !this.props.contextLocked;
      try {
        this.setState({
          changingLock: nextLock
        });
        await this.props.setContextLock(this.getWorkDir(), nextLock);
      } finally {
        await new Promise(resolve => this.setState({
          changingLock: null
        }, resolve));
      }
    });
    _defineProperty(this, "handleWorkDirSelect", async e => {
      if (this.state.changingWorkDir !== null) {
        return;
      }
      const nextWorkDir = e.target.value;
      try {
        this.setState({
          changingWorkDir: nextWorkDir
        });
        await this.props.changeWorkingDirectory(nextWorkDir);
      } finally {
        await new Promise(resolve => this.setState({
          changingWorkDir: null
        }, resolve));
      }
    });
    _defineProperty(this, "resetWorkDirs", () => {
      this.setState(() => ({
        currentWorkDirs: []
      }));
    });
    _defineProperty(this, "updateCommitter", async () => {
      const committer = (await this.props.getCommitter()) || _author.nullAuthor;
      if (this._isMounted) {
        this.setState({
          committer
        });
      }
    });
    this._isMounted = false;
    this.state = {
      currentWorkDirs: [],
      committer: _author.nullAuthor,
      changingLock: null,
      changingWorkDir: null
    };
    this.disposable = new _atom.CompositeDisposable();
  }
  static getDerivedStateFromProps(props) {
    return {
      currentWorkDirs: props.getCurrentWorkDirs()
    };
  }
  componentDidMount() {
    this._isMounted = true;
    this.disposable.add(this.props.onDidChangeWorkDirs(this.resetWorkDirs));
    this.disposable.add(this.props.onDidUpdateRepo(this.updateCommitter));
    this.updateCommitter();
  }
  componentDidUpdate(prevProps) {
    if (prevProps.onDidChangeWorkDirs !== this.props.onDidChangeWorkDirs || prevProps.onDidUpdateRepo !== this.props.onDidUpdateRepo) {
      this.disposable.dispose();
      this.disposable = new _atom.CompositeDisposable();
      this.disposable.add(this.props.onDidChangeWorkDirs(this.resetWorkDirs));
      this.disposable.add(this.props.onDidUpdateRepo(this.updateCommitter));
    }
    if (prevProps.getCommitter !== this.props.getCommitter) {
      this.updateCommitter();
    }
  }
  render() {
    return _react.default.createElement(_gitTabHeaderView.default, {
      committer: this.state.committer

      // Workspace
      ,
      workdir: this.getWorkDir(),
      workdirs: this.state.currentWorkDirs,
      contextLocked: this.getLocked(),
      changingWorkDir: this.state.changingWorkDir !== null,
      changingLock: this.state.changingLock !== null

      // Event Handlers
      ,
      handleAvatarClick: this.props.onDidClickAvatar,
      handleWorkDirSelect: this.handleWorkDirSelect,
      handleLockToggle: this.handleLockToggle
    });
  }
  getWorkDir() {
    return this.state.changingWorkDir !== null ? this.state.changingWorkDir : this.props.currentWorkDir;
  }
  getLocked() {
    return this.state.changingLock !== null ? this.state.changingLock : this.props.contextLocked;
  }
  componentWillUnmount() {
    this._isMounted = false;
    this.disposable.dispose();
  }
}
exports.default = GitTabHeaderController;
_defineProperty(GitTabHeaderController, "propTypes", {
  getCommitter: _propTypes.default.func.isRequired,
  // Workspace
  currentWorkDir: _propTypes.default.string,
  getCurrentWorkDirs: _propTypes.default.func.isRequired,
  changeWorkingDirectory: _propTypes.default.func.isRequired,
  contextLocked: _propTypes.default.bool.isRequired,
  setContextLock: _propTypes.default.func.isRequired,
  // Event Handlers
  onDidClickAvatar: _propTypes.default.func.isRequired,
  onDidChangeWorkDirs: _propTypes.default.func.isRequired,
  onDidUpdateRepo: _propTypes.default.func.isRequired
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmVhY3QiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9wcm9wVHlwZXMiLCJfYXRvbSIsIl9hdXRob3IiLCJfZ2l0VGFiSGVhZGVyVmlldyIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiX2RlZmluZVByb3BlcnR5Iiwia2V5IiwidmFsdWUiLCJfdG9Qcm9wZXJ0eUtleSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImNvbmZpZ3VyYWJsZSIsIndyaXRhYmxlIiwidCIsImkiLCJfdG9QcmltaXRpdmUiLCJTdHJpbmciLCJyIiwiZSIsIlN5bWJvbCIsInRvUHJpbWl0aXZlIiwiY2FsbCIsIlR5cGVFcnJvciIsIk51bWJlciIsIkdpdFRhYkhlYWRlckNvbnRyb2xsZXIiLCJSZWFjdCIsIkNvbXBvbmVudCIsImNvbnN0cnVjdG9yIiwicHJvcHMiLCJzdGF0ZSIsImNoYW5naW5nTG9jayIsIm5leHRMb2NrIiwiY29udGV4dExvY2tlZCIsInNldFN0YXRlIiwic2V0Q29udGV4dExvY2siLCJnZXRXb3JrRGlyIiwiUHJvbWlzZSIsInJlc29sdmUiLCJjaGFuZ2luZ1dvcmtEaXIiLCJuZXh0V29ya0RpciIsInRhcmdldCIsImNoYW5nZVdvcmtpbmdEaXJlY3RvcnkiLCJjdXJyZW50V29ya0RpcnMiLCJjb21taXR0ZXIiLCJnZXRDb21taXR0ZXIiLCJudWxsQXV0aG9yIiwiX2lzTW91bnRlZCIsImRpc3Bvc2FibGUiLCJDb21wb3NpdGVEaXNwb3NhYmxlIiwiZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzIiwiZ2V0Q3VycmVudFdvcmtEaXJzIiwiY29tcG9uZW50RGlkTW91bnQiLCJhZGQiLCJvbkRpZENoYW5nZVdvcmtEaXJzIiwicmVzZXRXb3JrRGlycyIsIm9uRGlkVXBkYXRlUmVwbyIsInVwZGF0ZUNvbW1pdHRlciIsImNvbXBvbmVudERpZFVwZGF0ZSIsInByZXZQcm9wcyIsImRpc3Bvc2UiLCJyZW5kZXIiLCJjcmVhdGVFbGVtZW50Iiwid29ya2RpciIsIndvcmtkaXJzIiwiZ2V0TG9ja2VkIiwiaGFuZGxlQXZhdGFyQ2xpY2siLCJvbkRpZENsaWNrQXZhdGFyIiwiaGFuZGxlV29ya0RpclNlbGVjdCIsImhhbmRsZUxvY2tUb2dnbGUiLCJjdXJyZW50V29ya0RpciIsImNvbXBvbmVudFdpbGxVbm1vdW50IiwiZXhwb3J0cyIsIlByb3BUeXBlcyIsImZ1bmMiLCJpc1JlcXVpcmVkIiwic3RyaW5nIiwiYm9vbCJdLCJzb3VyY2VzIjpbImdpdC10YWItaGVhZGVyLWNvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQge0NvbXBvc2l0ZURpc3Bvc2FibGV9IGZyb20gJ2F0b20nO1xuaW1wb3J0IHtudWxsQXV0aG9yfSBmcm9tICcuLi9tb2RlbHMvYXV0aG9yJztcbmltcG9ydCBHaXRUYWJIZWFkZXJWaWV3IGZyb20gJy4uL3ZpZXdzL2dpdC10YWItaGVhZGVyLXZpZXcnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHaXRUYWJIZWFkZXJDb250cm9sbGVyIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgc3RhdGljIHByb3BUeXBlcyA9IHtcbiAgICBnZXRDb21taXR0ZXI6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXG5cbiAgICAvLyBXb3Jrc3BhY2VcbiAgICBjdXJyZW50V29ya0RpcjogUHJvcFR5cGVzLnN0cmluZyxcbiAgICBnZXRDdXJyZW50V29ya0RpcnM6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXG4gICAgY2hhbmdlV29ya2luZ0RpcmVjdG9yeTogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcbiAgICBjb250ZXh0TG9ja2VkOiBQcm9wVHlwZXMuYm9vbC5pc1JlcXVpcmVkLFxuICAgIHNldENvbnRleHRMb2NrOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxuXG4gICAgLy8gRXZlbnQgSGFuZGxlcnNcbiAgICBvbkRpZENsaWNrQXZhdGFyOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxuICAgIG9uRGlkQ2hhbmdlV29ya0RpcnM6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXG4gICAgb25EaWRVcGRhdGVSZXBvOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxuICB9XG5cbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgdGhpcy5faXNNb3VudGVkID0gZmFsc2U7XG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGN1cnJlbnRXb3JrRGlyczogW10sXG4gICAgICBjb21taXR0ZXI6IG51bGxBdXRob3IsXG4gICAgICBjaGFuZ2luZ0xvY2s6IG51bGwsXG4gICAgICBjaGFuZ2luZ1dvcmtEaXI6IG51bGwsXG4gICAgfTtcbiAgICB0aGlzLmRpc3Bvc2FibGUgPSBuZXcgQ29tcG9zaXRlRGlzcG9zYWJsZSgpO1xuICB9XG5cbiAgc3RhdGljIGdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyhwcm9wcykge1xuICAgIHJldHVybiB7XG4gICAgICBjdXJyZW50V29ya0RpcnM6IHByb3BzLmdldEN1cnJlbnRXb3JrRGlycygpLFxuICAgIH07XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICB0aGlzLl9pc01vdW50ZWQgPSB0cnVlO1xuICAgIHRoaXMuZGlzcG9zYWJsZS5hZGQodGhpcy5wcm9wcy5vbkRpZENoYW5nZVdvcmtEaXJzKHRoaXMucmVzZXRXb3JrRGlycykpO1xuICAgIHRoaXMuZGlzcG9zYWJsZS5hZGQodGhpcy5wcm9wcy5vbkRpZFVwZGF0ZVJlcG8odGhpcy51cGRhdGVDb21taXR0ZXIpKTtcbiAgICB0aGlzLnVwZGF0ZUNvbW1pdHRlcigpO1xuICB9XG5cbiAgY29tcG9uZW50RGlkVXBkYXRlKHByZXZQcm9wcykge1xuICAgIGlmIChcbiAgICAgIHByZXZQcm9wcy5vbkRpZENoYW5nZVdvcmtEaXJzICE9PSB0aGlzLnByb3BzLm9uRGlkQ2hhbmdlV29ya0RpcnNcbiAgICAgIHx8IHByZXZQcm9wcy5vbkRpZFVwZGF0ZVJlcG8gIT09IHRoaXMucHJvcHMub25EaWRVcGRhdGVSZXBvXG4gICAgKSB7XG4gICAgICB0aGlzLmRpc3Bvc2FibGUuZGlzcG9zZSgpO1xuICAgICAgdGhpcy5kaXNwb3NhYmxlID0gbmV3IENvbXBvc2l0ZURpc3Bvc2FibGUoKTtcbiAgICAgIHRoaXMuZGlzcG9zYWJsZS5hZGQodGhpcy5wcm9wcy5vbkRpZENoYW5nZVdvcmtEaXJzKHRoaXMucmVzZXRXb3JrRGlycykpO1xuICAgICAgdGhpcy5kaXNwb3NhYmxlLmFkZCh0aGlzLnByb3BzLm9uRGlkVXBkYXRlUmVwbyh0aGlzLnVwZGF0ZUNvbW1pdHRlcikpO1xuICAgIH1cbiAgICBpZiAocHJldlByb3BzLmdldENvbW1pdHRlciAhPT0gdGhpcy5wcm9wcy5nZXRDb21taXR0ZXIpIHtcbiAgICAgIHRoaXMudXBkYXRlQ29tbWl0dGVyKCk7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8R2l0VGFiSGVhZGVyVmlld1xuICAgICAgICBjb21taXR0ZXI9e3RoaXMuc3RhdGUuY29tbWl0dGVyfVxuXG4gICAgICAgIC8vIFdvcmtzcGFjZVxuICAgICAgICB3b3JrZGlyPXt0aGlzLmdldFdvcmtEaXIoKX1cbiAgICAgICAgd29ya2RpcnM9e3RoaXMuc3RhdGUuY3VycmVudFdvcmtEaXJzfVxuICAgICAgICBjb250ZXh0TG9ja2VkPXt0aGlzLmdldExvY2tlZCgpfVxuICAgICAgICBjaGFuZ2luZ1dvcmtEaXI9e3RoaXMuc3RhdGUuY2hhbmdpbmdXb3JrRGlyICE9PSBudWxsfVxuICAgICAgICBjaGFuZ2luZ0xvY2s9e3RoaXMuc3RhdGUuY2hhbmdpbmdMb2NrICE9PSBudWxsfVxuXG4gICAgICAgIC8vIEV2ZW50IEhhbmRsZXJzXG4gICAgICAgIGhhbmRsZUF2YXRhckNsaWNrPXt0aGlzLnByb3BzLm9uRGlkQ2xpY2tBdmF0YXJ9XG4gICAgICAgIGhhbmRsZVdvcmtEaXJTZWxlY3Q9e3RoaXMuaGFuZGxlV29ya0RpclNlbGVjdH1cbiAgICAgICAgaGFuZGxlTG9ja1RvZ2dsZT17dGhpcy5oYW5kbGVMb2NrVG9nZ2xlfVxuICAgICAgLz5cbiAgICApO1xuICB9XG5cbiAgaGFuZGxlTG9ja1RvZ2dsZSA9IGFzeW5jICgpID0+IHtcbiAgICBpZiAodGhpcy5zdGF0ZS5jaGFuZ2luZ0xvY2sgIT09IG51bGwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBuZXh0TG9jayA9ICF0aGlzLnByb3BzLmNvbnRleHRMb2NrZWQ7XG4gICAgdHJ5IHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe2NoYW5naW5nTG9jazogbmV4dExvY2t9KTtcbiAgICAgIGF3YWl0IHRoaXMucHJvcHMuc2V0Q29udGV4dExvY2sodGhpcy5nZXRXb3JrRGlyKCksIG5leHRMb2NrKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiB0aGlzLnNldFN0YXRlKHtjaGFuZ2luZ0xvY2s6IG51bGx9LCByZXNvbHZlKSk7XG4gICAgfVxuICB9XG5cbiAgaGFuZGxlV29ya0RpclNlbGVjdCA9IGFzeW5jIGUgPT4ge1xuICAgIGlmICh0aGlzLnN0YXRlLmNoYW5naW5nV29ya0RpciAhPT0gbnVsbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IG5leHRXb3JrRGlyID0gZS50YXJnZXQudmFsdWU7XG4gICAgdHJ5IHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe2NoYW5naW5nV29ya0RpcjogbmV4dFdvcmtEaXJ9KTtcbiAgICAgIGF3YWl0IHRoaXMucHJvcHMuY2hhbmdlV29ya2luZ0RpcmVjdG9yeShuZXh0V29ya0Rpcik7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gdGhpcy5zZXRTdGF0ZSh7Y2hhbmdpbmdXb3JrRGlyOiBudWxsfSwgcmVzb2x2ZSkpO1xuICAgIH1cbiAgfVxuXG4gIHJlc2V0V29ya0RpcnMgPSAoKSA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSgoKSA9PiAoe1xuICAgICAgY3VycmVudFdvcmtEaXJzOiBbXSxcbiAgICB9KSk7XG4gIH1cblxuICB1cGRhdGVDb21taXR0ZXIgPSBhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgY29tbWl0dGVyID0gYXdhaXQgdGhpcy5wcm9wcy5nZXRDb21taXR0ZXIoKSB8fCBudWxsQXV0aG9yO1xuICAgIGlmICh0aGlzLl9pc01vdW50ZWQpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe2NvbW1pdHRlcn0pO1xuICAgIH1cbiAgfVxuXG4gIGdldFdvcmtEaXIoKSB7XG4gICAgcmV0dXJuIHRoaXMuc3RhdGUuY2hhbmdpbmdXb3JrRGlyICE9PSBudWxsID8gdGhpcy5zdGF0ZS5jaGFuZ2luZ1dvcmtEaXIgOiB0aGlzLnByb3BzLmN1cnJlbnRXb3JrRGlyO1xuICB9XG5cbiAgZ2V0TG9ja2VkKCkge1xuICAgIHJldHVybiB0aGlzLnN0YXRlLmNoYW5naW5nTG9jayAhPT0gbnVsbCA/IHRoaXMuc3RhdGUuY2hhbmdpbmdMb2NrIDogdGhpcy5wcm9wcy5jb250ZXh0TG9ja2VkO1xuICB9XG5cbiAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgdGhpcy5faXNNb3VudGVkID0gZmFsc2U7XG4gICAgdGhpcy5kaXNwb3NhYmxlLmRpc3Bvc2UoKTtcbiAgfVxufVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxNQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxVQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRSxLQUFBLEdBQUFGLE9BQUE7QUFDQSxJQUFBRyxPQUFBLEdBQUFILE9BQUE7QUFDQSxJQUFBSSxpQkFBQSxHQUFBTCxzQkFBQSxDQUFBQyxPQUFBO0FBQTRELFNBQUFE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