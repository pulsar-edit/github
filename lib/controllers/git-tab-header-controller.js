"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _react = _interopRequireDefault(require("react"));
var _propTypes = _interopRequireDefault(require("prop-types"));
var _atom = require("atom");
var _author = require("../models/author");
var _gitTabHeaderView = _interopRequireDefault(require("../views/git-tab-header-view"));
function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }
function _toPropertyKey(arg) { var key = _toPrimitive(arg, "string"); return typeof key === "symbol" ? key : String(key); }
function _toPrimitive(input, hint) { if (typeof input !== "object" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || "default"); if (typeof res !== "object") return res; throw new TypeError("@@toPrimitive must return a primitive value."); } return (hint === "string" ? String : Number)(input); }
class GitTabHeaderController extends _react.default.Component {
  constructor(props) {
    super(props);
    _defineProperty(this, "handleLockToggle", async () => {
      if (this.state.changingLock !== null) {
        return;
      }
      const nextLock = !this.props.contextLocked;
      try {
        this.setState({
          changingLock: nextLock
        });
        await this.props.setContextLock(this.getWorkDir(), nextLock);
      } finally {
        await new Promise(resolve => this.setState({
          changingLock: null
        }, resolve));
      }
    });
    _defineProperty(this, "handleWorkDirSelect", async e => {
      if (this.state.changingWorkDir !== null) {
        return;
      }
      const nextWorkDir = e.target.value;
      try {
        this.setState({
          changingWorkDir: nextWorkDir
        });
        await this.props.changeWorkingDirectory(nextWorkDir);
      } finally {
        await new Promise(resolve => this.setState({
          changingWorkDir: null
        }, resolve));
      }
    });
    _defineProperty(this, "resetWorkDirs", () => {
      this.setState(() => ({
        currentWorkDirs: []
      }));
    });
    _defineProperty(this, "updateCommitter", async () => {
      const committer = (await this.props.getCommitter()) || _author.nullAuthor;
      if (this._isMounted) {
        this.setState({
          committer
        });
      }
    });
    this._isMounted = false;
    this.state = {
      currentWorkDirs: [],
      committer: _author.nullAuthor,
      changingLock: null,
      changingWorkDir: null
    };
    this.disposable = new _atom.CompositeDisposable();
  }
  static getDerivedStateFromProps(props) {
    return {
      currentWorkDirs: props.getCurrentWorkDirs()
    };
  }
  componentDidMount() {
    this._isMounted = true;
    this.disposable.add(this.props.onDidChangeWorkDirs(this.resetWorkDirs));
    this.disposable.add(this.props.onDidUpdateRepo(this.updateCommitter));
    this.updateCommitter();
  }
  componentDidUpdate(prevProps) {
    if (prevProps.onDidChangeWorkDirs !== this.props.onDidChangeWorkDirs || prevProps.onDidUpdateRepo !== this.props.onDidUpdateRepo) {
      this.disposable.dispose();
      this.disposable = new _atom.CompositeDisposable();
      this.disposable.add(this.props.onDidChangeWorkDirs(this.resetWorkDirs));
      this.disposable.add(this.props.onDidUpdateRepo(this.updateCommitter));
    }
    if (prevProps.getCommitter !== this.props.getCommitter) {
      this.updateCommitter();
    }
  }
  render() {
    return _react.default.createElement(_gitTabHeaderView.default, {
      committer: this.state.committer

      // Workspace
      ,
      workdir: this.getWorkDir(),
      workdirs: this.state.currentWorkDirs,
      contextLocked: this.getLocked(),
      changingWorkDir: this.state.changingWorkDir !== null,
      changingLock: this.state.changingLock !== null

      // Event Handlers
      ,
      handleAvatarClick: this.props.onDidClickAvatar,
      handleWorkDirSelect: this.handleWorkDirSelect,
      handleLockToggle: this.handleLockToggle
    });
  }
  getWorkDir() {
    return this.state.changingWorkDir !== null ? this.state.changingWorkDir : this.props.currentWorkDir;
  }
  getLocked() {
    return this.state.changingLock !== null ? this.state.changingLock : this.props.contextLocked;
  }
  componentWillUnmount() {
    this._isMounted = false;
    this.disposable.dispose();
  }
}
exports.default = GitTabHeaderController;
_defineProperty(GitTabHeaderController, "propTypes", {
  getCommitter: _propTypes.default.func.isRequired,
  // Workspace
  currentWorkDir: _propTypes.default.string,
  getCurrentWorkDirs: _propTypes.default.func.isRequired,
  changeWorkingDirectory: _propTypes.default.func.isRequired,
  contextLocked: _propTypes.default.bool.isRequired,
  setContextLock: _propTypes.default.func.isRequired,
  // Event Handlers
  onDidClickAvatar: _propTypes.default.func.isRequired,
  onDidChangeWorkDirs: _propTypes.default.func.isRequired,
  onDidUpdateRepo: _propTypes.default.func.isRequired
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmVhY3QiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9wcm9wVHlwZXMiLCJfYXRvbSIsIl9hdXRob3IiLCJfZ2l0VGFiSGVhZGVyVmlldyIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiX2RlZmluZVByb3BlcnR5Iiwia2V5IiwidmFsdWUiLCJfdG9Qcm9wZXJ0eUtleSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImNvbmZpZ3VyYWJsZSIsIndyaXRhYmxlIiwiYXJnIiwiX3RvUHJpbWl0aXZlIiwiU3RyaW5nIiwiaW5wdXQiLCJoaW50IiwicHJpbSIsIlN5bWJvbCIsInRvUHJpbWl0aXZlIiwidW5kZWZpbmVkIiwicmVzIiwiY2FsbCIsIlR5cGVFcnJvciIsIk51bWJlciIsIkdpdFRhYkhlYWRlckNvbnRyb2xsZXIiLCJSZWFjdCIsIkNvbXBvbmVudCIsImNvbnN0cnVjdG9yIiwicHJvcHMiLCJzdGF0ZSIsImNoYW5naW5nTG9jayIsIm5leHRMb2NrIiwiY29udGV4dExvY2tlZCIsInNldFN0YXRlIiwic2V0Q29udGV4dExvY2siLCJnZXRXb3JrRGlyIiwiUHJvbWlzZSIsInJlc29sdmUiLCJlIiwiY2hhbmdpbmdXb3JrRGlyIiwibmV4dFdvcmtEaXIiLCJ0YXJnZXQiLCJjaGFuZ2VXb3JraW5nRGlyZWN0b3J5IiwiY3VycmVudFdvcmtEaXJzIiwiY29tbWl0dGVyIiwiZ2V0Q29tbWl0dGVyIiwibnVsbEF1dGhvciIsIl9pc01vdW50ZWQiLCJkaXNwb3NhYmxlIiwiQ29tcG9zaXRlRGlzcG9zYWJsZSIsImdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyIsImdldEN1cnJlbnRXb3JrRGlycyIsImNvbXBvbmVudERpZE1vdW50IiwiYWRkIiwib25EaWRDaGFuZ2VXb3JrRGlycyIsInJlc2V0V29ya0RpcnMiLCJvbkRpZFVwZGF0ZVJlcG8iLCJ1cGRhdGVDb21taXR0ZXIiLCJjb21wb25lbnREaWRVcGRhdGUiLCJwcmV2UHJvcHMiLCJkaXNwb3NlIiwicmVuZGVyIiwiY3JlYXRlRWxlbWVudCIsIndvcmtkaXIiLCJ3b3JrZGlycyIsImdldExvY2tlZCIsImhhbmRsZUF2YXRhckNsaWNrIiwib25EaWRDbGlja0F2YXRhciIsImhhbmRsZVdvcmtEaXJTZWxlY3QiLCJoYW5kbGVMb2NrVG9nZ2xlIiwiY3VycmVudFdvcmtEaXIiLCJjb21wb25lbnRXaWxsVW5tb3VudCIsImV4cG9ydHMiLCJQcm9wVHlwZXMiLCJmdW5jIiwiaXNSZXF1aXJlZCIsInN0cmluZyIsImJvb2wiXSwic291cmNlcyI6WyJnaXQtdGFiLWhlYWRlci1jb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IHtDb21wb3NpdGVEaXNwb3NhYmxlfSBmcm9tICdhdG9tJztcbmltcG9ydCB7bnVsbEF1dGhvcn0gZnJvbSAnLi4vbW9kZWxzL2F1dGhvcic7XG5pbXBvcnQgR2l0VGFiSGVhZGVyVmlldyBmcm9tICcuLi92aWV3cy9naXQtdGFiLWhlYWRlci12aWV3JztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR2l0VGFiSGVhZGVyQ29udHJvbGxlciBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIHN0YXRpYyBwcm9wVHlwZXMgPSB7XG4gICAgZ2V0Q29tbWl0dGVyOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxuXG4gICAgLy8gV29ya3NwYWNlXG4gICAgY3VycmVudFdvcmtEaXI6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgZ2V0Q3VycmVudFdvcmtEaXJzOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxuICAgIGNoYW5nZVdvcmtpbmdEaXJlY3Rvcnk6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXG4gICAgY29udGV4dExvY2tlZDogUHJvcFR5cGVzLmJvb2wuaXNSZXF1aXJlZCxcbiAgICBzZXRDb250ZXh0TG9jazogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcblxuICAgIC8vIEV2ZW50IEhhbmRsZXJzXG4gICAgb25EaWRDbGlja0F2YXRhcjogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcbiAgICBvbkRpZENoYW5nZVdvcmtEaXJzOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxuICAgIG9uRGlkVXBkYXRlUmVwbzogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcbiAgfVxuXG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuICAgIHRoaXMuX2lzTW91bnRlZCA9IGZhbHNlO1xuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBjdXJyZW50V29ya0RpcnM6IFtdLFxuICAgICAgY29tbWl0dGVyOiBudWxsQXV0aG9yLFxuICAgICAgY2hhbmdpbmdMb2NrOiBudWxsLFxuICAgICAgY2hhbmdpbmdXb3JrRGlyOiBudWxsLFxuICAgIH07XG4gICAgdGhpcy5kaXNwb3NhYmxlID0gbmV3IENvbXBvc2l0ZURpc3Bvc2FibGUoKTtcbiAgfVxuXG4gIHN0YXRpYyBnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMocHJvcHMpIHtcbiAgICByZXR1cm4ge1xuICAgICAgY3VycmVudFdvcmtEaXJzOiBwcm9wcy5nZXRDdXJyZW50V29ya0RpcnMoKSxcbiAgICB9O1xuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgdGhpcy5faXNNb3VudGVkID0gdHJ1ZTtcbiAgICB0aGlzLmRpc3Bvc2FibGUuYWRkKHRoaXMucHJvcHMub25EaWRDaGFuZ2VXb3JrRGlycyh0aGlzLnJlc2V0V29ya0RpcnMpKTtcbiAgICB0aGlzLmRpc3Bvc2FibGUuYWRkKHRoaXMucHJvcHMub25EaWRVcGRhdGVSZXBvKHRoaXMudXBkYXRlQ29tbWl0dGVyKSk7XG4gICAgdGhpcy51cGRhdGVDb21taXR0ZXIoKTtcbiAgfVxuXG4gIGNvbXBvbmVudERpZFVwZGF0ZShwcmV2UHJvcHMpIHtcbiAgICBpZiAoXG4gICAgICBwcmV2UHJvcHMub25EaWRDaGFuZ2VXb3JrRGlycyAhPT0gdGhpcy5wcm9wcy5vbkRpZENoYW5nZVdvcmtEaXJzXG4gICAgICB8fCBwcmV2UHJvcHMub25EaWRVcGRhdGVSZXBvICE9PSB0aGlzLnByb3BzLm9uRGlkVXBkYXRlUmVwb1xuICAgICkge1xuICAgICAgdGhpcy5kaXNwb3NhYmxlLmRpc3Bvc2UoKTtcbiAgICAgIHRoaXMuZGlzcG9zYWJsZSA9IG5ldyBDb21wb3NpdGVEaXNwb3NhYmxlKCk7XG4gICAgICB0aGlzLmRpc3Bvc2FibGUuYWRkKHRoaXMucHJvcHMub25EaWRDaGFuZ2VXb3JrRGlycyh0aGlzLnJlc2V0V29ya0RpcnMpKTtcbiAgICAgIHRoaXMuZGlzcG9zYWJsZS5hZGQodGhpcy5wcm9wcy5vbkRpZFVwZGF0ZVJlcG8odGhpcy51cGRhdGVDb21taXR0ZXIpKTtcbiAgICB9XG4gICAgaWYgKHByZXZQcm9wcy5nZXRDb21taXR0ZXIgIT09IHRoaXMucHJvcHMuZ2V0Q29tbWl0dGVyKSB7XG4gICAgICB0aGlzLnVwZGF0ZUNvbW1pdHRlcigpO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPEdpdFRhYkhlYWRlclZpZXdcbiAgICAgICAgY29tbWl0dGVyPXt0aGlzLnN0YXRlLmNvbW1pdHRlcn1cblxuICAgICAgICAvLyBXb3Jrc3BhY2VcbiAgICAgICAgd29ya2Rpcj17dGhpcy5nZXRXb3JrRGlyKCl9XG4gICAgICAgIHdvcmtkaXJzPXt0aGlzLnN0YXRlLmN1cnJlbnRXb3JrRGlyc31cbiAgICAgICAgY29udGV4dExvY2tlZD17dGhpcy5nZXRMb2NrZWQoKX1cbiAgICAgICAgY2hhbmdpbmdXb3JrRGlyPXt0aGlzLnN0YXRlLmNoYW5naW5nV29ya0RpciAhPT0gbnVsbH1cbiAgICAgICAgY2hhbmdpbmdMb2NrPXt0aGlzLnN0YXRlLmNoYW5naW5nTG9jayAhPT0gbnVsbH1cblxuICAgICAgICAvLyBFdmVudCBIYW5kbGVyc1xuICAgICAgICBoYW5kbGVBdmF0YXJDbGljaz17dGhpcy5wcm9wcy5vbkRpZENsaWNrQXZhdGFyfVxuICAgICAgICBoYW5kbGVXb3JrRGlyU2VsZWN0PXt0aGlzLmhhbmRsZVdvcmtEaXJTZWxlY3R9XG4gICAgICAgIGhhbmRsZUxvY2tUb2dnbGU9e3RoaXMuaGFuZGxlTG9ja1RvZ2dsZX1cbiAgICAgIC8+XG4gICAgKTtcbiAgfVxuXG4gIGhhbmRsZUxvY2tUb2dnbGUgPSBhc3luYyAoKSA9PiB7XG4gICAgaWYgKHRoaXMuc3RhdGUuY2hhbmdpbmdMb2NrICE9PSBudWxsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgbmV4dExvY2sgPSAhdGhpcy5wcm9wcy5jb250ZXh0TG9ja2VkO1xuICAgIHRyeSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtjaGFuZ2luZ0xvY2s6IG5leHRMb2NrfSk7XG4gICAgICBhd2FpdCB0aGlzLnByb3BzLnNldENvbnRleHRMb2NrKHRoaXMuZ2V0V29ya0RpcigpLCBuZXh0TG9jayk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gdGhpcy5zZXRTdGF0ZSh7Y2hhbmdpbmdMb2NrOiBudWxsfSwgcmVzb2x2ZSkpO1xuICAgIH1cbiAgfVxuXG4gIGhhbmRsZVdvcmtEaXJTZWxlY3QgPSBhc3luYyBlID0+IHtcbiAgICBpZiAodGhpcy5zdGF0ZS5jaGFuZ2luZ1dvcmtEaXIgIT09IG51bGwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBuZXh0V29ya0RpciA9IGUudGFyZ2V0LnZhbHVlO1xuICAgIHRyeSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtjaGFuZ2luZ1dvcmtEaXI6IG5leHRXb3JrRGlyfSk7XG4gICAgICBhd2FpdCB0aGlzLnByb3BzLmNoYW5nZVdvcmtpbmdEaXJlY3RvcnkobmV4dFdvcmtEaXIpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHRoaXMuc2V0U3RhdGUoe2NoYW5naW5nV29ya0RpcjogbnVsbH0sIHJlc29sdmUpKTtcbiAgICB9XG4gIH1cblxuICByZXNldFdvcmtEaXJzID0gKCkgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoKCkgPT4gKHtcbiAgICAgIGN1cnJlbnRXb3JrRGlyczogW10sXG4gICAgfSkpO1xuICB9XG5cbiAgdXBkYXRlQ29tbWl0dGVyID0gYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IGNvbW1pdHRlciA9IGF3YWl0IHRoaXMucHJvcHMuZ2V0Q29tbWl0dGVyKCkgfHwgbnVsbEF1dGhvcjtcbiAgICBpZiAodGhpcy5faXNNb3VudGVkKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtjb21taXR0ZXJ9KTtcbiAgICB9XG4gIH1cblxuICBnZXRXb3JrRGlyKCkge1xuICAgIHJldHVybiB0aGlzLnN0YXRlLmNoYW5naW5nV29ya0RpciAhPT0gbnVsbCA/IHRoaXMuc3RhdGUuY2hhbmdpbmdXb3JrRGlyIDogdGhpcy5wcm9wcy5jdXJyZW50V29ya0RpcjtcbiAgfVxuXG4gIGdldExvY2tlZCgpIHtcbiAgICByZXR1cm4gdGhpcy5zdGF0ZS5jaGFuZ2luZ0xvY2sgIT09IG51bGwgPyB0aGlzLnN0YXRlLmNoYW5naW5nTG9jayA6IHRoaXMucHJvcHMuY29udGV4dExvY2tlZDtcbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgIHRoaXMuX2lzTW91bnRlZCA9IGZhbHNlO1xuICAgIHRoaXMuZGlzcG9zYWJsZS5kaXNwb3NlKCk7XG4gIH1cbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsTUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsVUFBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsS0FBQSxHQUFBRixPQUFBO0FBQ0EsSUFBQUcsT0FBQSxHQUFBSCxPQUFBO0FBQ0EsSUFBQUksaUJBQUEs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