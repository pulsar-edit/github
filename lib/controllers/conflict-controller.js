"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _react = _interopRequireDefault(require("react"));
var _propTypes = _interopRequireDefault(require("prop-types"));
var _electron = require("electron");
var _helpers = require("../helpers");
var _source = require("../models/conflicts/source");
var _decoration = _interopRequireDefault(require("../atom/decoration"));
var _octicon = _interopRequireDefault(require("../atom/octicon"));
function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }
function _toPropertyKey(arg) { var key = _toPrimitive(arg, "string"); return typeof key === "symbol" ? key : String(key); }
function _toPrimitive(input, hint) { if (typeof input !== "object" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || "default"); if (typeof res !== "object") return res; throw new TypeError("@@toPrimitive must return a primitive value."); } return (hint === "string" ? String : Number)(input); }
const {
  Menu,
  MenuItem
} = _electron.remote;
class ConflictController extends _react.default.Component {
  constructor(props, context) {
    super(props, context);
    (0, _helpers.autobind)(this, 'showResolveMenu');
    this.state = {
      chosenSide: this.props.conflict.getChosenSide()
    };
  }
  resolveAsSequence(sources) {
    this.props.resolveAsSequence(sources);
    this.setState({
      chosenSide: this.props.conflict.getChosenSide()
    });
  }
  revert(side) {
    side.isModified() && side.revert();
    side.isBannerModified() && side.revertBanner();
  }
  showResolveMenu(event) {
    event.preventDefault();
    const menu = new Menu();
    menu.append(new MenuItem({
      label: 'Resolve as Ours',
      click: this.resolveAsSequence.bind(this, [_source.OURS])
    }));
    if (this.props.conflict.getSide(_source.BASE)) {
      menu.append(new MenuItem({
        label: 'Resolve as Base',
        click: this.resolveAsSequence.bind(this, [_source.BASE])
      }));
    }
    menu.append(new MenuItem({
      label: 'Resolve as Theirs',
      click: this.resolveAsSequence.bind(this, [_source.THEIRS])
    }));
    menu.append(new MenuItem({
      type: 'separator'
    }));
    menu.append(new MenuItem({
      label: 'Resolve as Ours Then Theirs',
      click: this.resolveAsSequence.bind(this, [_source.OURS, _source.THEIRS])
    }));
    menu.append(new MenuItem({
      label: 'Resolve as Theirs Then Ours',
      click: this.resolveAsSequence.bind(this, [_source.THEIRS, _source.OURS])
    }));
    menu.append(new MenuItem({
      type: 'separator'
    }));
    menu.append(new MenuItem({
      label: 'Dismiss',
      click: this.props.dismiss
    }));
    menu.popup(_electron.remote.getCurrentWindow());
  }
  render() {
    if (!this.state.chosenSide) {
      const ours = this.props.conflict.getSide(_source.OURS);
      const base = this.props.conflict.getSide(_source.BASE);
      const theirs = this.props.conflict.getSide(_source.THEIRS);
      return _react.default.createElement("div", null, this.renderSide(ours), base && this.renderSide(base), _react.default.createElement(_decoration.default, {
        key: this.props.conflict.getSeparator().getMarker().id,
        editor: this.props.editor,
        decorable: this.props.conflict.getSeparator().getMarker(),
        type: "line",
        className: "github-ConflictSeparator"
      }), this.renderSide(theirs));
    } else if (!this.state.chosenSide.isEmpty()) {
      return _react.default.createElement(_decoration.default, {
        editor: this.props.editor,
        decorable: this.state.chosenSide.getMarker(),
        type: "line",
        className: "github-ResolvedLines"
      });
    } else {
      return null;
    }
  }
  renderSide(side) {
    const source = side.getSource();
    return _react.default.createElement("div", null, _react.default.createElement(_decoration.default, {
      key: side.banner.marker.id,
      editor: this.props.editor,
      decorable: side.getBannerMarker(),
      type: "line",
      className: side.getBannerCSSClass()
    }), side.isBannerModified() || _react.default.createElement(_decoration.default, {
      key: 'banner-modified-' + side.banner.marker.id,
      editor: this.props.editor,
      decorable: side.getBannerMarker(),
      type: "line",
      className: "github-ConflictUnmodifiedBanner"
    }), _react.default.createElement(_decoration.default, {
      key: side.marker.id,
      editor: this.props.editor,
      decorable: side.getMarker(),
      type: "line",
      className: side.getLineCSSClass()
    }), _react.default.createElement(_decoration.default, {
      key: 'block-' + side.marker.id,
      editor: this.props.editor,
      decorable: side.getBlockMarker(),
      type: "block",
      position: side.getBlockPosition()
    }, _react.default.createElement("div", {
      className: side.getBlockCSSClasses()
    }, _react.default.createElement("span", {
      className: "github-ResolutionControls"
    }, _react.default.createElement("button", {
      className: "btn btn-sm inline-block",
      onClick: () => this.resolveAsSequence([source])
    }, "Use me"), (side.isModified() || side.isBannerModified()) && _react.default.createElement("button", {
      className: "btn btn-sm inline-block",
      onClick: () => this.revert(side)
    }, "Revert"), _react.default.createElement(_octicon.default, {
      icon: "ellipses",
      className: "inline-block",
      onClick: this.showResolveMenu
    })), _react.default.createElement("span", {
      className: "github-SideDescription"
    }, source.toUIString()))));
  }
}
exports.default = ConflictController;
_defineProperty(ConflictController, "propTypes", {
  editor: _propTypes.default.object.isRequired,
  conflict: _propTypes.default.object.isRequired,
  resolveAsSequence: _propTypes.default.func,
  dismiss: _propTypes.default.func
});
_defineProperty(ConflictController, "defaultProps", {
  resolveAsSequence: sources => {},
  dismiss: () => {}
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmVhY3QiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9wcm9wVHlwZXMiLCJfZWxlY3Ryb24iLCJfaGVscGVycyIsIl9zb3VyY2UiLCJfZGVjb3JhdGlvbiIsIl9vY3RpY29uIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJfZGVmaW5lUHJvcGVydHkiLCJrZXkiLCJ2YWx1ZSIsIl90b1Byb3BlcnR5S2V5IiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiY29uZmlndXJhYmxlIiwid3JpdGFibGUiLCJhcmciLCJfdG9QcmltaXRpdmUiLCJTdHJpbmciLCJpbnB1dCIsImhpbnQiLCJwcmltIiwiU3ltYm9sIiwidG9QcmltaXRpdmUiLCJ1bmRlZmluZWQiLCJyZXMiLCJjYWxsIiwiVHlwZUVycm9yIiwiTnVtYmVyIiwiTWVudSIsIk1lbnVJdGVtIiwicmVtb3RlIiwiQ29uZmxpY3RDb250cm9sbGVyIiwiUmVhY3QiLCJDb21wb25lbnQiLCJjb25zdHJ1Y3RvciIsInByb3BzIiwiY29udGV4dCIsImF1dG9iaW5kIiwic3RhdGUiLCJjaG9zZW5TaWRlIiwiY29uZmxpY3QiLCJnZXRDaG9zZW5TaWRlIiwicmVzb2x2ZUFzU2VxdWVuY2UiLCJzb3VyY2VzIiwic2V0U3RhdGUiLCJyZXZlcnQiLCJzaWRlIiwiaXNNb2RpZmllZCIsImlzQmFubmVyTW9kaWZpZWQiLCJyZXZlcnRCYW5uZXIiLCJzaG93UmVzb2x2ZU1lbnUiLCJldmVudCIsInByZXZlbnREZWZhdWx0IiwibWVudSIsImFwcGVuZCIsImxhYmVsIiwiY2xpY2siLCJiaW5kIiwiT1VSUyIsImdldFNpZGUiLCJCQVNFIiwiVEhFSVJTIiwidHlwZSIsImRpc21pc3MiLCJwb3B1cCIsImdldEN1cnJlbnRXaW5kb3ciLCJyZW5kZXIiLCJvdXJzIiwiYmFzZSIsInRoZWlycyIsImNyZWF0ZUVsZW1lbnQiLCJyZW5kZXJTaWRlIiwiZ2V0U2VwYXJhdG9yIiwiZ2V0TWFya2VyIiwiaWQiLCJlZGl0b3IiLCJkZWNvcmFibGUiLCJjbGFzc05hbWUiLCJpc0VtcHR5Iiwic291cmNlIiwiZ2V0U291cmNlIiwiYmFubmVyIiwibWFya2VyIiwiZ2V0QmFubmVyTWFya2VyIiwiZ2V0QmFubmVyQ1NTQ2xhc3MiLCJnZXRMaW5lQ1NTQ2xhc3MiLCJnZXRCbG9ja01hcmtlciIsInBvc2l0aW9uIiwiZ2V0QmxvY2tQb3NpdGlvbiIsImdldEJsb2NrQ1NTQ2xhc3NlcyIsIm9uQ2xpY2siLCJpY29uIiwidG9VSVN0cmluZyIsImV4cG9ydHMiLCJQcm9wVHlwZXMiLCJvYmplY3QiLCJpc1JlcXVpcmVkIiwiZnVuYyJdLCJzb3VyY2VzIjpbImNvbmZsaWN0LWNvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQge3JlbW90ZX0gZnJvbSAnZWxlY3Ryb24nO1xuY29uc3Qge01lbnUsIE1lbnVJdGVtfSA9IHJlbW90ZTtcblxuaW1wb3J0IHthdXRvYmluZH0gZnJvbSAnLi4vaGVscGVycyc7XG5pbXBvcnQge09VUlMsIEJBU0UsIFRIRUlSU30gZnJvbSAnLi4vbW9kZWxzL2NvbmZsaWN0cy9zb3VyY2UnO1xuaW1wb3J0IERlY29yYXRpb24gZnJvbSAnLi4vYXRvbS9kZWNvcmF0aW9uJztcbmltcG9ydCBPY3RpY29uIGZyb20gJy4uL2F0b20vb2N0aWNvbic7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENvbmZsaWN0Q29udHJvbGxlciBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIHN0YXRpYyBwcm9wVHlwZXMgPSB7XG4gICAgZWRpdG9yOiBQcm9wVHlwZXMub2JqZWN0LmlzUmVxdWlyZWQsXG4gICAgY29uZmxpY3Q6IFByb3BUeXBlcy5vYmplY3QuaXNSZXF1aXJlZCxcbiAgICByZXNvbHZlQXNTZXF1ZW5jZTogUHJvcFR5cGVzLmZ1bmMsXG4gICAgZGlzbWlzczogUHJvcFR5cGVzLmZ1bmMsXG4gIH07XG5cbiAgc3RhdGljIGRlZmF1bHRQcm9wcyA9IHtcbiAgICByZXNvbHZlQXNTZXF1ZW5jZTogc291cmNlcyA9PiB7fSxcbiAgICBkaXNtaXNzOiAoKSA9PiB7fSxcbiAgfVxuXG4gIGNvbnN0cnVjdG9yKHByb3BzLCBjb250ZXh0KSB7XG4gICAgc3VwZXIocHJvcHMsIGNvbnRleHQpO1xuICAgIGF1dG9iaW5kKHRoaXMsICdzaG93UmVzb2x2ZU1lbnUnKTtcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBjaG9zZW5TaWRlOiB0aGlzLnByb3BzLmNvbmZsaWN0LmdldENob3NlblNpZGUoKSxcbiAgICB9O1xuICB9XG5cbiAgcmVzb2x2ZUFzU2VxdWVuY2Uoc291cmNlcykge1xuICAgIHRoaXMucHJvcHMucmVzb2x2ZUFzU2VxdWVuY2Uoc291cmNlcyk7XG5cbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGNob3NlblNpZGU6IHRoaXMucHJvcHMuY29uZmxpY3QuZ2V0Q2hvc2VuU2lkZSgpLFxuICAgIH0pO1xuICB9XG5cbiAgcmV2ZXJ0KHNpZGUpIHtcbiAgICBzaWRlLmlzTW9kaWZpZWQoKSAmJiBzaWRlLnJldmVydCgpO1xuICAgIHNpZGUuaXNCYW5uZXJNb2RpZmllZCgpICYmIHNpZGUucmV2ZXJ0QmFubmVyKCk7XG4gIH1cblxuICBzaG93UmVzb2x2ZU1lbnUoZXZlbnQpIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgY29uc3QgbWVudSA9IG5ldyBNZW51KCk7XG5cbiAgICBtZW51LmFwcGVuZChuZXcgTWVudUl0ZW0oe1xuICAgICAgbGFiZWw6ICdSZXNvbHZlIGFzIE91cnMnLFxuICAgICAgY2xpY2s6IHRoaXMucmVzb2x2ZUFzU2VxdWVuY2UuYmluZCh0aGlzLCBbT1VSU10pLFxuICAgIH0pKTtcblxuICAgIGlmICh0aGlzLnByb3BzLmNvbmZsaWN0LmdldFNpZGUoQkFTRSkpIHtcbiAgICAgIG1lbnUuYXBwZW5kKG5ldyBNZW51SXRlbSh7XG4gICAgICAgIGxhYmVsOiAnUmVzb2x2ZSBhcyBCYXNlJyxcbiAgICAgICAgY2xpY2s6IHRoaXMucmVzb2x2ZUFzU2VxdWVuY2UuYmluZCh0aGlzLCBbQkFTRV0pLFxuICAgICAgfSkpO1xuICAgIH1cblxuICAgIG1lbnUuYXBwZW5kKG5ldyBNZW51SXRlbSh7XG4gICAgICBsYWJlbDogJ1Jlc29sdmUgYXMgVGhlaXJzJyxcbiAgICAgIGNsaWNrOiB0aGlzLnJlc29sdmVBc1NlcXVlbmNlLmJpbmQodGhpcywgW1RIRUlSU10pLFxuICAgIH0pKTtcblxuICAgIG1lbnUuYXBwZW5kKG5ldyBNZW51SXRlbSh7dHlwZTogJ3NlcGFyYXRvcid9KSk7XG5cbiAgICBtZW51LmFwcGVuZChuZXcgTWVudUl0ZW0oe1xuICAgICAgbGFiZWw6ICdSZXNvbHZlIGFzIE91cnMgVGhlbiBUaGVpcnMnLFxuICAgICAgY2xpY2s6IHRoaXMucmVzb2x2ZUFzU2VxdWVuY2UuYmluZCh0aGlzLCBbT1VSUywgVEhFSVJTXSksXG4gICAgfSkpO1xuICAgIG1lbnUuYXBwZW5kKG5ldyBNZW51SXRlbSh7XG4gICAgICBsYWJlbDogJ1Jlc29sdmUgYXMgVGhlaXJzIFRoZW4gT3VycycsXG4gICAgICBjbGljazogdGhpcy5yZXNvbHZlQXNTZXF1ZW5jZS5iaW5kKHRoaXMsIFtUSEVJUlMsIE9VUlNdKSxcbiAgICB9KSk7XG5cbiAgICBtZW51LmFwcGVuZChuZXcgTWVudUl0ZW0oe3R5cGU6ICdzZXBhcmF0b3InfSkpO1xuXG4gICAgbWVudS5hcHBlbmQobmV3IE1lbnVJdGVtKHtcbiAgICAgIGxhYmVsOiAnRGlzbWlzcycsXG4gICAgICBjbGljazogdGhpcy5wcm9wcy5kaXNtaXNzLFxuICAgIH0pKTtcblxuICAgIG1lbnUucG9wdXAocmVtb3RlLmdldEN1cnJlbnRXaW5kb3coKSk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgaWYgKCF0aGlzLnN0YXRlLmNob3NlblNpZGUpIHtcbiAgICAgIGNvbnN0IG91cnMgPSB0aGlzLnByb3BzLmNvbmZsaWN0LmdldFNpZGUoT1VSUyk7XG4gICAgICBjb25zdCBiYXNlID0gdGhpcy5wcm9wcy5jb25mbGljdC5nZXRTaWRlKEJBU0UpO1xuICAgICAgY29uc3QgdGhlaXJzID0gdGhpcy5wcm9wcy5jb25mbGljdC5nZXRTaWRlKFRIRUlSUyk7XG5cbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxkaXY+XG4gICAgICAgICAge3RoaXMucmVuZGVyU2lkZShvdXJzKX1cbiAgICAgICAgICB7YmFzZSAmJiB0aGlzLnJlbmRlclNpZGUoYmFzZSl9XG4gICAgICAgICAgPERlY29yYXRpb25cbiAgICAgICAgICAgIGtleT17dGhpcy5wcm9wcy5jb25mbGljdC5nZXRTZXBhcmF0b3IoKS5nZXRNYXJrZXIoKS5pZH1cbiAgICAgICAgICAgIGVkaXRvcj17dGhpcy5wcm9wcy5lZGl0b3J9XG4gICAgICAgICAgICBkZWNvcmFibGU9e3RoaXMucHJvcHMuY29uZmxpY3QuZ2V0U2VwYXJhdG9yKCkuZ2V0TWFya2VyKCl9XG4gICAgICAgICAgICB0eXBlPVwibGluZVwiXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJnaXRodWItQ29uZmxpY3RTZXBhcmF0b3JcIlxuICAgICAgICAgIC8+XG4gICAgICAgICAge3RoaXMucmVuZGVyU2lkZSh0aGVpcnMpfVxuICAgICAgICA8L2Rpdj5cbiAgICAgICk7XG4gICAgfSBlbHNlIGlmICghdGhpcy5zdGF0ZS5jaG9zZW5TaWRlLmlzRW1wdHkoKSkge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPERlY29yYXRpb25cbiAgICAgICAgICBlZGl0b3I9e3RoaXMucHJvcHMuZWRpdG9yfVxuICAgICAgICAgIGRlY29yYWJsZT17dGhpcy5zdGF0ZS5jaG9zZW5TaWRlLmdldE1hcmtlcigpfVxuICAgICAgICAgIHR5cGU9XCJsaW5lXCJcbiAgICAgICAgICBjbGFzc05hbWU9XCJnaXRodWItUmVzb2x2ZWRMaW5lc1wiXG4gICAgICAgIC8+XG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICByZW5kZXJTaWRlKHNpZGUpIHtcbiAgICBjb25zdCBzb3VyY2UgPSBzaWRlLmdldFNvdXJjZSgpO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXY+XG4gICAgICAgIDxEZWNvcmF0aW9uXG4gICAgICAgICAga2V5PXtzaWRlLmJhbm5lci5tYXJrZXIuaWR9XG4gICAgICAgICAgZWRpdG9yPXt0aGlzLnByb3BzLmVkaXRvcn1cbiAgICAgICAgICBkZWNvcmFibGU9e3NpZGUuZ2V0QmFubmVyTWFya2VyKCl9XG4gICAgICAgICAgdHlwZT1cImxpbmVcIlxuICAgICAgICAgIGNsYXNzTmFtZT17c2lkZS5nZXRCYW5uZXJDU1NDbGFzcygpfVxuICAgICAgICAvPlxuICAgICAgICB7c2lkZS5pc0Jhbm5lck1vZGlmaWVkKCkgfHxcbiAgICAgICAgICA8RGVjb3JhdGlvblxuICAgICAgICAgICAga2V5PXsnYmFubmVyLW1vZGlmaWVkLScgKyBzaWRlLmJhbm5lci5tYXJrZXIuaWR9XG4gICAgICAgICAgICBlZGl0b3I9e3RoaXMucHJvcHMuZWRpdG9yfVxuICAgICAgICAgICAgZGVjb3JhYmxlPXtzaWRlLmdldEJhbm5lck1hcmtlcigpfVxuICAgICAgICAgICAgdHlwZT1cImxpbmVcIlxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiZ2l0aHViLUNvbmZsaWN0VW5tb2RpZmllZEJhbm5lclwiXG4gICAgICAgICAgLz5cbiAgICAgICAgfVxuICAgICAgICA8RGVjb3JhdGlvblxuICAgICAgICAgIGtleT17c2lkZS5tYXJrZXIuaWR9XG4gICAgICAgICAgZWRpdG9yPXt0aGlzLnByb3BzLmVkaXRvcn1cbiAgICAgICAgICBkZWNvcmFibGU9e3NpZGUuZ2V0TWFya2VyKCl9XG4gICAgICAgICAgdHlwZT1cImxpbmVcIlxuICAgICAgICAgIGNsYXNzTmFtZT17c2lkZS5nZXRMaW5lQ1NTQ2xhc3MoKX1cbiAgICAgICAgLz5cbiAgICAgICAgPERlY29yYXRpb25cbiAgICAgICAgICBrZXk9eydibG9jay0nICsgc2lkZS5tYXJrZXIuaWR9XG4gICAgICAgICAgZWRpdG9yPXt0aGlzLnByb3BzLmVkaXRvcn1cbiAgICAgICAgICBkZWNvcmFibGU9e3NpZGUuZ2V0QmxvY2tNYXJrZXIoKX1cbiAgICAgICAgICB0eXBlPVwiYmxvY2tcIlxuICAgICAgICAgIHBvc2l0aW9uPXtzaWRlLmdldEJsb2NrUG9zaXRpb24oKX0+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9e3NpZGUuZ2V0QmxvY2tDU1NDbGFzc2VzKCl9PlxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZ2l0aHViLVJlc29sdXRpb25Db250cm9sc1wiPlxuICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImJ0biBidG4tc20gaW5saW5lLWJsb2NrXCIgb25DbGljaz17KCkgPT4gdGhpcy5yZXNvbHZlQXNTZXF1ZW5jZShbc291cmNlXSl9PlxuICAgICAgICAgICAgICAgIFVzZSBtZVxuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgeyhzaWRlLmlzTW9kaWZpZWQoKSB8fCBzaWRlLmlzQmFubmVyTW9kaWZpZWQoKSkgJiZcbiAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImJ0biBidG4tc20gaW5saW5lLWJsb2NrXCIgb25DbGljaz17KCkgPT4gdGhpcy5yZXZlcnQoc2lkZSl9PlxuICAgICAgICAgICAgICAgICAgUmV2ZXJ0XG4gICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgPE9jdGljb24gaWNvbj1cImVsbGlwc2VzXCIgY2xhc3NOYW1lPVwiaW5saW5lLWJsb2NrXCIgb25DbGljaz17dGhpcy5zaG93UmVzb2x2ZU1lbnV9IC8+XG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJnaXRodWItU2lkZURlc2NyaXB0aW9uXCI+e3NvdXJjZS50b1VJU3RyaW5nKCl9PC9zcGFuPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L0RlY29yYXRpb24+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG59XG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLE1BQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLFVBQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFFLFNBQUEsR0FBQUYsT0FBQTtBQUdBLElBQUFHLFFBQUEsR0FBQUgsT0FBQTtBQUNBLElBQUFJLE9BQUEsR0FBQUosT0FBQTtBQUNBLElBQUFLLFdBQUEsR0FBQU4sc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFNLFFBQUEsR0FBQVAsc0JBQUEsQ0FBQUMsT0FBQTtBQUFzQyxTQUFBRCx1QkFBQVEsR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLEtBQUFFLE9BQUEsRUFBQUYsR0FBQTtBQUFBLFNBQUFHLGdCQUFBSCxHQUFBLEVBQUFJLEdBQUEsRUFBQUMsS0FBQSxJQUFBRCxHQUFBLEdBQUFFLGNBQUEsQ0FBQUYsR0FBQSxPQUFBQSxHQUFBLElBQUFKLEdBQUEsSUFBQU8sTUFBQSxDQUFBQyxjQUFBLENBQUFSLEdBQUEsRUFBQUksR0FBQSxJQUFBQyxLQUFBLEVBQUFBLEtBQUEsRUFBQUksVUFBQSxRQUFBQyxZQUFBLFFBQUFDLFFBQUEsb0JBQUFYLEdBQUEsQ0FBQUksR0FBQSxJQUFBQyxLQUFBLFdBQUFMLEdBQUE7QUFBQSxTQUFBTSxlQUFBTSxHQUFBLFFBQUFSLEdBQUEsR0FBQVMsWUFBQSxDQUFBRCxHQUFBLDJCQUFBUixHQUFBLGdCQUFBQSxHQUFBLEdBQUFVLE1BQUEsQ0FBQVYsR0FBQTtBQUFBLFNBQUFTLGFBQUFFLEtBQUEsRUFBQUMsSUFBQSxlQUFBRCxLQUFBLGlCQUFBQSxLQUFBLGtCQUFBQSxLQUFBLE1BQUFFLElBQUEsR0FB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