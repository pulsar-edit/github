"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _eventKit = require("event-kit");
var _react = _interopRequireDefault(require("react"));
var _propTypes = _interopRequireDefault(require("prop-types"));
var _compareSets = _interopRequireDefault(require("compare-sets"));
var _commands = _interopRequireWildcard(require("../atom/commands"));
var _conflict = _interopRequireDefault(require("../models/conflicts/conflict"));
var _conflictController = _interopRequireDefault(require("./conflict-controller"));
var _source = require("../models/conflicts/source");
var _helpers = require("../helpers");
function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }
function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }
function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }
function _toPropertyKey(arg) { var key = _toPrimitive(arg, "string"); return typeof key === "symbol" ? key : String(key); }
function _toPrimitive(input, hint) { if (typeof input !== "object" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || "default"); if (typeof res !== "object") return res; throw new TypeError("@@toPrimitive must return a primitive value."); } return (hint === "string" ? String : Number)(input); }
/**
 * Render a `ConflictController` for each conflict marker within an open TextEditor.
 */
class EditorConflictController extends _react.default.Component {
  constructor(props, context) {
    super(props, context);
    (0, _helpers.autobind)(this, 'resolveAsCurrent', 'revertConflictModifications', 'dismissCurrent');

    // this.layer = props.editor.addMarkerLayer({
    //   maintainHistory: true,
    //   persistent: false,
    // });

    this.layer = props.editor.getDefaultMarkerLayer();
    this.state = {
      conflicts: new Set(_conflict.default.allFromEditor(props.editor, this.layer, props.isRebase))
    };
    this.subscriptions = new _eventKit.CompositeDisposable();
    this.updateMarkerCount();
  }
  componentDidMount() {
    const buffer = this.props.editor.getBuffer();
    this.subscriptions.add(this.props.editor.onDidDestroy(() => this.props.refreshResolutionProgress(this.props.editor.getPath())), buffer.onDidReload(() => this.reparseConflicts()));
    this.scrollToFirstConflict();
  }
  render() {
    this.updateMarkerCount();
    return _react.default.createElement("div", null, this.state.conflicts.size > 0 && _react.default.createElement(_commands.default, {
      registry: this.props.commands,
      target: "atom-text-editor"
    }, _react.default.createElement(_commands.Command, {
      command: "github:resolve-as-ours",
      callback: this.getResolverUsing([_source.OURS])
    }), _react.default.createElement(_commands.Command, {
      command: "github:resolve-as-theirs",
      callback: this.getResolverUsing([_source.THEIRS])
    }), _react.default.createElement(_commands.Command, {
      command: "github:resolve-as-base",
      callback: this.getResolverUsing([_source.BASE])
    }), _react.default.createElement(_commands.Command, {
      command: "github:resolve-as-ours-then-theirs",
      callback: this.getResolverUsing([_source.OURS, _source.THEIRS])
    }), _react.default.createElement(_commands.Command, {
      command: "github:resolve-as-theirs-then-ours",
      callback: this.getResolverUsing([_source.THEIRS, _source.OURS])
    }), _react.default.createElement(_commands.Command, {
      command: "github:resolve-as-current",
      callback: this.resolveAsCurrent
    }), _react.default.createElement(_commands.Command, {
      command: "github:revert-conflict-modifications",
      callback: this.revertConflictModifications
    }), _react.default.createElement(_commands.Command, {
      command: "github:dismiss-conflict",
      callback: this.dismissCurrent
    })), Array.from(this.state.conflicts, c => _react.default.createElement(_conflictController.default, {
      key: c.getKey(),
      editor: this.props.editor,
      conflict: c,
      resolveAsSequence: sources => this.resolveAsSequence(c, sources),
      dismiss: () => this.dismissConflicts([c])
    })));
  }
  componentWillUnmount() {
    // this.layer.destroy();
    this.subscriptions.dispose();
  }

  /*
   * Return an Array containing `Conflict` objects whose marked regions include any cursor position in the current
   * `TextEditor` and the `Sides` that contain a cursor within each.
   *
   * This method is written to have linear complexity with respect to the number of cursors and the number of
   * conflicts, to gracefully handle files with large numbers of both.
   */
  getCurrentConflicts() {
    const cursorPositions = this.props.editor.getCursorBufferPositions();
    cursorPositions.sort((a, b) => a.compare(b));
    const cursorIterator = cursorPositions[Symbol.iterator]();
    const conflictIterator = this.state.conflicts.keys();
    let currentCursor = cursorIterator.next();
    let currentConflict = conflictIterator.next();
    const activeConflicts = [];
    while (!currentCursor.done && !currentConflict.done) {
      // Advance currentCursor to the first cursor beyond the earliest conflict.
      const earliestConflictPosition = currentConflict.value.getRange().start;
      while (!currentCursor.done && currentCursor.value.isLessThan(earliestConflictPosition)) {
        currentCursor = cursorIterator.next();
      }

      // Advance currentConflict until the first conflict that begins at a position after the current cursor.
      // Compare each to the current cursor, and add it to activeConflicts if it contains it.
      while (!currentConflict.done && !currentCursor.done && currentConflict.value.getRange().start.isLessThan(currentCursor.value)) {
        if (currentConflict.value.includesPoint(currentCursor.value)) {
          // Hit; determine which sides of this conflict contain cursors.
          const conflict = currentConflict.value;
          const endPosition = conflict.getRange().end;
          const sides = new Set();
          while (!currentCursor.done && currentCursor.value.isLessThan(endPosition)) {
            const side = conflict.getSideContaining(currentCursor.value);
            if (side) {
              sides.add(side);
            }
            currentCursor = cursorIterator.next();
          }
          activeConflicts.push({
            conflict,
            sides
          });
        }
        currentConflict = conflictIterator.next();
      }
    }
    return activeConflicts;
  }
  getResolverUsing(sequence) {
    return () => {
      this.getCurrentConflicts().forEach(match => this.resolveAsSequence(match.conflict, sequence));
    };
  }
  resolveAsCurrent() {
    this.getCurrentConflicts().forEach(match => {
      if (match.sides.size === 1) {
        const side = match.sides.keys().next().value;
        this.resolveAs(match.conflict, side.getSource());
      }
    });
  }
  revertConflictModifications() {
    this.getCurrentConflicts().forEach(match => {
      match.sides.forEach(side => {
        side.isModified() && side.revert();
        side.isBannerModified() && side.revertBanner();
      });
    });
  }
  dismissCurrent() {
    this.dismissConflicts(this.getCurrentConflicts().map(match => match.conflict));
  }
  dismissConflicts(conflicts) {
    this.setState(prevState => {
      const {
        added
      } = (0, _compareSets.default)(new Set(conflicts), prevState.conflicts);
      return {
        conflicts: added
      };
    });
  }
  resolveAsSequence(conflict, sources) {
    const [firstSide, ...restOfSides] = sources.map(source => conflict.getSide(source)).filter(side => side);
    const textToAppend = restOfSides.map(side => side.getText()).join('');
    this.props.editor.transact(() => {
      // Append text from all but the first Side to the first Side. Adjust the following DisplayMarker so that only that
      // Side's marker includes the appended text, not the next one.
      const appendedRange = firstSide.appendText(textToAppend);
      const nextMarker = conflict.markerAfter(firstSide.getPosition());
      if (nextMarker) {
        nextMarker.setTailBufferPosition(appendedRange.end);
      }
      this.innerResolveAs(conflict, sources[0]);
    });
  }
  resolveAs(conflict, source) {
    this.props.editor.transact(() => {
      this.innerResolveAs(conflict, source);
    });
  }
  innerResolveAs(conflict, source) {
    conflict.resolveAs(source);
    const chosenSide = conflict.getChosenSide();
    if (!chosenSide.isBannerModified()) {
      chosenSide.deleteBanner();
    }
    const separator = conflict.getSeparator();
    if (!separator.isModified()) {
      separator.delete();
    }
    conflict.getUnchosenSides().forEach(side => {
      side.deleteBanner();
      side.delete();
    });
    this.updateMarkerCount();
  }
  scrollToFirstConflict() {
    let firstConflict = null;
    for (const conflict of this.state.conflicts) {
      if (firstConflict == null || firstConflict.getRange().compare(conflict.getRange()) > 0) {
        firstConflict = conflict;
      }
    }
    if (firstConflict) {
      this.props.editor.scrollToBufferPosition(firstConflict.getRange().start, {
        center: true
      });
    }
  }
  reparseConflicts() {
    const newConflicts = new Set(_conflict.default.allFromEditor(this.props.editor, this.layer, this.props.isRebase));
    this.setState({
      conflicts: newConflicts
    });
  }
  updateMarkerCount() {
    this.props.resolutionProgress.reportMarkerCount(this.props.editor.getPath(), Array.from(this.state.conflicts, c => !c.isResolved()).filter(b => b).length);
  }
}
exports.default = EditorConflictController;
_defineProperty(EditorConflictController, "propTypes", {
  editor: _propTypes.default.object.isRequired,
  commands: _propTypes.default.object.isRequired,
  resolutionProgress: _propTypes.default.object.isRequired,
  isRebase: _propTypes.default.bool.isRequired,
  refreshResolutionProgress: _propTypes.default.func.isRequired
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXZlbnRLaXQiLCJyZXF1aXJlIiwiX3JlYWN0IiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsIl9wcm9wVHlwZXMiLCJfY29tcGFyZVNldHMiLCJfY29tbWFuZHMiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsIl9jb25mbGljdCIsIl9jb25mbGljdENvbnRyb2xsZXIiLCJfc291cmNlIiwiX2hlbHBlcnMiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJub2RlSW50ZXJvcCIsIldlYWtNYXAiLCJjYWNoZUJhYmVsSW50ZXJvcCIsImNhY2hlTm9kZUludGVyb3AiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsImNhY2hlIiwiaGFzIiwiZ2V0IiwibmV3T2JqIiwiaGFzUHJvcGVydHlEZXNjcmlwdG9yIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJrZXkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJkZXNjIiwic2V0IiwiX2RlZmluZVByb3BlcnR5IiwidmFsdWUiLCJfdG9Qcm9wZXJ0eUtleSIsImVudW1lcmFibGUiLCJjb25maWd1cmFibGUiLCJ3cml0YWJsZSIsImFyZyIsIl90b1ByaW1pdGl2ZSIsIlN0cmluZyIsImlucHV0IiwiaGludCIsInByaW0iLCJTeW1ib2wiLCJ0b1ByaW1pdGl2ZSIsInVuZGVmaW5lZCIsInJlcyIsIlR5cGVFcnJvciIsIk51bWJlciIsIkVkaXRvckNvbmZsaWN0Q29udHJvbGxlciIsIlJlYWN0IiwiQ29tcG9uZW50IiwiY29uc3RydWN0b3IiLCJwcm9wcyIsImNvbnRleHQiLCJhdXRvYmluZCIsImxheWVyIiwiZWRpdG9yIiwiZ2V0RGVmYXVsdE1hcmtlckxheWVyIiwic3RhdGUiLCJjb25mbGljdHMiLCJTZXQiLCJDb25mbGljdCIsImFsbEZyb21FZGl0b3IiLCJpc1JlYmFzZSIsInN1YnNjcmlwdGlvbnMiLCJDb21wb3NpdGVEaXNwb3NhYmxlIiwidXBkYXRlTWFya2VyQ291bnQiLCJjb21wb25lbnREaWRNb3VudCIsImJ1ZmZlciIsImdldEJ1ZmZlciIsImFkZCIsIm9uRGlkRGVzdHJveSIsInJlZnJlc2hSZXNvbHV0aW9uUHJvZ3Jlc3MiLCJnZXRQYXRoIiwib25EaWRSZWxvYWQiLCJyZXBhcnNlQ29uZmxpY3RzIiwic2Nyb2xsVG9GaXJzdENvbmZsaWN0IiwicmVuZGVyIiwiY3JlYXRlRWxlbWVudCIsInNpemUiLCJyZWdpc3RyeSIsImNvbW1hbmRzIiwidGFyZ2V0IiwiQ29tbWFuZCIsImNvbW1hbmQiLCJjYWxsYmFjayIsImdldFJlc29sdmVyVXNpbmciLCJPVVJTIiwiVEhFSVJTIiwiQkFTRSIsInJlc29sdmVBc0N1cnJlbnQiLCJyZXZlcnRDb25mbGljdE1vZGlmaWNhdGlvbnMiLCJkaXNtaXNzQ3VycmVudCIsIkFycmF5IiwiZnJvbSIsImMiLCJnZXRLZXkiLCJjb25mbGljdCIsInJlc29sdmVBc1NlcXVlbmNlIiwic291cmNlcyIsImRpc21pc3MiLCJkaXNtaXNzQ29uZmxpY3RzIiwiY29tcG9uZW50V2lsbFVubW91bnQiLCJkaXNwb3NlIiwiZ2V0Q3VycmVudENvbmZsaWN0cyIsImN1cnNvclBvc2l0aW9ucyIsImdldEN1cnNvckJ1ZmZlclBvc2l0aW9ucyIsInNvcnQiLCJhIiwiYiIsImNvbXBhcmUiLCJjdXJzb3JJdGVyYXRvciIsIml0ZXJhdG9yIiwiY29uZmxpY3RJdGVyYXRvciIsImtleXMiLCJjdXJyZW50Q3Vyc29yIiwibmV4dCIsImN1cnJlbnRDb25mbGljdCIsImFjdGl2ZUNvbmZsaWN0cyIsImRvbmUiLCJlYXJsaWVzdENvbmZsaWN0UG9zaXRpb24iLCJnZXRSYW5nZSIsInN0YXJ0IiwiaXNMZXNzVGhhbiIsImluY2x1ZGVzUG9pbnQiLCJlbmRQb3NpdGlvbiIsImVuZCIsInNpZGVzIiwic2lkZSIsImdldFNpZGVDb250YWluaW5nIiwicHVzaCIsInNlcXVlbmNlIiwiZm9yRWFjaCIsIm1hdGNoIiwicmVzb2x2ZUFzIiwiZ2V0U291cmNlIiwiaXNNb2RpZmllZCIsInJldmVydCIsImlzQmFubmVyTW9kaWZpZWQiLCJyZXZlcnRCYW5uZXIiLCJtYXAiLCJzZXRTdGF0ZSIsInByZXZTdGF0ZSIsImFkZGVkIiwiY29tcGFyZVNldHMiLCJmaXJzdFNpZGUiLCJyZXN0T2ZTaWRlcyIsInNvdXJjZSIsImdldFNpZGUiLCJmaWx0ZXIiLCJ0ZXh0VG9BcHBlbmQiLCJnZXRUZXh0Iiwiam9pbiIsInRyYW5zYWN0IiwiYXBwZW5kZWRSYW5nZSIsImFwcGVuZFRleHQiLCJuZXh0TWFya2VyIiwibWFya2VyQWZ0ZXIiLCJnZXRQb3NpdGlvbiIsInNldFRhaWxCdWZmZXJQb3NpdGlvbiIsImlubmVyUmVzb2x2ZUFzIiwiY2hvc2VuU2lkZSIsImdldENob3NlblNpZGUiLCJkZWxldGVCYW5uZXIiLCJzZXBhcmF0b3IiLCJnZXRTZXBhcmF0b3IiLCJkZWxldGUiLCJnZXRVbmNob3NlblNpZGVzIiwiZmlyc3RDb25mbGljdCIsInNjcm9sbFRvQnVmZmVyUG9zaXRpb24iLCJjZW50ZXIiLCJuZXdDb25mbGljdHMiLCJyZXNvbHV0aW9uUHJvZ3Jlc3MiLCJyZXBvcnRNYXJrZXJDb3VudCIsImlzUmVzb2x2ZWQiLCJsZW5ndGgiLCJleHBvcnRzIiwiUHJvcFR5cGVzIiwib2JqZWN0IiwiaXNSZXF1aXJlZCIsImJvb2wiLCJmdW5jIl0sInNvdXJjZXMiOlsiZWRpdG9yLWNvbmZsaWN0LWNvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtDb21wb3NpdGVEaXNwb3NhYmxlfSBmcm9tICdldmVudC1raXQnO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgY29tcGFyZVNldHMgZnJvbSAnY29tcGFyZS1zZXRzJztcblxuaW1wb3J0IENvbW1hbmRzLCB7Q29tbWFuZH0gZnJvbSAnLi4vYXRvbS9jb21tYW5kcyc7XG5pbXBvcnQgQ29uZmxpY3QgZnJvbSAnLi4vbW9kZWxzL2NvbmZsaWN0cy9jb25mbGljdCc7XG5pbXBvcnQgQ29uZmxpY3RDb250cm9sbGVyIGZyb20gJy4vY29uZmxpY3QtY29udHJvbGxlcic7XG5pbXBvcnQge09VUlMsIFRIRUlSUywgQkFTRX0gZnJvbSAnLi4vbW9kZWxzL2NvbmZsaWN0cy9zb3VyY2UnO1xuaW1wb3J0IHthdXRvYmluZH0gZnJvbSAnLi4vaGVscGVycyc7XG5cbi8qKlxuICogUmVuZGVyIGEgYENvbmZsaWN0Q29udHJvbGxlcmAgZm9yIGVhY2ggY29uZmxpY3QgbWFya2VyIHdpdGhpbiBhbiBvcGVuIFRleHRFZGl0b3IuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEVkaXRvckNvbmZsaWN0Q29udHJvbGxlciBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIHN0YXRpYyBwcm9wVHlwZXMgPSB7XG4gICAgZWRpdG9yOiBQcm9wVHlwZXMub2JqZWN0LmlzUmVxdWlyZWQsXG4gICAgY29tbWFuZHM6IFByb3BUeXBlcy5vYmplY3QuaXNSZXF1aXJlZCxcbiAgICByZXNvbHV0aW9uUHJvZ3Jlc3M6IFByb3BUeXBlcy5vYmplY3QuaXNSZXF1aXJlZCxcbiAgICBpc1JlYmFzZTogUHJvcFR5cGVzLmJvb2wuaXNSZXF1aXJlZCxcbiAgICByZWZyZXNoUmVzb2x1dGlvblByb2dyZXNzOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxuICB9XG5cbiAgY29uc3RydWN0b3IocHJvcHMsIGNvbnRleHQpIHtcbiAgICBzdXBlcihwcm9wcywgY29udGV4dCk7XG4gICAgYXV0b2JpbmQodGhpcywgJ3Jlc29sdmVBc0N1cnJlbnQnLCAncmV2ZXJ0Q29uZmxpY3RNb2RpZmljYXRpb25zJywgJ2Rpc21pc3NDdXJyZW50Jyk7XG5cbiAgICAvLyB0aGlzLmxheWVyID0gcHJvcHMuZWRpdG9yLmFkZE1hcmtlckxheWVyKHtcbiAgICAvLyAgIG1haW50YWluSGlzdG9yeTogdHJ1ZSxcbiAgICAvLyAgIHBlcnNpc3RlbnQ6IGZhbHNlLFxuICAgIC8vIH0pO1xuXG4gICAgdGhpcy5sYXllciA9IHByb3BzLmVkaXRvci5nZXREZWZhdWx0TWFya2VyTGF5ZXIoKTtcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBjb25mbGljdHM6IG5ldyBTZXQoQ29uZmxpY3QuYWxsRnJvbUVkaXRvcihwcm9wcy5lZGl0b3IsIHRoaXMubGF5ZXIsIHByb3BzLmlzUmViYXNlKSksXG4gICAgfTtcblxuICAgIHRoaXMuc3Vic2NyaXB0aW9ucyA9IG5ldyBDb21wb3NpdGVEaXNwb3NhYmxlKCk7XG5cbiAgICB0aGlzLnVwZGF0ZU1hcmtlckNvdW50KCk7XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICBjb25zdCBidWZmZXIgPSB0aGlzLnByb3BzLmVkaXRvci5nZXRCdWZmZXIoKTtcblxuICAgIHRoaXMuc3Vic2NyaXB0aW9ucy5hZGQoXG4gICAgICB0aGlzLnByb3BzLmVkaXRvci5vbkRpZERlc3Ryb3koKCkgPT4gdGhpcy5wcm9wcy5yZWZyZXNoUmVzb2x1dGlvblByb2dyZXNzKHRoaXMucHJvcHMuZWRpdG9yLmdldFBhdGgoKSkpLFxuICAgICAgYnVmZmVyLm9uRGlkUmVsb2FkKCgpID0+IHRoaXMucmVwYXJzZUNvbmZsaWN0cygpKSxcbiAgICApO1xuXG4gICAgdGhpcy5zY3JvbGxUb0ZpcnN0Q29uZmxpY3QoKTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICB0aGlzLnVwZGF0ZU1hcmtlckNvdW50KCk7XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdj5cbiAgICAgICAge3RoaXMuc3RhdGUuY29uZmxpY3RzLnNpemUgPiAwICYmIChcbiAgICAgICAgICA8Q29tbWFuZHMgcmVnaXN0cnk9e3RoaXMucHJvcHMuY29tbWFuZHN9IHRhcmdldD1cImF0b20tdGV4dC1lZGl0b3JcIj5cbiAgICAgICAgICAgIDxDb21tYW5kIGNvbW1hbmQ9XCJnaXRodWI6cmVzb2x2ZS1hcy1vdXJzXCIgY2FsbGJhY2s9e3RoaXMuZ2V0UmVzb2x2ZXJVc2luZyhbT1VSU10pfSAvPlxuICAgICAgICAgICAgPENvbW1hbmQgY29tbWFuZD1cImdpdGh1YjpyZXNvbHZlLWFzLXRoZWlyc1wiIGNhbGxiYWNrPXt0aGlzLmdldFJlc29sdmVyVXNpbmcoW1RIRUlSU10pfSAvPlxuICAgICAgICAgICAgPENvbW1hbmQgY29tbWFuZD1cImdpdGh1YjpyZXNvbHZlLWFzLWJhc2VcIiBjYWxsYmFjaz17dGhpcy5nZXRSZXNvbHZlclVzaW5nKFtCQVNFXSl9IC8+XG4gICAgICAgICAgICA8Q29tbWFuZCBjb21tYW5kPVwiZ2l0aHViOnJlc29sdmUtYXMtb3Vycy10aGVuLXRoZWlyc1wiIGNhbGxiYWNrPXt0aGlzLmdldFJlc29sdmVyVXNpbmcoW09VUlMsIFRIRUlSU10pfSAvPlxuICAgICAgICAgICAgPENvbW1hbmQgY29tbWFuZD1cImdpdGh1YjpyZXNvbHZlLWFzLXRoZWlycy10aGVuLW91cnNcIiBjYWxsYmFjaz17dGhpcy5nZXRSZXNvbHZlclVzaW5nKFtUSEVJUlMsIE9VUlNdKX0gLz5cbiAgICAgICAgICAgIDxDb21tYW5kIGNvbW1hbmQ9XCJnaXRodWI6cmVzb2x2ZS1hcy1jdXJyZW50XCIgY2FsbGJhY2s9e3RoaXMucmVzb2x2ZUFzQ3VycmVudH0gLz5cbiAgICAgICAgICAgIDxDb21tYW5kIGNvbW1hbmQ9XCJnaXRodWI6cmV2ZXJ0LWNvbmZsaWN0LW1vZGlmaWNhdGlvbnNcIiBjYWxsYmFjaz17dGhpcy5yZXZlcnRDb25mbGljdE1vZGlmaWNhdGlvbnN9IC8+XG4gICAgICAgICAgICA8Q29tbWFuZCBjb21tYW5kPVwiZ2l0aHViOmRpc21pc3MtY29uZmxpY3RcIiBjYWxsYmFjaz17dGhpcy5kaXNtaXNzQ3VycmVudH0gLz5cbiAgICAgICAgICA8L0NvbW1hbmRzPlxuICAgICAgICApfVxuICAgICAgICB7QXJyYXkuZnJvbSh0aGlzLnN0YXRlLmNvbmZsaWN0cywgYyA9PiAoXG4gICAgICAgICAgPENvbmZsaWN0Q29udHJvbGxlclxuICAgICAgICAgICAga2V5PXtjLmdldEtleSgpfVxuICAgICAgICAgICAgZWRpdG9yPXt0aGlzLnByb3BzLmVkaXRvcn1cbiAgICAgICAgICAgIGNvbmZsaWN0PXtjfVxuICAgICAgICAgICAgcmVzb2x2ZUFzU2VxdWVuY2U9e3NvdXJjZXMgPT4gdGhpcy5yZXNvbHZlQXNTZXF1ZW5jZShjLCBzb3VyY2VzKX1cbiAgICAgICAgICAgIGRpc21pc3M9eygpID0+IHRoaXMuZGlzbWlzc0NvbmZsaWN0cyhbY10pfVxuICAgICAgICAgIC8+XG4gICAgICAgICkpfVxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgIC8vIHRoaXMubGF5ZXIuZGVzdHJveSgpO1xuICAgIHRoaXMuc3Vic2NyaXB0aW9ucy5kaXNwb3NlKCk7XG4gIH1cblxuICAvKlxuICAgKiBSZXR1cm4gYW4gQXJyYXkgY29udGFpbmluZyBgQ29uZmxpY3RgIG9iamVjdHMgd2hvc2UgbWFya2VkIHJlZ2lvbnMgaW5jbHVkZSBhbnkgY3Vyc29yIHBvc2l0aW9uIGluIHRoZSBjdXJyZW50XG4gICAqIGBUZXh0RWRpdG9yYCBhbmQgdGhlIGBTaWRlc2AgdGhhdCBjb250YWluIGEgY3Vyc29yIHdpdGhpbiBlYWNoLlxuICAgKlxuICAgKiBUaGlzIG1ldGhvZCBpcyB3cml0dGVuIHRvIGhhdmUgbGluZWFyIGNvbXBsZXhpdHkgd2l0aCByZXNwZWN0IHRvIHRoZSBudW1iZXIgb2YgY3Vyc29ycyBhbmQgdGhlIG51bWJlciBvZlxuICAgKiBjb25mbGljdHMsIHRvIGdyYWNlZnVsbHkgaGFuZGxlIGZpbGVzIHdpdGggbGFyZ2UgbnVtYmVycyBvZiBib3RoLlxuICAgKi9cbiAgZ2V0Q3VycmVudENvbmZsaWN0cygpIHtcbiAgICBjb25zdCBjdXJzb3JQb3NpdGlvbnMgPSB0aGlzLnByb3BzLmVkaXRvci5nZXRDdXJzb3JCdWZmZXJQb3NpdGlvbnMoKTtcbiAgICBjdXJzb3JQb3NpdGlvbnMuc29ydCgoYSwgYikgPT4gYS5jb21wYXJlKGIpKTtcbiAgICBjb25zdCBjdXJzb3JJdGVyYXRvciA9IGN1cnNvclBvc2l0aW9uc1tTeW1ib2wuaXRlcmF0b3JdKCk7XG5cbiAgICBjb25zdCBjb25mbGljdEl0ZXJhdG9yID0gdGhpcy5zdGF0ZS5jb25mbGljdHMua2V5cygpO1xuXG4gICAgbGV0IGN1cnJlbnRDdXJzb3IgPSBjdXJzb3JJdGVyYXRvci5uZXh0KCk7XG4gICAgbGV0IGN1cnJlbnRDb25mbGljdCA9IGNvbmZsaWN0SXRlcmF0b3IubmV4dCgpO1xuICAgIGNvbnN0IGFjdGl2ZUNvbmZsaWN0cyA9IFtdO1xuXG4gICAgd2hpbGUgKCFjdXJyZW50Q3Vyc29yLmRvbmUgJiYgIWN1cnJlbnRDb25mbGljdC5kb25lKSB7XG4gICAgICAvLyBBZHZhbmNlIGN1cnJlbnRDdXJzb3IgdG8gdGhlIGZpcnN0IGN1cnNvciBiZXlvbmQgdGhlIGVhcmxpZXN0IGNvbmZsaWN0LlxuICAgICAgY29uc3QgZWFybGllc3RDb25mbGljdFBvc2l0aW9uID0gY3VycmVudENvbmZsaWN0LnZhbHVlLmdldFJhbmdlKCkuc3RhcnQ7XG4gICAgICB3aGlsZSAoIWN1cnJlbnRDdXJzb3IuZG9uZSAmJiBjdXJyZW50Q3Vyc29yLnZhbHVlLmlzTGVzc1RoYW4oZWFybGllc3RDb25mbGljdFBvc2l0aW9uKSkge1xuICAgICAgICBjdXJyZW50Q3Vyc29yID0gY3Vyc29ySXRlcmF0b3IubmV4dCgpO1xuICAgICAgfVxuXG4gICAgICAvLyBBZHZhbmNlIGN1cnJlbnRDb25mbGljdCB1bnRpbCB0aGUgZmlyc3QgY29uZmxpY3QgdGhhdCBiZWdpbnMgYXQgYSBwb3NpdGlvbiBhZnRlciB0aGUgY3VycmVudCBjdXJzb3IuXG4gICAgICAvLyBDb21wYXJlIGVhY2ggdG8gdGhlIGN1cnJlbnQgY3Vyc29yLCBhbmQgYWRkIGl0IHRvIGFjdGl2ZUNvbmZsaWN0cyBpZiBpdCBjb250YWlucyBpdC5cbiAgICAgIHdoaWxlICghY3VycmVudENvbmZsaWN0LmRvbmUgJiYgIWN1cnJlbnRDdXJzb3IuZG9uZSAmJlxuICAgICAgICAgIGN1cnJlbnRDb25mbGljdC52YWx1ZS5nZXRSYW5nZSgpLnN0YXJ0LmlzTGVzc1RoYW4oY3VycmVudEN1cnNvci52YWx1ZSkpIHtcbiAgICAgICAgaWYgKGN1cnJlbnRDb25mbGljdC52YWx1ZS5pbmNsdWRlc1BvaW50KGN1cnJlbnRDdXJzb3IudmFsdWUpKSB7XG4gICAgICAgICAgLy8gSGl0OyBkZXRlcm1pbmUgd2hpY2ggc2lkZXMgb2YgdGhpcyBjb25mbGljdCBjb250YWluIGN1cnNvcnMuXG4gICAgICAgICAgY29uc3QgY29uZmxpY3QgPSBjdXJyZW50Q29uZmxpY3QudmFsdWU7XG4gICAgICAgICAgY29uc3QgZW5kUG9zaXRpb24gPSBjb25mbGljdC5nZXRSYW5nZSgpLmVuZDtcbiAgICAgICAgICBjb25zdCBzaWRlcyA9IG5ldyBTZXQoKTtcbiAgICAgICAgICB3aGlsZSAoIWN1cnJlbnRDdXJzb3IuZG9uZSAmJiBjdXJyZW50Q3Vyc29yLnZhbHVlLmlzTGVzc1RoYW4oZW5kUG9zaXRpb24pKSB7XG4gICAgICAgICAgICBjb25zdCBzaWRlID0gY29uZmxpY3QuZ2V0U2lkZUNvbnRhaW5pbmcoY3VycmVudEN1cnNvci52YWx1ZSk7XG4gICAgICAgICAgICBpZiAoc2lkZSkge1xuICAgICAgICAgICAgICBzaWRlcy5hZGQoc2lkZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjdXJyZW50Q3Vyc29yID0gY3Vyc29ySXRlcmF0b3IubmV4dCgpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGFjdGl2ZUNvbmZsaWN0cy5wdXNoKHtjb25mbGljdCwgc2lkZXN9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGN1cnJlbnRDb25mbGljdCA9IGNvbmZsaWN0SXRlcmF0b3IubmV4dCgpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBhY3RpdmVDb25mbGljdHM7XG4gIH1cblxuICBnZXRSZXNvbHZlclVzaW5nKHNlcXVlbmNlKSB7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIHRoaXMuZ2V0Q3VycmVudENvbmZsaWN0cygpLmZvckVhY2gobWF0Y2ggPT4gdGhpcy5yZXNvbHZlQXNTZXF1ZW5jZShtYXRjaC5jb25mbGljdCwgc2VxdWVuY2UpKTtcbiAgICB9O1xuICB9XG5cbiAgcmVzb2x2ZUFzQ3VycmVudCgpIHtcbiAgICB0aGlzLmdldEN1cnJlbnRDb25mbGljdHMoKS5mb3JFYWNoKG1hdGNoID0+IHtcbiAgICAgIGlmIChtYXRjaC5zaWRlcy5zaXplID09PSAxKSB7XG4gICAgICAgIGNvbnN0IHNpZGUgPSBtYXRjaC5zaWRlcy5rZXlzKCkubmV4dCgpLnZhbHVlO1xuICAgICAgICB0aGlzLnJlc29sdmVBcyhtYXRjaC5jb25mbGljdCwgc2lkZS5nZXRTb3VyY2UoKSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICByZXZlcnRDb25mbGljdE1vZGlmaWNhdGlvbnMoKSB7XG4gICAgdGhpcy5nZXRDdXJyZW50Q29uZmxpY3RzKCkuZm9yRWFjaChtYXRjaCA9PiB7XG4gICAgICBtYXRjaC5zaWRlcy5mb3JFYWNoKHNpZGUgPT4ge1xuICAgICAgICBzaWRlLmlzTW9kaWZpZWQoKSAmJiBzaWRlLnJldmVydCgpO1xuICAgICAgICBzaWRlLmlzQmFubmVyTW9kaWZpZWQoKSAmJiBzaWRlLnJldmVydEJhbm5lcigpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBkaXNtaXNzQ3VycmVudCgpIHtcbiAgICB0aGlzLmRpc21pc3NDb25mbGljdHModGhpcy5nZXRDdXJyZW50Q29uZmxpY3RzKCkubWFwKG1hdGNoID0+IG1hdGNoLmNvbmZsaWN0KSk7XG4gIH1cblxuICBkaXNtaXNzQ29uZmxpY3RzKGNvbmZsaWN0cykge1xuICAgIHRoaXMuc2V0U3RhdGUocHJldlN0YXRlID0+IHtcbiAgICAgIGNvbnN0IHthZGRlZH0gPSBjb21wYXJlU2V0cyhuZXcgU2V0KGNvbmZsaWN0cyksIHByZXZTdGF0ZS5jb25mbGljdHMpO1xuICAgICAgcmV0dXJuIHtjb25mbGljdHM6IGFkZGVkfTtcbiAgICB9KTtcbiAgfVxuXG4gIHJlc29sdmVBc1NlcXVlbmNlKGNvbmZsaWN0LCBzb3VyY2VzKSB7XG4gICAgY29uc3QgW2ZpcnN0U2lkZSwgLi4ucmVzdE9mU2lkZXNdID0gc291cmNlc1xuICAgICAgLm1hcChzb3VyY2UgPT4gY29uZmxpY3QuZ2V0U2lkZShzb3VyY2UpKVxuICAgICAgLmZpbHRlcihzaWRlID0+IHNpZGUpO1xuXG4gICAgY29uc3QgdGV4dFRvQXBwZW5kID0gcmVzdE9mU2lkZXMubWFwKHNpZGUgPT4gc2lkZS5nZXRUZXh0KCkpLmpvaW4oJycpO1xuXG4gICAgdGhpcy5wcm9wcy5lZGl0b3IudHJhbnNhY3QoKCkgPT4ge1xuICAgICAgLy8gQXBwZW5kIHRleHQgZnJvbSBhbGwgYnV0IHRoZSBmaXJzdCBTaWRlIHRvIHRoZSBmaXJzdCBTaWRlLiBBZGp1c3QgdGhlIGZvbGxvd2luZyBEaXNwbGF5TWFya2VyIHNvIHRoYXQgb25seSB0aGF0XG4gICAgICAvLyBTaWRlJ3MgbWFya2VyIGluY2x1ZGVzIHRoZSBhcHBlbmRlZCB0ZXh0LCBub3QgdGhlIG5leHQgb25lLlxuICAgICAgY29uc3QgYXBwZW5kZWRSYW5nZSA9IGZpcnN0U2lkZS5hcHBlbmRUZXh0KHRleHRUb0FwcGVuZCk7XG4gICAgICBjb25zdCBuZXh0TWFya2VyID0gY29uZmxpY3QubWFya2VyQWZ0ZXIoZmlyc3RTaWRlLmdldFBvc2l0aW9uKCkpO1xuICAgICAgaWYgKG5leHRNYXJrZXIpIHtcbiAgICAgICAgbmV4dE1hcmtlci5zZXRUYWlsQnVmZmVyUG9zaXRpb24oYXBwZW5kZWRSYW5nZS5lbmQpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmlubmVyUmVzb2x2ZUFzKGNvbmZsaWN0LCBzb3VyY2VzWzBdKTtcbiAgICB9KTtcbiAgfVxuXG4gIHJlc29sdmVBcyhjb25mbGljdCwgc291cmNlKSB7XG4gICAgdGhpcy5wcm9wcy5lZGl0b3IudHJhbnNhY3QoKCkgPT4ge1xuICAgICAgdGhpcy5pbm5lclJlc29sdmVBcyhjb25mbGljdCwgc291cmNlKTtcbiAgICB9KTtcbiAgfVxuXG4gIGlubmVyUmVzb2x2ZUFzKGNvbmZsaWN0LCBzb3VyY2UpIHtcbiAgICBjb25mbGljdC5yZXNvbHZlQXMoc291cmNlKTtcblxuICAgIGNvbnN0IGNob3NlblNpZGUgPSBjb25mbGljdC5nZXRDaG9zZW5TaWRlKCk7XG4gICAgaWYgKCFjaG9zZW5TaWRlLmlzQmFubmVyTW9kaWZpZWQoKSkge1xuICAgICAgY2hvc2VuU2lkZS5kZWxldGVCYW5uZXIoKTtcbiAgICB9XG5cbiAgICBjb25zdCBzZXBhcmF0b3IgPSBjb25mbGljdC5nZXRTZXBhcmF0b3IoKTtcbiAgICBpZiAoIXNlcGFyYXRvci5pc01vZGlmaWVkKCkpIHtcbiAgICAgIHNlcGFyYXRvci5kZWxldGUoKTtcbiAgICB9XG5cbiAgICBjb25mbGljdC5nZXRVbmNob3NlblNpZGVzKCkuZm9yRWFjaChzaWRlID0+IHtcbiAgICAgIHNpZGUuZGVsZXRlQmFubmVyKCk7XG4gICAgICBzaWRlLmRlbGV0ZSgpO1xuICAgIH0pO1xuXG4gICAgdGhpcy51cGRhdGVNYXJrZXJDb3VudCgpO1xuICB9XG5cbiAgc2Nyb2xsVG9GaXJzdENvbmZsaWN0KCkge1xuICAgIGxldCBmaXJzdENvbmZsaWN0ID0gbnVsbDtcbiAgICBmb3IgKGNvbnN0IGNvbmZsaWN0IG9mIHRoaXMuc3RhdGUuY29uZmxpY3RzKSB7XG4gICAgICBpZiAoZmlyc3RDb25mbGljdCA9PSBudWxsIHx8IGZpcnN0Q29uZmxpY3QuZ2V0UmFuZ2UoKS5jb21wYXJlKGNvbmZsaWN0LmdldFJhbmdlKCkpID4gMCkge1xuICAgICAgICBmaXJzdENvbmZsaWN0ID0gY29uZmxpY3Q7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGZpcnN0Q29uZmxpY3QpIHtcbiAgICAgIHRoaXMucHJvcHMuZWRpdG9yLnNjcm9sbFRvQnVmZmVyUG9zaXRpb24oZmlyc3RDb25mbGljdC5nZXRSYW5nZSgpLnN0YXJ0LCB7Y2VudGVyOiB0cnVlfSk7XG4gICAgfVxuICB9XG5cbiAgcmVwYXJzZUNvbmZsaWN0cygpIHtcbiAgICBjb25zdCBuZXdDb25mbGljdHMgPSBuZXcgU2V0KENvbmZsaWN0LmFsbEZyb21FZGl0b3IodGhpcy5wcm9wcy5lZGl0b3IsIHRoaXMubGF5ZXIsIHRoaXMucHJvcHMuaXNSZWJhc2UpKTtcbiAgICB0aGlzLnNldFN0YXRlKHtjb25mbGljdHM6IG5ld0NvbmZsaWN0c30pO1xuICB9XG5cbiAgdXBkYXRlTWFya2VyQ291bnQoKSB7XG4gICAgdGhpcy5wcm9wcy5yZXNvbHV0aW9uUHJvZ3Jlc3MucmVwb3J0TWFya2VyQ291bnQoXG4gICAgICB0aGlzLnByb3BzLmVkaXRvci5nZXRQYXRoKCksXG4gICAgICBBcnJheS5mcm9tKHRoaXMuc3RhdGUuY29uZmxpY3RzLCBjID0+ICFjLmlzUmVzb2x2ZWQoKSkuZmlsdGVyKGIgPT4gYikubGVuZ3RoLFxuICAgICk7XG4gIH1cbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsU0FBQSxHQUFBQyxPQUFBO0FBQ0EsSUFBQUMsTUFBQSxHQUFBQyxzQkFBQSxDQUFBRixPQUFBO0FBQ0EsSUFBQUcsVUFBQSxHQUFBRCxzQkFBQSxDQUFBRixPQUFBO0FBQ0EsSUFBQUksWUFBQSxHQUFBRixzQkFBQSxDQUFBRixPQUFBO0FBRUEsSUFBQUssU0FBQSxHQUFBQyx1QkFBQSxDQUFBTixPQUFBO0FBQ0EsSUFBQU8sU0FBQSxHQUFBTCxzQkFBQSxDQUFBRixPQUFBO0FBQ0EsSUFBQVEsbUJBQUEsR0FBQU4sc0JBQUEsQ0FBQUYsT0FBQTtBQUNBLElBQUFTLE9BQUEsR0FBQVQsT0FBQTtBQUNBLElBQUFVLFFBQUEsR0FBQVYsT0FBQTtBQUFvQyxTQUFBVyx5QkFBQUMsV0FBQSxlQUFBQyxPQUFBLGtDQUFBQyxpQkFBQSxPQUFBRCxPQUFBLFFBQUFFLGdCQUFBLE9BQUFGLE9BQUEsWUFBQUYsd0JBQUEs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