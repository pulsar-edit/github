"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _eventKit = require("event-kit");
var _react = _interopRequireDefault(require("react"));
var _propTypes = _interopRequireDefault(require("prop-types"));
var _compareSets = _interopRequireDefault(require("compare-sets"));
var _commands = _interopRequireWildcard(require("../atom/commands"));
var _conflict = _interopRequireDefault(require("../models/conflicts/conflict"));
var _conflictController = _interopRequireDefault(require("./conflict-controller"));
var _source = require("../models/conflicts/source");
var _helpers = require("../helpers");
function _getRequireWildcardCache(e) { if ("function" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }
function _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || "object" != typeof e && "function" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if ("default" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }
function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }
function _toPropertyKey(arg) { var key = _toPrimitive(arg, "string"); return typeof key === "symbol" ? key : String(key); }
function _toPrimitive(input, hint) { if (typeof input !== "object" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || "default"); if (typeof res !== "object") return res; throw new TypeError("@@toPrimitive must return a primitive value."); } return (hint === "string" ? String : Number)(input); }
/**
 * Render a `ConflictController` for each conflict marker within an open TextEditor.
 */
class EditorConflictController extends _react.default.Component {
  constructor(props, context) {
    super(props, context);
    (0, _helpers.autobind)(this, 'resolveAsCurrent', 'revertConflictModifications', 'dismissCurrent');

    // this.layer = props.editor.addMarkerLayer({
    //   maintainHistory: true,
    //   persistent: false,
    // });

    this.layer = props.editor.getDefaultMarkerLayer();
    this.state = {
      conflicts: new Set(_conflict.default.allFromEditor(props.editor, this.layer, props.isRebase))
    };
    this.subscriptions = new _eventKit.CompositeDisposable();
    this.updateMarkerCount();
  }
  componentDidMount() {
    const buffer = this.props.editor.getBuffer();
    this.subscriptions.add(this.props.editor.onDidDestroy(() => this.props.refreshResolutionProgress(this.props.editor.getPath())), buffer.onDidReload(() => this.reparseConflicts()));
    this.scrollToFirstConflict();
  }
  render() {
    this.updateMarkerCount();
    return _react.default.createElement("div", null, this.state.conflicts.size > 0 && _react.default.createElement(_commands.default, {
      registry: this.props.commands,
      target: "atom-text-editor"
    }, _react.default.createElement(_commands.Command, {
      command: "github:resolve-as-ours",
      callback: this.getResolverUsing([_source.OURS])
    }), _react.default.createElement(_commands.Command, {
      command: "github:resolve-as-theirs",
      callback: this.getResolverUsing([_source.THEIRS])
    }), _react.default.createElement(_commands.Command, {
      command: "github:resolve-as-base",
      callback: this.getResolverUsing([_source.BASE])
    }), _react.default.createElement(_commands.Command, {
      command: "github:resolve-as-ours-then-theirs",
      callback: this.getResolverUsing([_source.OURS, _source.THEIRS])
    }), _react.default.createElement(_commands.Command, {
      command: "github:resolve-as-theirs-then-ours",
      callback: this.getResolverUsing([_source.THEIRS, _source.OURS])
    }), _react.default.createElement(_commands.Command, {
      command: "github:resolve-as-current",
      callback: this.resolveAsCurrent
    }), _react.default.createElement(_commands.Command, {
      command: "github:revert-conflict-modifications",
      callback: this.revertConflictModifications
    }), _react.default.createElement(_commands.Command, {
      command: "github:dismiss-conflict",
      callback: this.dismissCurrent
    })), Array.from(this.state.conflicts, c => _react.default.createElement(_conflictController.default, {
      key: c.getKey(),
      editor: this.props.editor,
      conflict: c,
      resolveAsSequence: sources => this.resolveAsSequence(c, sources),
      dismiss: () => this.dismissConflicts([c])
    })));
  }
  componentWillUnmount() {
    // this.layer.destroy();
    this.subscriptions.dispose();
  }

  /*
   * Return an Array containing `Conflict` objects whose marked regions include any cursor position in the current
   * `TextEditor` and the `Sides` that contain a cursor within each.
   *
   * This method is written to have linear complexity with respect to the number of cursors and the number of
   * conflicts, to gracefully handle files with large numbers of both.
   */
  getCurrentConflicts() {
    const cursorPositions = this.props.editor.getCursorBufferPositions();
    cursorPositions.sort((a, b) => a.compare(b));
    const cursorIterator = cursorPositions[Symbol.iterator]();
    const conflictIterator = this.state.conflicts.keys();
    let currentCursor = cursorIterator.next();
    let currentConflict = conflictIterator.next();
    const activeConflicts = [];
    while (!currentCursor.done && !currentConflict.done) {
      // Advance currentCursor to the first cursor beyond the earliest conflict.
      const earliestConflictPosition = currentConflict.value.getRange().start;
      while (!currentCursor.done && currentCursor.value.isLessThan(earliestConflictPosition)) {
        currentCursor = cursorIterator.next();
      }

      // Advance currentConflict until the first conflict that begins at a position after the current cursor.
      // Compare each to the current cursor, and add it to activeConflicts if it contains it.
      while (!currentConflict.done && !currentCursor.done && currentConflict.value.getRange().start.isLessThan(currentCursor.value)) {
        if (currentConflict.value.includesPoint(currentCursor.value)) {
          // Hit; determine which sides of this conflict contain cursors.
          const conflict = currentConflict.value;
          const endPosition = conflict.getRange().end;
          const sides = new Set();
          while (!currentCursor.done && currentCursor.value.isLessThan(endPosition)) {
            const side = conflict.getSideContaining(currentCursor.value);
            if (side) {
              sides.add(side);
            }
            currentCursor = cursorIterator.next();
          }
          activeConflicts.push({
            conflict,
            sides
          });
        }
        currentConflict = conflictIterator.next();
      }
    }
    return activeConflicts;
  }
  getResolverUsing(sequence) {
    return () => {
      this.getCurrentConflicts().forEach(match => this.resolveAsSequence(match.conflict, sequence));
    };
  }
  resolveAsCurrent() {
    this.getCurrentConflicts().forEach(match => {
      if (match.sides.size === 1) {
        const side = match.sides.keys().next().value;
        this.resolveAs(match.conflict, side.getSource());
      }
    });
  }
  revertConflictModifications() {
    this.getCurrentConflicts().forEach(match => {
      match.sides.forEach(side => {
        side.isModified() && side.revert();
        side.isBannerModified() && side.revertBanner();
      });
    });
  }
  dismissCurrent() {
    this.dismissConflicts(this.getCurrentConflicts().map(match => match.conflict));
  }
  dismissConflicts(conflicts) {
    this.setState(prevState => {
      const {
        added
      } = (0, _compareSets.default)(new Set(conflicts), prevState.conflicts);
      return {
        conflicts: added
      };
    });
  }
  resolveAsSequence(conflict, sources) {
    const [firstSide, ...restOfSides] = sources.map(source => conflict.getSide(source)).filter(side => side);
    const textToAppend = restOfSides.map(side => side.getText()).join('');
    this.props.editor.transact(() => {
      // Append text from all but the first Side to the first Side. Adjust the following DisplayMarker so that only that
      // Side's marker includes the appended text, not the next one.
      const appendedRange = firstSide.appendText(textToAppend);
      const nextMarker = conflict.markerAfter(firstSide.getPosition());
      if (nextMarker) {
        nextMarker.setTailBufferPosition(appendedRange.end);
      }
      this.innerResolveAs(conflict, sources[0]);
    });
  }
  resolveAs(conflict, source) {
    this.props.editor.transact(() => {
      this.innerResolveAs(conflict, source);
    });
  }
  innerResolveAs(conflict, source) {
    conflict.resolveAs(source);
    const chosenSide = conflict.getChosenSide();
    if (!chosenSide.isBannerModified()) {
      chosenSide.deleteBanner();
    }
    const separator = conflict.getSeparator();
    if (!separator.isModified()) {
      separator.delete();
    }
    conflict.getUnchosenSides().forEach(side => {
      side.deleteBanner();
      side.delete();
    });
    this.updateMarkerCount();
  }
  scrollToFirstConflict() {
    let firstConflict = null;
    for (const conflict of this.state.conflicts) {
      if (firstConflict == null || firstConflict.getRange().compare(conflict.getRange()) > 0) {
        firstConflict = conflict;
      }
    }
    if (firstConflict) {
      this.props.editor.scrollToBufferPosition(firstConflict.getRange().start, {
        center: true
      });
    }
  }
  reparseConflicts() {
    const newConflicts = new Set(_conflict.default.allFromEditor(this.props.editor, this.layer, this.props.isRebase));
    this.setState({
      conflicts: newConflicts
    });
  }
  updateMarkerCount() {
    this.props.resolutionProgress.reportMarkerCount(this.props.editor.getPath(), Array.from(this.state.conflicts, c => !c.isResolved()).filter(b => b).length);
  }
}
exports.default = EditorConflictController;
_defineProperty(EditorConflictController, "propTypes", {
  editor: _propTypes.default.object.isRequired,
  commands: _propTypes.default.object.isRequired,
  resolutionProgress: _propTypes.default.object.isRequired,
  isRebase: _propTypes.default.bool.isRequired,
  refreshResolutionProgress: _propTypes.default.func.isRequired
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXZlbnRLaXQiLCJyZXF1aXJlIiwiX3JlYWN0IiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsIl9wcm9wVHlwZXMiLCJfY29tcGFyZVNldHMiLCJfY29tbWFuZHMiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsIl9jb25mbGljdCIsIl9jb25mbGljdENvbnRyb2xsZXIiLCJfc291cmNlIiwiX2hlbHBlcnMiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJvYmoiLCJfZGVmaW5lUHJvcGVydHkiLCJrZXkiLCJ2YWx1ZSIsIl90b1Byb3BlcnR5S2V5IiwiZW51bWVyYWJsZSIsImNvbmZpZ3VyYWJsZSIsIndyaXRhYmxlIiwiYXJnIiwiX3RvUHJpbWl0aXZlIiwiU3RyaW5nIiwiaW5wdXQiLCJoaW50IiwicHJpbSIsIlN5bWJvbCIsInRvUHJpbWl0aXZlIiwidW5kZWZpbmVkIiwicmVzIiwiVHlwZUVycm9yIiwiTnVtYmVyIiwiRWRpdG9yQ29uZmxpY3RDb250cm9sbGVyIiwiUmVhY3QiLCJDb21wb25lbnQiLCJjb25zdHJ1Y3RvciIsInByb3BzIiwiY29udGV4dCIsImF1dG9iaW5kIiwibGF5ZXIiLCJlZGl0b3IiLCJnZXREZWZhdWx0TWFya2VyTGF5ZXIiLCJzdGF0ZSIsImNvbmZsaWN0cyIsIlNldCIsIkNvbmZsaWN0IiwiYWxsRnJvbUVkaXRvciIsImlzUmViYXNlIiwic3Vic2NyaXB0aW9ucyIsIkNvbXBvc2l0ZURpc3Bvc2FibGUiLCJ1cGRhdGVNYXJrZXJDb3VudCIsImNvbXBvbmVudERpZE1vdW50IiwiYnVmZmVyIiwiZ2V0QnVmZmVyIiwiYWRkIiwib25EaWREZXN0cm95IiwicmVmcmVzaFJlc29sdXRpb25Qcm9ncmVzcyIsImdldFBhdGgiLCJvbkRpZFJlbG9hZCIsInJlcGFyc2VDb25mbGljdHMiLCJzY3JvbGxUb0ZpcnN0Q29uZmxpY3QiLCJyZW5kZXIiLCJjcmVhdGVFbGVtZW50Iiwic2l6ZSIsInJlZ2lzdHJ5IiwiY29tbWFuZHMiLCJ0YXJnZXQiLCJDb21tYW5kIiwiY29tbWFuZCIsImNhbGxiYWNrIiwiZ2V0UmVzb2x2ZXJVc2luZyIsIk9VUlMiLCJUSEVJUlMiLCJCQVNFIiwicmVzb2x2ZUFzQ3VycmVudCIsInJldmVydENvbmZsaWN0TW9kaWZpY2F0aW9ucyIsImRpc21pc3NDdXJyZW50IiwiQXJyYXkiLCJmcm9tIiwiYyIsImdldEtleSIsImNvbmZsaWN0IiwicmVzb2x2ZUFzU2VxdWVuY2UiLCJzb3VyY2VzIiwiZGlzbWlzcyIsImRpc21pc3NDb25mbGljdHMiLCJjb21wb25lbnRXaWxsVW5tb3VudCIsImRpc3Bvc2UiLCJnZXRDdXJyZW50Q29uZmxpY3RzIiwiY3Vyc29yUG9zaXRpb25zIiwiZ2V0Q3Vyc29yQnVmZmVyUG9zaXRpb25zIiwic29ydCIsImIiLCJjb21wYXJlIiwiY3Vyc29ySXRlcmF0b3IiLCJpdGVyYXRvciIsImNvbmZsaWN0SXRlcmF0b3IiLCJrZXlzIiwiY3VycmVudEN1cnNvciIsIm5leHQiLCJjdXJyZW50Q29uZmxpY3QiLCJhY3RpdmVDb25mbGljdHMiLCJkb25lIiwiZWFybGllc3RDb25mbGljdFBvc2l0aW9uIiwiZ2V0UmFuZ2UiLCJzdGFydCIsImlzTGVzc1RoYW4iLCJpbmNsdWRlc1BvaW50IiwiZW5kUG9zaXRpb24iLCJlbmQiLCJzaWRlcyIsInNpZGUiLCJnZXRTaWRlQ29udGFpbmluZyIsInB1c2giLCJzZXF1ZW5jZSIsImZvckVhY2giLCJtYXRjaCIsInJlc29sdmVBcyIsImdldFNvdXJjZSIsImlzTW9kaWZpZWQiLCJyZXZlcnQiLCJpc0Jhbm5lck1vZGlmaWVkIiwicmV2ZXJ0QmFubmVyIiwibWFwIiwic2V0U3RhdGUiLCJwcmV2U3RhdGUiLCJhZGRlZCIsImNvbXBhcmVTZXRzIiwiZmlyc3RTaWRlIiwicmVzdE9mU2lkZXMiLCJzb3VyY2UiLCJnZXRTaWRlIiwiZmlsdGVyIiwidGV4dFRvQXBwZW5kIiwiZ2V0VGV4dCIsImpvaW4iLCJ0cmFuc2FjdCIsImFwcGVuZGVkUmFuZ2UiLCJhcHBlbmRUZXh0IiwibmV4dE1hcmtlciIsIm1hcmtlckFmdGVyIiwiZ2V0UG9zaXRpb24iLCJzZXRUYWlsQnVmZmVyUG9zaXRpb24iLCJpbm5lclJlc29sdmVBcyIsImNob3NlblNpZGUiLCJnZXRDaG9zZW5TaWRlIiwiZGVsZXRlQmFubmVyIiwic2VwYXJhdG9yIiwiZ2V0U2VwYXJhdG9yIiwiZGVsZXRlIiwiZ2V0VW5jaG9zZW5TaWRlcyIsImZpcnN0Q29uZmxpY3QiLCJzY3JvbGxUb0J1ZmZlclBvc2l0aW9uIiwiY2VudGVyIiwibmV3Q29uZmxpY3RzIiwicmVzb2x1dGlvblByb2dyZXNzIiwicmVwb3J0TWFya2VyQ291bnQiLCJpc1Jlc29sdmVkIiwibGVuZ3RoIiwiZXhwb3J0cyIsIlByb3BUeXBlcyIsIm9iamVjdCIsImlzUmVxdWlyZWQiLCJib29sIiwiZnVuYyJdLCJzb3VyY2VzIjpbImVkaXRvci1jb25mbGljdC1jb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7Q29tcG9zaXRlRGlzcG9zYWJsZX0gZnJvbSAnZXZlbnQta2l0JztcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IGNvbXBhcmVTZXRzIGZyb20gJ2NvbXBhcmUtc2V0cyc7XG5cbmltcG9ydCBDb21tYW5kcywge0NvbW1hbmR9IGZyb20gJy4uL2F0b20vY29tbWFuZHMnO1xuaW1wb3J0IENvbmZsaWN0IGZyb20gJy4uL21vZGVscy9jb25mbGljdHMvY29uZmxpY3QnO1xuaW1wb3J0IENvbmZsaWN0Q29udHJvbGxlciBmcm9tICcuL2NvbmZsaWN0LWNvbnRyb2xsZXInO1xuaW1wb3J0IHtPVVJTLCBUSEVJUlMsIEJBU0V9IGZyb20gJy4uL21vZGVscy9jb25mbGljdHMvc291cmNlJztcbmltcG9ydCB7YXV0b2JpbmR9IGZyb20gJy4uL2hlbHBlcnMnO1xuXG4vKipcbiAqIFJlbmRlciBhIGBDb25mbGljdENvbnRyb2xsZXJgIGZvciBlYWNoIGNvbmZsaWN0IG1hcmtlciB3aXRoaW4gYW4gb3BlbiBUZXh0RWRpdG9yLlxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBFZGl0b3JDb25mbGljdENvbnRyb2xsZXIgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBzdGF0aWMgcHJvcFR5cGVzID0ge1xuICAgIGVkaXRvcjogUHJvcFR5cGVzLm9iamVjdC5pc1JlcXVpcmVkLFxuICAgIGNvbW1hbmRzOiBQcm9wVHlwZXMub2JqZWN0LmlzUmVxdWlyZWQsXG4gICAgcmVzb2x1dGlvblByb2dyZXNzOiBQcm9wVHlwZXMub2JqZWN0LmlzUmVxdWlyZWQsXG4gICAgaXNSZWJhc2U6IFByb3BUeXBlcy5ib29sLmlzUmVxdWlyZWQsXG4gICAgcmVmcmVzaFJlc29sdXRpb25Qcm9ncmVzczogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcbiAgfVxuXG4gIGNvbnN0cnVjdG9yKHByb3BzLCBjb250ZXh0KSB7XG4gICAgc3VwZXIocHJvcHMsIGNvbnRleHQpO1xuICAgIGF1dG9iaW5kKHRoaXMsICdyZXNvbHZlQXNDdXJyZW50JywgJ3JldmVydENvbmZsaWN0TW9kaWZpY2F0aW9ucycsICdkaXNtaXNzQ3VycmVudCcpO1xuXG4gICAgLy8gdGhpcy5sYXllciA9IHByb3BzLmVkaXRvci5hZGRNYXJrZXJMYXllcih7XG4gICAgLy8gICBtYWludGFpbkhpc3Rvcnk6IHRydWUsXG4gICAgLy8gICBwZXJzaXN0ZW50OiBmYWxzZSxcbiAgICAvLyB9KTtcblxuICAgIHRoaXMubGF5ZXIgPSBwcm9wcy5lZGl0b3IuZ2V0RGVmYXVsdE1hcmtlckxheWVyKCk7XG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgY29uZmxpY3RzOiBuZXcgU2V0KENvbmZsaWN0LmFsbEZyb21FZGl0b3IocHJvcHMuZWRpdG9yLCB0aGlzLmxheWVyLCBwcm9wcy5pc1JlYmFzZSkpLFxuICAgIH07XG5cbiAgICB0aGlzLnN1YnNjcmlwdGlvbnMgPSBuZXcgQ29tcG9zaXRlRGlzcG9zYWJsZSgpO1xuXG4gICAgdGhpcy51cGRhdGVNYXJrZXJDb3VudCgpO1xuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgY29uc3QgYnVmZmVyID0gdGhpcy5wcm9wcy5lZGl0b3IuZ2V0QnVmZmVyKCk7XG5cbiAgICB0aGlzLnN1YnNjcmlwdGlvbnMuYWRkKFxuICAgICAgdGhpcy5wcm9wcy5lZGl0b3Iub25EaWREZXN0cm95KCgpID0+IHRoaXMucHJvcHMucmVmcmVzaFJlc29sdXRpb25Qcm9ncmVzcyh0aGlzLnByb3BzLmVkaXRvci5nZXRQYXRoKCkpKSxcbiAgICAgIGJ1ZmZlci5vbkRpZFJlbG9hZCgoKSA9PiB0aGlzLnJlcGFyc2VDb25mbGljdHMoKSksXG4gICAgKTtcblxuICAgIHRoaXMuc2Nyb2xsVG9GaXJzdENvbmZsaWN0KCk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgdGhpcy51cGRhdGVNYXJrZXJDb3VudCgpO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXY+XG4gICAgICAgIHt0aGlzLnN0YXRlLmNvbmZsaWN0cy5zaXplID4gMCAmJiAoXG4gICAgICAgICAgPENvbW1hbmRzIHJlZ2lzdHJ5PXt0aGlzLnByb3BzLmNvbW1hbmRzfSB0YXJnZXQ9XCJhdG9tLXRleHQtZWRpdG9yXCI+XG4gICAgICAgICAgICA8Q29tbWFuZCBjb21tYW5kPVwiZ2l0aHViOnJlc29sdmUtYXMtb3Vyc1wiIGNhbGxiYWNrPXt0aGlzLmdldFJlc29sdmVyVXNpbmcoW09VUlNdKX0gLz5cbiAgICAgICAgICAgIDxDb21tYW5kIGNvbW1hbmQ9XCJnaXRodWI6cmVzb2x2ZS1hcy10aGVpcnNcIiBjYWxsYmFjaz17dGhpcy5nZXRSZXNvbHZlclVzaW5nKFtUSEVJUlNdKX0gLz5cbiAgICAgICAgICAgIDxDb21tYW5kIGNvbW1hbmQ9XCJnaXRodWI6cmVzb2x2ZS1hcy1iYXNlXCIgY2FsbGJhY2s9e3RoaXMuZ2V0UmVzb2x2ZXJVc2luZyhbQkFTRV0pfSAvPlxuICAgICAgICAgICAgPENvbW1hbmQgY29tbWFuZD1cImdpdGh1YjpyZXNvbHZlLWFzLW91cnMtdGhlbi10aGVpcnNcIiBjYWxsYmFjaz17dGhpcy5nZXRSZXNvbHZlclVzaW5nKFtPVVJTLCBUSEVJUlNdKX0gLz5cbiAgICAgICAgICAgIDxDb21tYW5kIGNvbW1hbmQ9XCJnaXRodWI6cmVzb2x2ZS1hcy10aGVpcnMtdGhlbi1vdXJzXCIgY2FsbGJhY2s9e3RoaXMuZ2V0UmVzb2x2ZXJVc2luZyhbVEhFSVJTLCBPVVJTXSl9IC8+XG4gICAgICAgICAgICA8Q29tbWFuZCBjb21tYW5kPVwiZ2l0aHViOnJlc29sdmUtYXMtY3VycmVudFwiIGNhbGxiYWNrPXt0aGlzLnJlc29sdmVBc0N1cnJlbnR9IC8+XG4gICAgICAgICAgICA8Q29tbWFuZCBjb21tYW5kPVwiZ2l0aHViOnJldmVydC1jb25mbGljdC1tb2RpZmljYXRpb25zXCIgY2FsbGJhY2s9e3RoaXMucmV2ZXJ0Q29uZmxpY3RNb2RpZmljYXRpb25zfSAvPlxuICAgICAgICAgICAgPENvbW1hbmQgY29tbWFuZD1cImdpdGh1YjpkaXNtaXNzLWNvbmZsaWN0XCIgY2FsbGJhY2s9e3RoaXMuZGlzbWlzc0N1cnJlbnR9IC8+XG4gICAgICAgICAgPC9Db21tYW5kcz5cbiAgICAgICAgKX1cbiAgICAgICAge0FycmF5LmZyb20odGhpcy5zdGF0ZS5jb25mbGljdHMsIGMgPT4gKFxuICAgICAgICAgIDxDb25mbGljdENvbnRyb2xsZXJcbiAgICAgICAgICAgIGtleT17Yy5nZXRLZXkoKX1cbiAgICAgICAgICAgIGVkaXRvcj17dGhpcy5wcm9wcy5lZGl0b3J9XG4gICAgICAgICAgICBjb25mbGljdD17Y31cbiAgICAgICAgICAgIHJlc29sdmVBc1NlcXVlbmNlPXtzb3VyY2VzID0+IHRoaXMucmVzb2x2ZUFzU2VxdWVuY2UoYywgc291cmNlcyl9XG4gICAgICAgICAgICBkaXNtaXNzPXsoKSA9PiB0aGlzLmRpc21pc3NDb25mbGljdHMoW2NdKX1cbiAgICAgICAgICAvPlxuICAgICAgICApKX1cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cblxuICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICAvLyB0aGlzLmxheWVyLmRlc3Ryb3koKTtcbiAgICB0aGlzLnN1YnNjcmlwdGlvbnMuZGlzcG9zZSgpO1xuICB9XG5cbiAgLypcbiAgICogUmV0dXJuIGFuIEFycmF5IGNvbnRhaW5pbmcgYENvbmZsaWN0YCBvYmplY3RzIHdob3NlIG1hcmtlZCByZWdpb25zIGluY2x1ZGUgYW55IGN1cnNvciBwb3NpdGlvbiBpbiB0aGUgY3VycmVudFxuICAgKiBgVGV4dEVkaXRvcmAgYW5kIHRoZSBgU2lkZXNgIHRoYXQgY29udGFpbiBhIGN1cnNvciB3aXRoaW4gZWFjaC5cbiAgICpcbiAgICogVGhpcyBtZXRob2QgaXMgd3JpdHRlbiB0byBoYXZlIGxpbmVhciBjb21wbGV4aXR5IHdpdGggcmVzcGVjdCB0byB0aGUgbnVtYmVyIG9mIGN1cnNvcnMgYW5kIHRoZSBudW1iZXIgb2ZcbiAgICogY29uZmxpY3RzLCB0byBncmFjZWZ1bGx5IGhhbmRsZSBmaWxlcyB3aXRoIGxhcmdlIG51bWJlcnMgb2YgYm90aC5cbiAgICovXG4gIGdldEN1cnJlbnRDb25mbGljdHMoKSB7XG4gICAgY29uc3QgY3Vyc29yUG9zaXRpb25zID0gdGhpcy5wcm9wcy5lZGl0b3IuZ2V0Q3Vyc29yQnVmZmVyUG9zaXRpb25zKCk7XG4gICAgY3Vyc29yUG9zaXRpb25zLnNvcnQoKGEsIGIpID0+IGEuY29tcGFyZShiKSk7XG4gICAgY29uc3QgY3Vyc29ySXRlcmF0b3IgPSBjdXJzb3JQb3NpdGlvbnNbU3ltYm9sLml0ZXJhdG9yXSgpO1xuXG4gICAgY29uc3QgY29uZmxpY3RJdGVyYXRvciA9IHRoaXMuc3RhdGUuY29uZmxpY3RzLmtleXMoKTtcblxuICAgIGxldCBjdXJyZW50Q3Vyc29yID0gY3Vyc29ySXRlcmF0b3IubmV4dCgpO1xuICAgIGxldCBjdXJyZW50Q29uZmxpY3QgPSBjb25mbGljdEl0ZXJhdG9yLm5leHQoKTtcbiAgICBjb25zdCBhY3RpdmVDb25mbGljdHMgPSBbXTtcblxuICAgIHdoaWxlICghY3VycmVudEN1cnNvci5kb25lICYmICFjdXJyZW50Q29uZmxpY3QuZG9uZSkge1xuICAgICAgLy8gQWR2YW5jZSBjdXJyZW50Q3Vyc29yIHRvIHRoZSBmaXJzdCBjdXJzb3IgYmV5b25kIHRoZSBlYXJsaWVzdCBjb25mbGljdC5cbiAgICAgIGNvbnN0IGVhcmxpZXN0Q29uZmxpY3RQb3NpdGlvbiA9IGN1cnJlbnRDb25mbGljdC52YWx1ZS5nZXRSYW5nZSgpLnN0YXJ0O1xuICAgICAgd2hpbGUgKCFjdXJyZW50Q3Vyc29yLmRvbmUgJiYgY3VycmVudEN1cnNvci52YWx1ZS5pc0xlc3NUaGFuKGVhcmxpZXN0Q29uZmxpY3RQb3NpdGlvbikpIHtcbiAgICAgICAgY3VycmVudEN1cnNvciA9IGN1cnNvckl0ZXJhdG9yLm5leHQoKTtcbiAgICAgIH1cblxuICAgICAgLy8gQWR2YW5jZSBjdXJyZW50Q29uZmxpY3QgdW50aWwgdGhlIGZpcnN0IGNvbmZsaWN0IHRoYXQgYmVnaW5zIGF0IGEgcG9zaXRpb24gYWZ0ZXIgdGhlIGN1cnJlbnQgY3Vyc29yLlxuICAgICAgLy8gQ29tcGFyZSBlYWNoIHRvIHRoZSBjdXJyZW50IGN1cnNvciwgYW5kIGFkZCBpdCB0byBhY3RpdmVDb25mbGljdHMgaWYgaXQgY29udGFpbnMgaXQuXG4gICAgICB3aGlsZSAoIWN1cnJlbnRDb25mbGljdC5kb25lICYmICFjdXJyZW50Q3Vyc29yLmRvbmUgJiZcbiAgICAgICAgICBjdXJyZW50Q29uZmxpY3QudmFsdWUuZ2V0UmFuZ2UoKS5zdGFydC5pc0xlc3NUaGFuKGN1cnJlbnRDdXJzb3IudmFsdWUpKSB7XG4gICAgICAgIGlmIChjdXJyZW50Q29uZmxpY3QudmFsdWUuaW5jbHVkZXNQb2ludChjdXJyZW50Q3Vyc29yLnZhbHVlKSkge1xuICAgICAgICAgIC8vIEhpdDsgZGV0ZXJtaW5lIHdoaWNoIHNpZGVzIG9mIHRoaXMgY29uZmxpY3QgY29udGFpbiBjdXJzb3JzLlxuICAgICAgICAgIGNvbnN0IGNvbmZsaWN0ID0gY3VycmVudENvbmZsaWN0LnZhbHVlO1xuICAgICAgICAgIGNvbnN0IGVuZFBvc2l0aW9uID0gY29uZmxpY3QuZ2V0UmFuZ2UoKS5lbmQ7XG4gICAgICAgICAgY29uc3Qgc2lkZXMgPSBuZXcgU2V0KCk7XG4gICAgICAgICAgd2hpbGUgKCFjdXJyZW50Q3Vyc29yLmRvbmUgJiYgY3VycmVudEN1cnNvci52YWx1ZS5pc0xlc3NUaGFuKGVuZFBvc2l0aW9uKSkge1xuICAgICAgICAgICAgY29uc3Qgc2lkZSA9IGNvbmZsaWN0LmdldFNpZGVDb250YWluaW5nKGN1cnJlbnRDdXJzb3IudmFsdWUpO1xuICAgICAgICAgICAgaWYgKHNpZGUpIHtcbiAgICAgICAgICAgICAgc2lkZXMuYWRkKHNpZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY3VycmVudEN1cnNvciA9IGN1cnNvckl0ZXJhdG9yLm5leHQoKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBhY3RpdmVDb25mbGljdHMucHVzaCh7Y29uZmxpY3QsIHNpZGVzfSk7XG4gICAgICAgIH1cblxuICAgICAgICBjdXJyZW50Q29uZmxpY3QgPSBjb25mbGljdEl0ZXJhdG9yLm5leHQoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gYWN0aXZlQ29uZmxpY3RzO1xuICB9XG5cbiAgZ2V0UmVzb2x2ZXJVc2luZyhzZXF1ZW5jZSkge1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICB0aGlzLmdldEN1cnJlbnRDb25mbGljdHMoKS5mb3JFYWNoKG1hdGNoID0+IHRoaXMucmVzb2x2ZUFzU2VxdWVuY2UobWF0Y2guY29uZmxpY3QsIHNlcXVlbmNlKSk7XG4gICAgfTtcbiAgfVxuXG4gIHJlc29sdmVBc0N1cnJlbnQoKSB7XG4gICAgdGhpcy5nZXRDdXJyZW50Q29uZmxpY3RzKCkuZm9yRWFjaChtYXRjaCA9PiB7XG4gICAgICBpZiAobWF0Y2guc2lkZXMuc2l6ZSA9PT0gMSkge1xuICAgICAgICBjb25zdCBzaWRlID0gbWF0Y2guc2lkZXMua2V5cygpLm5leHQoKS52YWx1ZTtcbiAgICAgICAgdGhpcy5yZXNvbHZlQXMobWF0Y2guY29uZmxpY3QsIHNpZGUuZ2V0U291cmNlKCkpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgcmV2ZXJ0Q29uZmxpY3RNb2RpZmljYXRpb25zKCkge1xuICAgIHRoaXMuZ2V0Q3VycmVudENvbmZsaWN0cygpLmZvckVhY2gobWF0Y2ggPT4ge1xuICAgICAgbWF0Y2guc2lkZXMuZm9yRWFjaChzaWRlID0+IHtcbiAgICAgICAgc2lkZS5pc01vZGlmaWVkKCkgJiYgc2lkZS5yZXZlcnQoKTtcbiAgICAgICAgc2lkZS5pc0Jhbm5lck1vZGlmaWVkKCkgJiYgc2lkZS5yZXZlcnRCYW5uZXIoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgZGlzbWlzc0N1cnJlbnQoKSB7XG4gICAgdGhpcy5kaXNtaXNzQ29uZmxpY3RzKHRoaXMuZ2V0Q3VycmVudENvbmZsaWN0cygpLm1hcChtYXRjaCA9PiBtYXRjaC5jb25mbGljdCkpO1xuICB9XG5cbiAgZGlzbWlzc0NvbmZsaWN0cyhjb25mbGljdHMpIHtcbiAgICB0aGlzLnNldFN0YXRlKHByZXZTdGF0ZSA9PiB7XG4gICAgICBjb25zdCB7YWRkZWR9ID0gY29tcGFyZVNldHMobmV3IFNldChjb25mbGljdHMpLCBwcmV2U3RhdGUuY29uZmxpY3RzKTtcbiAgICAgIHJldHVybiB7Y29uZmxpY3RzOiBhZGRlZH07XG4gICAgfSk7XG4gIH1cblxuICByZXNvbHZlQXNTZXF1ZW5jZShjb25mbGljdCwgc291cmNlcykge1xuICAgIGNvbnN0IFtmaXJzdFNpZGUsIC4uLnJlc3RPZlNpZGVzXSA9IHNvdXJjZXNcbiAgICAgIC5tYXAoc291cmNlID0+IGNvbmZsaWN0LmdldFNpZGUoc291cmNlKSlcbiAgICAgIC5maWx0ZXIoc2lkZSA9PiBzaWRlKTtcblxuICAgIGNvbnN0IHRleHRUb0FwcGVuZCA9IHJlc3RPZlNpZGVzLm1hcChzaWRlID0+IHNpZGUuZ2V0VGV4dCgpKS5qb2luKCcnKTtcblxuICAgIHRoaXMucHJvcHMuZWRpdG9yLnRyYW5zYWN0KCgpID0+IHtcbiAgICAgIC8vIEFwcGVuZCB0ZXh0IGZyb20gYWxsIGJ1dCB0aGUgZmlyc3QgU2lkZSB0byB0aGUgZmlyc3QgU2lkZS4gQWRqdXN0IHRoZSBmb2xsb3dpbmcgRGlzcGxheU1hcmtlciBzbyB0aGF0IG9ubHkgdGhhdFxuICAgICAgLy8gU2lkZSdzIG1hcmtlciBpbmNsdWRlcyB0aGUgYXBwZW5kZWQgdGV4dCwgbm90IHRoZSBuZXh0IG9uZS5cbiAgICAgIGNvbnN0IGFwcGVuZGVkUmFuZ2UgPSBmaXJzdFNpZGUuYXBwZW5kVGV4dCh0ZXh0VG9BcHBlbmQpO1xuICAgICAgY29uc3QgbmV4dE1hcmtlciA9IGNvbmZsaWN0Lm1hcmtlckFmdGVyKGZpcnN0U2lkZS5nZXRQb3NpdGlvbigpKTtcbiAgICAgIGlmIChuZXh0TWFya2VyKSB7XG4gICAgICAgIG5leHRNYXJrZXIuc2V0VGFpbEJ1ZmZlclBvc2l0aW9uKGFwcGVuZGVkUmFuZ2UuZW5kKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5pbm5lclJlc29sdmVBcyhjb25mbGljdCwgc291cmNlc1swXSk7XG4gICAgfSk7XG4gIH1cblxuICByZXNvbHZlQXMoY29uZmxpY3QsIHNvdXJjZSkge1xuICAgIHRoaXMucHJvcHMuZWRpdG9yLnRyYW5zYWN0KCgpID0+IHtcbiAgICAgIHRoaXMuaW5uZXJSZXNvbHZlQXMoY29uZmxpY3QsIHNvdXJjZSk7XG4gICAgfSk7XG4gIH1cblxuICBpbm5lclJlc29sdmVBcyhjb25mbGljdCwgc291cmNlKSB7XG4gICAgY29uZmxpY3QucmVzb2x2ZUFzKHNvdXJjZSk7XG5cbiAgICBjb25zdCBjaG9zZW5TaWRlID0gY29uZmxpY3QuZ2V0Q2hvc2VuU2lkZSgpO1xuICAgIGlmICghY2hvc2VuU2lkZS5pc0Jhbm5lck1vZGlmaWVkKCkpIHtcbiAgICAgIGNob3NlblNpZGUuZGVsZXRlQmFubmVyKCk7XG4gICAgfVxuXG4gICAgY29uc3Qgc2VwYXJhdG9yID0gY29uZmxpY3QuZ2V0U2VwYXJhdG9yKCk7XG4gICAgaWYgKCFzZXBhcmF0b3IuaXNNb2RpZmllZCgpKSB7XG4gICAgICBzZXBhcmF0b3IuZGVsZXRlKCk7XG4gICAgfVxuXG4gICAgY29uZmxpY3QuZ2V0VW5jaG9zZW5TaWRlcygpLmZvckVhY2goc2lkZSA9PiB7XG4gICAgICBzaWRlLmRlbGV0ZUJhbm5lcigpO1xuICAgICAgc2lkZS5kZWxldGUoKTtcbiAgICB9KTtcblxuICAgIHRoaXMudXBkYXRlTWFya2VyQ291bnQoKTtcbiAgfVxuXG4gIHNjcm9sbFRvRmlyc3RDb25mbGljdCgpIHtcbiAgICBsZXQgZmlyc3RDb25mbGljdCA9IG51bGw7XG4gICAgZm9yIChjb25zdCBjb25mbGljdCBvZiB0aGlzLnN0YXRlLmNvbmZsaWN0cykge1xuICAgICAgaWYgKGZpcnN0Q29uZmxpY3QgPT0gbnVsbCB8fCBmaXJzdENvbmZsaWN0LmdldFJhbmdlKCkuY29tcGFyZShjb25mbGljdC5nZXRSYW5nZSgpKSA+IDApIHtcbiAgICAgICAgZmlyc3RDb25mbGljdCA9IGNvbmZsaWN0O1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChmaXJzdENvbmZsaWN0KSB7XG4gICAgICB0aGlzLnByb3BzLmVkaXRvci5zY3JvbGxUb0J1ZmZlclBvc2l0aW9uKGZpcnN0Q29uZmxpY3QuZ2V0UmFuZ2UoKS5zdGFydCwge2NlbnRlcjogdHJ1ZX0pO1xuICAgIH1cbiAgfVxuXG4gIHJlcGFyc2VDb25mbGljdHMoKSB7XG4gICAgY29uc3QgbmV3Q29uZmxpY3RzID0gbmV3IFNldChDb25mbGljdC5hbGxGcm9tRWRpdG9yKHRoaXMucHJvcHMuZWRpdG9yLCB0aGlzLmxheWVyLCB0aGlzLnByb3BzLmlzUmViYXNlKSk7XG4gICAgdGhpcy5zZXRTdGF0ZSh7Y29uZmxpY3RzOiBuZXdDb25mbGljdHN9KTtcbiAgfVxuXG4gIHVwZGF0ZU1hcmtlckNvdW50KCkge1xuICAgIHRoaXMucHJvcHMucmVzb2x1dGlvblByb2dyZXNzLnJlcG9ydE1hcmtlckNvdW50KFxuICAgICAgdGhpcy5wcm9wcy5lZGl0b3IuZ2V0UGF0aCgpLFxuICAgICAgQXJyYXkuZnJvbSh0aGlzLnN0YXRlLmNvbmZsaWN0cywgYyA9PiAhYy5pc1Jlc29sdmVkKCkpLmZpbHRlcihiID0+IGIpLmxlbmd0aCxcbiAgICApO1xuICB9XG59XG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLFNBQUEsR0FBQUMsT0FBQTtBQUNBLElBQUFDLE1BQUEsR0FBQUMsc0JBQUEsQ0FBQUYsT0FBQTtBQUNBLElBQUFHLFVBQUEsR0FBQUQsc0JBQUEsQ0FBQUYsT0FBQTtBQUNBLElBQUFJLFlBQUEsR0FBQUYsc0JBQUEsQ0FBQUYsT0FBQTtBQUVBLElBQUFLLFNBQUEsR0FBQUMsdUJBQUEsQ0FBQU4sT0FBQTtBQUNBLElBQUFPLFNBQUEsR0FBQUwsc0JBQUEsQ0FBQUYsT0FBQTtBQUNBLElBQUFRLG1CQUFBLEdBQUFOLHNCQUFBLENBQUFGLE9BQUE7QUFDQSxJQUFBUyxPQUFBLEdBQUFULE9BQUE7QUFDQSxJQUFBVSxRQUFBLEdBQUFWLE9BQUE7QUFBb0MsU0FBQVcseUJBQUFDLENBQUEsNkJBQUFDLE9BQUEsbUJBQUFDLENBQUEsT0FBQUQsT0FBQSxJQUFBRSxDQUFBLE9BQUFGLE9BQUEsWUFBQUYsd0JBQUEsWUFBQUEsQ0FBQUMsQ0FBQSxXQUFBQSxDQUFBLEdBQUFHLENBQUEsR0FBQUQsQ0FBQSxLQUFBRixDQUFBO0FBQUEs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