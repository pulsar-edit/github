"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _react = _interopRequireDefault(require("react"));
var _propTypes = _interopRequireDefault(require("prop-types"));
var _path = _interopRequireDefault(require("path"));
var _helpers = require("../helpers");
var _reporterProxy = require("../reporter-proxy");
var _propTypes2 = require("../prop-types");
var _changedFileItem = _interopRequireDefault(require("../items/changed-file-item"));
var _multiFilePatchView = _interopRequireDefault(require("../views/multi-file-patch-view"));
function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }
function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }
function _toPropertyKey(arg) { var key = _toPrimitive(arg, "string"); return typeof key === "symbol" ? key : String(key); }
function _toPrimitive(input, hint) { if (typeof input !== "object" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || "default"); if (typeof res !== "object") return res; throw new TypeError("@@toPrimitive must return a primitive value."); } return (hint === "string" ? String : Number)(input); }
class MultiFilePatchController extends _react.default.Component {
  constructor(props) {
    super(props);
    (0, _helpers.autobind)(this, 'selectedRowsChanged', 'undoLastDiscard', 'diveIntoMirrorPatch', 'openFile', 'toggleFile', 'toggleRows', 'toggleModeChange', 'toggleSymlinkChange', 'discardRows');
    this.state = {
      selectionMode: 'hunk',
      selectedRows: new Set(),
      hasMultipleFileSelections: false
    };
    this.mouseSelectionInProgress = false;
    this.stagingOperationInProgress = false;
    this.lastPatchString = null;
    this.patchChangePromise = new Promise(resolve => {
      this.resolvePatchChangePromise = resolve;
    });
  }
  componentDidUpdate(prevProps) {
    if (this.lastPatchString !== null && this.lastPatchString !== this.props.multiFilePatch.toString()) {
      this.resolvePatchChangePromise();
      this.patchChangePromise = new Promise(resolve => {
        this.resolvePatchChangePromise = resolve;
      });
    }
  }
  render() {
    return _react.default.createElement(_multiFilePatchView.default, _extends({}, this.props, {
      selectedRows: this.state.selectedRows,
      selectionMode: this.state.selectionMode,
      hasMultipleFileSelections: this.state.hasMultipleFileSelections,
      selectedRowsChanged: this.selectedRowsChanged,
      diveIntoMirrorPatch: this.diveIntoMirrorPatch,
      openFile: this.openFile,
      toggleFile: this.toggleFile,
      toggleRows: this.toggleRows,
      toggleModeChange: this.toggleModeChange,
      toggleSymlinkChange: this.toggleSymlinkChange,
      undoLastDiscard: this.undoLastDiscard,
      discardRows: this.discardRows,
      selectNextHunk: this.selectNextHunk,
      selectPreviousHunk: this.selectPreviousHunk,
      switchToIssueish: this.props.switchToIssueish
    }));
  }
  undoLastDiscard(filePatch, {
    eventSource
  } = {}) {
    (0, _reporterProxy.addEvent)('undo-last-discard', {
      package: 'github',
      component: this.constructor.name,
      eventSource
    });
    return this.props.undoLastDiscard(filePatch.getPath(), this.props.repository);
  }
  diveIntoMirrorPatch(filePatch) {
    const mirrorStatus = this.withStagingStatus({
      staged: 'unstaged',
      unstaged: 'staged'
    });
    const workingDirectory = this.props.repository.getWorkingDirectoryPath();
    const uri = _changedFileItem.default.buildURI(filePatch.getPath(), workingDirectory, mirrorStatus);
    this.props.destroy();
    return this.props.workspace.open(uri);
  }
  async openFile(filePatch, positions, pending) {
    const absolutePath = _path.default.join(this.props.repository.getWorkingDirectoryPath(), filePatch.getPath());
    const editor = await this.props.workspace.open(absolutePath, {
      pending
    });
    if (positions.length > 0) {
      editor.setCursorBufferPosition(positions[0], {
        autoscroll: false
      });
      for (const position of positions.slice(1)) {
        editor.addCursorAtBufferPosition(position);
      }
      editor.scrollToBufferPosition(positions[positions.length - 1], {
        center: true
      });
    }
    return editor;
  }
  toggleFile(filePatch) {
    return this.stagingOperation(() => {
      const methodName = this.withStagingStatus({
        staged: 'unstageFiles',
        unstaged: 'stageFiles'
      });
      return this.props.repository[methodName]([filePatch.getPath()]);
    });
  }
  async toggleRows(rowSet, nextSelectionMode) {
    let chosenRows = rowSet;
    if (chosenRows) {
      const nextMultipleFileSelections = this.props.multiFilePatch.spansMultipleFiles(chosenRows);
      await this.selectedRowsChanged(chosenRows, nextSelectionMode, nextMultipleFileSelections);
    } else {
      chosenRows = this.state.selectedRows;
    }
    if (chosenRows.size === 0) {
      return Promise.resolve();
    }
    return this.stagingOperation(() => {
      const patch = this.withStagingStatus({
        staged: () => this.props.multiFilePatch.getUnstagePatchForLines(chosenRows),
        unstaged: () => this.props.multiFilePatch.getStagePatchForLines(chosenRows)
      });
      return this.props.repository.applyPatchToIndex(patch);
    });
  }
  toggleModeChange(filePatch) {
    return this.stagingOperation(() => {
      const targetMode = this.withStagingStatus({
        unstaged: filePatch.getNewMode(),
        staged: filePatch.getOldMode()
      });
      return this.props.repository.stageFileModeChange(filePatch.getPath(), targetMode);
    });
  }
  toggleSymlinkChange(filePatch) {
    return this.stagingOperation(() => {
      const relPath = filePatch.getPath();
      const repository = this.props.repository;
      return this.withStagingStatus({
        unstaged: () => {
          if (filePatch.hasTypechange() && filePatch.getStatus() === 'added') {
            return repository.stageFileSymlinkChange(relPath);
          }
          return repository.stageFiles([relPath]);
        },
        staged: () => {
          if (filePatch.hasTypechange() && filePatch.getStatus() === 'deleted') {
            return repository.stageFileSymlinkChange(relPath);
          }
          return repository.unstageFiles([relPath]);
        }
      });
    });
  }
  async discardRows(rowSet, nextSelectionMode, {
    eventSource
  } = {}) {
    // (kuychaco) For now we only support discarding rows for MultiFilePatches that contain a single file patch
    // The only way to access this method from the UI is to be in a ChangedFileItem, which only has a single file patch
    // This check is duplicated in RootController#discardLines. We also want it here to prevent us from sending metrics
    // unnecessarily
    if (this.props.multiFilePatch.getFilePatches().length !== 1) {
      return Promise.resolve(null);
    }
    let chosenRows = rowSet;
    if (chosenRows) {
      const nextMultipleFileSelections = this.props.multiFilePatch.spansMultipleFiles(chosenRows);
      await this.selectedRowsChanged(chosenRows, nextSelectionMode, nextMultipleFileSelections);
    } else {
      chosenRows = this.state.selectedRows;
    }
    (0, _reporterProxy.addEvent)('discard-unstaged-changes', {
      package: 'github',
      component: this.constructor.name,
      lineCount: chosenRows.size,
      eventSource
    });
    return this.props.discardLines(this.props.multiFilePatch, chosenRows, this.props.repository);
  }
  selectedRowsChanged(rows, nextSelectionMode, nextMultipleFileSelections) {
    if ((0, _helpers.equalSets)(this.state.selectedRows, rows) && this.state.selectionMode === nextSelectionMode && this.state.hasMultipleFileSelections === nextMultipleFileSelections) {
      return Promise.resolve();
    }
    return new Promise(resolve => {
      this.setState({
        selectedRows: rows,
        selectionMode: nextSelectionMode,
        hasMultipleFileSelections: nextMultipleFileSelections
      }, resolve);
    });
  }
  withStagingStatus(callbacks) {
    const callback = callbacks[this.props.stagingStatus];
    /* istanbul ignore if */
    if (!callback) {
      throw new Error(`Unknown staging status: ${this.props.stagingStatus}`);
    }
    return callback instanceof Function ? callback() : callback;
  }
  stagingOperation(fn) {
    if (this.stagingOperationInProgress) {
      return null;
    }
    this.stagingOperationInProgress = true;
    this.lastPatchString = this.props.multiFilePatch.toString();
    const operationPromise = fn();
    operationPromise.then(() => this.patchChangePromise).then(() => {
      this.stagingOperationInProgress = false;
      this.lastPatchString = null;
    });
    return operationPromise;
  }
}
exports.default = MultiFilePatchController;
_defineProperty(MultiFilePatchController, "propTypes", {
  repository: _propTypes.default.object.isRequired,
  stagingStatus: _propTypes.default.oneOf(['staged', 'unstaged']),
  multiFilePatch: _propTypes2.MultiFilePatchPropType.isRequired,
  hasUndoHistory: _propTypes.default.bool,
  reviewCommentsLoading: _propTypes.default.bool,
  reviewCommentThreads: _propTypes.default.arrayOf(_propTypes.default.shape({
    thread: _propTypes.default.object.isRequired,
    comments: _propTypes.default.arrayOf(_propTypes.default.object).isRequired
  })),
  workspace: _propTypes.default.object.isRequired,
  commands: _propTypes.default.object.isRequired,
  keymaps: _propTypes.default.object.isRequired,
  tooltips: _propTypes.default.object.isRequired,
  config: _propTypes.default.object.isRequired,
  destroy: _propTypes.default.func.isRequired,
  discardLines: _propTypes.default.func,
  undoLastDiscard: _propTypes.default.func,
  surface: _propTypes.default.func,
  switchToIssueish: _propTypes.default.func
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmVhY3QiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9wcm9wVHlwZXMiLCJfcGF0aCIsIl9oZWxwZXJzIiwiX3JlcG9ydGVyUHJveHkiLCJfcHJvcFR5cGVzMiIsIl9jaGFuZ2VkRmlsZUl0ZW0iLCJfbXVsdGlGaWxlUGF0Y2hWaWV3Iiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJfZXh0ZW5kcyIsIk9iamVjdCIsImFzc2lnbiIsImJpbmQiLCJ0YXJnZXQiLCJpIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwic291cmNlIiwia2V5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiYXBwbHkiLCJfZGVmaW5lUHJvcGVydHkiLCJ2YWx1ZSIsIl90b1Byb3BlcnR5S2V5IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiY29uZmlndXJhYmxlIiwid3JpdGFibGUiLCJhcmciLCJfdG9QcmltaXRpdmUiLCJTdHJpbmciLCJpbnB1dCIsImhpbnQiLCJwcmltIiwiU3ltYm9sIiwidG9QcmltaXRpdmUiLCJ1bmRlZmluZWQiLCJyZXMiLCJUeXBlRXJyb3IiLCJOdW1iZXIiLCJNdWx0aUZpbGVQYXRjaENvbnRyb2xsZXIiLCJSZWFjdCIsIkNvbXBvbmVudCIsImNvbnN0cnVjdG9yIiwicHJvcHMiLCJhdXRvYmluZCIsInN0YXRlIiwic2VsZWN0aW9uTW9kZSIsInNlbGVjdGVkUm93cyIsIlNldCIsImhhc011bHRpcGxlRmlsZVNlbGVjdGlvbnMiLCJtb3VzZVNlbGVjdGlvbkluUHJvZ3Jlc3MiLCJzdGFnaW5nT3BlcmF0aW9uSW5Qcm9ncmVzcyIsImxhc3RQYXRjaFN0cmluZyIsInBhdGNoQ2hhbmdlUHJvbWlzZSIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVzb2x2ZVBhdGNoQ2hhbmdlUHJvbWlzZSIsImNvbXBvbmVudERpZFVwZGF0ZSIsInByZXZQcm9wcyIsIm11bHRpRmlsZVBhdGNoIiwidG9TdHJpbmciLCJyZW5kZXIiLCJjcmVhdGVFbGVtZW50Iiwic2VsZWN0ZWRSb3dzQ2hhbmdlZCIsImRpdmVJbnRvTWlycm9yUGF0Y2giLCJvcGVuRmlsZSIsInRvZ2dsZUZpbGUiLCJ0b2dnbGVSb3dzIiwidG9nZ2xlTW9kZUNoYW5nZSIsInRvZ2dsZVN5bWxpbmtDaGFuZ2UiLCJ1bmRvTGFzdERpc2NhcmQiLCJkaXNjYXJkUm93cyIsInNlbGVjdE5leHRIdW5rIiwic2VsZWN0UHJldmlvdXNIdW5rIiwic3dpdGNoVG9Jc3N1ZWlzaCIsImZpbGVQYXRjaCIsImV2ZW50U291cmNlIiwiYWRkRXZlbnQiLCJwYWNrYWdlIiwiY29tcG9uZW50IiwibmFtZSIsImdldFBhdGgiLCJyZXBvc2l0b3J5IiwibWlycm9yU3RhdHVzIiwid2l0aFN0YWdpbmdTdGF0dXMiLCJzdGFnZWQiLCJ1bnN0YWdlZCIsIndvcmtpbmdEaXJlY3RvcnkiLCJnZXRXb3JraW5nRGlyZWN0b3J5UGF0aCIsInVyaSIsIkNoYW5nZWRGaWxlSXRlbSIsImJ1aWxkVVJJIiwiZGVzdHJveSIsIndvcmtzcGFjZSIsIm9wZW4iLCJwb3NpdGlvbnMiLCJwZW5kaW5nIiwiYWJzb2x1dGVQYXRoIiwicGF0aCIsImpvaW4iLCJlZGl0b3IiLCJzZXRDdXJzb3JCdWZmZXJQb3NpdGlvbiIsImF1dG9zY3JvbGwiLCJwb3NpdGlvbiIsInNsaWNlIiwiYWRkQ3Vyc29yQXRCdWZmZXJQb3NpdGlvbiIsInNjcm9sbFRvQnVmZmVyUG9zaXRpb24iLCJjZW50ZXIiLCJzdGFnaW5nT3BlcmF0aW9uIiwibWV0aG9kTmFtZSIsInJvd1NldCIsIm5leHRTZWxlY3Rpb25Nb2RlIiwiY2hvc2VuUm93cyIsIm5leHRNdWx0aXBsZUZpbGVTZWxlY3Rpb25zIiwic3BhbnNNdWx0aXBsZUZpbGVzIiwic2l6ZSIsInBhdGNoIiwiZ2V0VW5zdGFnZVBhdGNoRm9yTGluZXMiLCJnZXRTdGFnZVBhdGNoRm9yTGluZXMiLCJhcHBseVBhdGNoVG9JbmRleCIsInRhcmdldE1vZGUiLCJnZXROZXdNb2RlIiwiZ2V0T2xkTW9kZSIsInN0YWdlRmlsZU1vZGVDaGFuZ2UiLCJyZWxQYXRoIiwiaGFzVHlwZWNoYW5nZSIsImdldFN0YXR1cyIsInN0YWdlRmlsZVN5bWxpbmtDaGFuZ2UiLCJzdGFnZUZpbGVzIiwidW5zdGFnZUZpbGVzIiwiZ2V0RmlsZVBhdGNoZXMiLCJsaW5lQ291bnQiLCJkaXNjYXJkTGluZXMiLCJyb3dzIiwiZXF1YWxTZXRzIiwic2V0U3RhdGUiLCJjYWxsYmFja3MiLCJjYWxsYmFjayIsInN0YWdpbmdTdGF0dXMiLCJFcnJvciIsIkZ1bmN0aW9uIiwiZm4iLCJvcGVyYXRpb25Qcm9taXNlIiwidGhlbiIsImV4cG9ydHMiLCJQcm9wVHlwZXMiLCJvYmplY3QiLCJpc1JlcXVpcmVkIiwib25lT2YiLCJNdWx0aUZpbGVQYXRjaFByb3BUeXBlIiwiaGFzVW5kb0hpc3RvcnkiLCJib29sIiwicmV2aWV3Q29tbWVudHNMb2FkaW5nIiwicmV2aWV3Q29tbWVudFRocmVhZHMiLCJhcnJheU9mIiwic2hhcGUiLCJ0aHJlYWQiLCJjb21tZW50cyIsImNvbW1hbmRzIiwia2V5bWFwcyIsInRvb2x0aXBzIiwiY29uZmlnIiwiZnVuYyIsInN1cmZhY2UiXSwic291cmNlcyI6WyJtdWx0aS1maWxlLXBhdGNoLWNvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgcGF0aCBmcm9tICdwYXRoJztcblxuaW1wb3J0IHthdXRvYmluZCwgZXF1YWxTZXRzfSBmcm9tICcuLi9oZWxwZXJzJztcbmltcG9ydCB7YWRkRXZlbnR9IGZyb20gJy4uL3JlcG9ydGVyLXByb3h5JztcbmltcG9ydCB7TXVsdGlGaWxlUGF0Y2hQcm9wVHlwZX0gZnJvbSAnLi4vcHJvcC10eXBlcyc7XG5pbXBvcnQgQ2hhbmdlZEZpbGVJdGVtIGZyb20gJy4uL2l0ZW1zL2NoYW5nZWQtZmlsZS1pdGVtJztcbmltcG9ydCBNdWx0aUZpbGVQYXRjaFZpZXcgZnJvbSAnLi4vdmlld3MvbXVsdGktZmlsZS1wYXRjaC12aWV3JztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTXVsdGlGaWxlUGF0Y2hDb250cm9sbGVyIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgc3RhdGljIHByb3BUeXBlcyA9IHtcbiAgICByZXBvc2l0b3J5OiBQcm9wVHlwZXMub2JqZWN0LmlzUmVxdWlyZWQsXG4gICAgc3RhZ2luZ1N0YXR1czogUHJvcFR5cGVzLm9uZU9mKFsnc3RhZ2VkJywgJ3Vuc3RhZ2VkJ10pLFxuICAgIG11bHRpRmlsZVBhdGNoOiBNdWx0aUZpbGVQYXRjaFByb3BUeXBlLmlzUmVxdWlyZWQsXG4gICAgaGFzVW5kb0hpc3Rvcnk6IFByb3BUeXBlcy5ib29sLFxuXG4gICAgcmV2aWV3Q29tbWVudHNMb2FkaW5nOiBQcm9wVHlwZXMuYm9vbCxcbiAgICByZXZpZXdDb21tZW50VGhyZWFkczogUHJvcFR5cGVzLmFycmF5T2YoUHJvcFR5cGVzLnNoYXBlKHtcbiAgICAgIHRocmVhZDogUHJvcFR5cGVzLm9iamVjdC5pc1JlcXVpcmVkLFxuICAgICAgY29tbWVudHM6IFByb3BUeXBlcy5hcnJheU9mKFByb3BUeXBlcy5vYmplY3QpLmlzUmVxdWlyZWQsXG4gICAgfSkpLFxuXG4gICAgd29ya3NwYWNlOiBQcm9wVHlwZXMub2JqZWN0LmlzUmVxdWlyZWQsXG4gICAgY29tbWFuZHM6IFByb3BUeXBlcy5vYmplY3QuaXNSZXF1aXJlZCxcbiAgICBrZXltYXBzOiBQcm9wVHlwZXMub2JqZWN0LmlzUmVxdWlyZWQsXG4gICAgdG9vbHRpcHM6IFByb3BUeXBlcy5vYmplY3QuaXNSZXF1aXJlZCxcbiAgICBjb25maWc6IFByb3BUeXBlcy5vYmplY3QuaXNSZXF1aXJlZCxcblxuICAgIGRlc3Ryb3k6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXG4gICAgZGlzY2FyZExpbmVzOiBQcm9wVHlwZXMuZnVuYyxcbiAgICB1bmRvTGFzdERpc2NhcmQ6IFByb3BUeXBlcy5mdW5jLFxuICAgIHN1cmZhY2U6IFByb3BUeXBlcy5mdW5jLFxuICAgIHN3aXRjaFRvSXNzdWVpc2g6IFByb3BUeXBlcy5mdW5jLFxuICB9XG5cbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgYXV0b2JpbmQoXG4gICAgICB0aGlzLFxuICAgICAgJ3NlbGVjdGVkUm93c0NoYW5nZWQnLFxuICAgICAgJ3VuZG9MYXN0RGlzY2FyZCcsICdkaXZlSW50b01pcnJvclBhdGNoJywgJ29wZW5GaWxlJyxcbiAgICAgICd0b2dnbGVGaWxlJywgJ3RvZ2dsZVJvd3MnLCAndG9nZ2xlTW9kZUNoYW5nZScsICd0b2dnbGVTeW1saW5rQ2hhbmdlJywgJ2Rpc2NhcmRSb3dzJyxcbiAgICApO1xuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIHNlbGVjdGlvbk1vZGU6ICdodW5rJyxcbiAgICAgIHNlbGVjdGVkUm93czogbmV3IFNldCgpLFxuICAgICAgaGFzTXVsdGlwbGVGaWxlU2VsZWN0aW9uczogZmFsc2UsXG4gICAgfTtcblxuICAgIHRoaXMubW91c2VTZWxlY3Rpb25JblByb2dyZXNzID0gZmFsc2U7XG4gICAgdGhpcy5zdGFnaW5nT3BlcmF0aW9uSW5Qcm9ncmVzcyA9IGZhbHNlO1xuXG4gICAgdGhpcy5sYXN0UGF0Y2hTdHJpbmcgPSBudWxsO1xuICAgIHRoaXMucGF0Y2hDaGFuZ2VQcm9taXNlID0gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICB0aGlzLnJlc29sdmVQYXRjaENoYW5nZVByb21pc2UgPSByZXNvbHZlO1xuICAgIH0pO1xuICB9XG5cbiAgY29tcG9uZW50RGlkVXBkYXRlKHByZXZQcm9wcykge1xuICAgIGlmIChcbiAgICAgIHRoaXMubGFzdFBhdGNoU3RyaW5nICE9PSBudWxsICYmXG4gICAgICB0aGlzLmxhc3RQYXRjaFN0cmluZyAhPT0gdGhpcy5wcm9wcy5tdWx0aUZpbGVQYXRjaC50b1N0cmluZygpXG4gICAgKSB7XG4gICAgICB0aGlzLnJlc29sdmVQYXRjaENoYW5nZVByb21pc2UoKTtcbiAgICAgIHRoaXMucGF0Y2hDaGFuZ2VQcm9taXNlID0gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICAgIHRoaXMucmVzb2x2ZVBhdGNoQ2hhbmdlUHJvbWlzZSA9IHJlc29sdmU7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxNdWx0aUZpbGVQYXRjaFZpZXdcbiAgICAgICAgey4uLnRoaXMucHJvcHN9XG5cbiAgICAgICAgc2VsZWN0ZWRSb3dzPXt0aGlzLnN0YXRlLnNlbGVjdGVkUm93c31cbiAgICAgICAgc2VsZWN0aW9uTW9kZT17dGhpcy5zdGF0ZS5zZWxlY3Rpb25Nb2RlfVxuICAgICAgICBoYXNNdWx0aXBsZUZpbGVTZWxlY3Rpb25zPXt0aGlzLnN0YXRlLmhhc011bHRpcGxlRmlsZVNlbGVjdGlvbnN9XG4gICAgICAgIHNlbGVjdGVkUm93c0NoYW5nZWQ9e3RoaXMuc2VsZWN0ZWRSb3dzQ2hhbmdlZH1cblxuICAgICAgICBkaXZlSW50b01pcnJvclBhdGNoPXt0aGlzLmRpdmVJbnRvTWlycm9yUGF0Y2h9XG4gICAgICAgIG9wZW5GaWxlPXt0aGlzLm9wZW5GaWxlfVxuICAgICAgICB0b2dnbGVGaWxlPXt0aGlzLnRvZ2dsZUZpbGV9XG4gICAgICAgIHRvZ2dsZVJvd3M9e3RoaXMudG9nZ2xlUm93c31cbiAgICAgICAgdG9nZ2xlTW9kZUNoYW5nZT17dGhpcy50b2dnbGVNb2RlQ2hhbmdlfVxuICAgICAgICB0b2dnbGVTeW1saW5rQ2hhbmdlPXt0aGlzLnRvZ2dsZVN5bWxpbmtDaGFuZ2V9XG4gICAgICAgIHVuZG9MYXN0RGlzY2FyZD17dGhpcy51bmRvTGFzdERpc2NhcmR9XG4gICAgICAgIGRpc2NhcmRSb3dzPXt0aGlzLmRpc2NhcmRSb3dzfVxuICAgICAgICBzZWxlY3ROZXh0SHVuaz17dGhpcy5zZWxlY3ROZXh0SHVua31cbiAgICAgICAgc2VsZWN0UHJldmlvdXNIdW5rPXt0aGlzLnNlbGVjdFByZXZpb3VzSHVua31cbiAgICAgICAgc3dpdGNoVG9Jc3N1ZWlzaD17dGhpcy5wcm9wcy5zd2l0Y2hUb0lzc3VlaXNofVxuICAgICAgLz5cbiAgICApO1xuICB9XG5cbiAgdW5kb0xhc3REaXNjYXJkKGZpbGVQYXRjaCwge2V2ZW50U291cmNlfSA9IHt9KSB7XG4gICAgYWRkRXZlbnQoJ3VuZG8tbGFzdC1kaXNjYXJkJywge1xuICAgICAgcGFja2FnZTogJ2dpdGh1YicsXG4gICAgICBjb21wb25lbnQ6IHRoaXMuY29uc3RydWN0b3IubmFtZSxcbiAgICAgIGV2ZW50U291cmNlLFxuICAgIH0pO1xuXG4gICAgcmV0dXJuIHRoaXMucHJvcHMudW5kb0xhc3REaXNjYXJkKGZpbGVQYXRjaC5nZXRQYXRoKCksIHRoaXMucHJvcHMucmVwb3NpdG9yeSk7XG4gIH1cblxuICBkaXZlSW50b01pcnJvclBhdGNoKGZpbGVQYXRjaCkge1xuICAgIGNvbnN0IG1pcnJvclN0YXR1cyA9IHRoaXMud2l0aFN0YWdpbmdTdGF0dXMoe3N0YWdlZDogJ3Vuc3RhZ2VkJywgdW5zdGFnZWQ6ICdzdGFnZWQnfSk7XG4gICAgY29uc3Qgd29ya2luZ0RpcmVjdG9yeSA9IHRoaXMucHJvcHMucmVwb3NpdG9yeS5nZXRXb3JraW5nRGlyZWN0b3J5UGF0aCgpO1xuICAgIGNvbnN0IHVyaSA9IENoYW5nZWRGaWxlSXRlbS5idWlsZFVSSShmaWxlUGF0Y2guZ2V0UGF0aCgpLCB3b3JraW5nRGlyZWN0b3J5LCBtaXJyb3JTdGF0dXMpO1xuXG4gICAgdGhpcy5wcm9wcy5kZXN0cm95KCk7XG4gICAgcmV0dXJuIHRoaXMucHJvcHMud29ya3NwYWNlLm9wZW4odXJpKTtcbiAgfVxuXG4gIGFzeW5jIG9wZW5GaWxlKGZpbGVQYXRjaCwgcG9zaXRpb25zLCBwZW5kaW5nKSB7XG4gICAgY29uc3QgYWJzb2x1dGVQYXRoID0gcGF0aC5qb2luKHRoaXMucHJvcHMucmVwb3NpdG9yeS5nZXRXb3JraW5nRGlyZWN0b3J5UGF0aCgpLCBmaWxlUGF0Y2guZ2V0UGF0aCgpKTtcbiAgICBjb25zdCBlZGl0b3IgPSBhd2FpdCB0aGlzLnByb3BzLndvcmtzcGFjZS5vcGVuKGFic29sdXRlUGF0aCwge3BlbmRpbmd9KTtcbiAgICBpZiAocG9zaXRpb25zLmxlbmd0aCA+IDApIHtcbiAgICAgIGVkaXRvci5zZXRDdXJzb3JCdWZmZXJQb3NpdGlvbihwb3NpdGlvbnNbMF0sIHthdXRvc2Nyb2xsOiBmYWxzZX0pO1xuICAgICAgZm9yIChjb25zdCBwb3NpdGlvbiBvZiBwb3NpdGlvbnMuc2xpY2UoMSkpIHtcbiAgICAgICAgZWRpdG9yLmFkZEN1cnNvckF0QnVmZmVyUG9zaXRpb24ocG9zaXRpb24pO1xuICAgICAgfVxuICAgICAgZWRpdG9yLnNjcm9sbFRvQnVmZmVyUG9zaXRpb24ocG9zaXRpb25zW3Bvc2l0aW9ucy5sZW5ndGggLSAxXSwge2NlbnRlcjogdHJ1ZX0pO1xuICAgIH1cbiAgICByZXR1cm4gZWRpdG9yO1xuICB9XG5cbiAgdG9nZ2xlRmlsZShmaWxlUGF0Y2gpIHtcbiAgICByZXR1cm4gdGhpcy5zdGFnaW5nT3BlcmF0aW9uKCgpID0+IHtcbiAgICAgIGNvbnN0IG1ldGhvZE5hbWUgPSB0aGlzLndpdGhTdGFnaW5nU3RhdHVzKHtzdGFnZWQ6ICd1bnN0YWdlRmlsZXMnLCB1bnN0YWdlZDogJ3N0YWdlRmlsZXMnfSk7XG4gICAgICByZXR1cm4gdGhpcy5wcm9wcy5yZXBvc2l0b3J5W21ldGhvZE5hbWVdKFtmaWxlUGF0Y2guZ2V0UGF0aCgpXSk7XG4gICAgfSk7XG4gIH1cblxuICBhc3luYyB0b2dnbGVSb3dzKHJvd1NldCwgbmV4dFNlbGVjdGlvbk1vZGUpIHtcbiAgICBsZXQgY2hvc2VuUm93cyA9IHJvd1NldDtcbiAgICBpZiAoY2hvc2VuUm93cykge1xuICAgICAgY29uc3QgbmV4dE11bHRpcGxlRmlsZVNlbGVjdGlvbnMgPSB0aGlzLnByb3BzLm11bHRpRmlsZVBhdGNoLnNwYW5zTXVsdGlwbGVGaWxlcyhjaG9zZW5Sb3dzKTtcbiAgICAgIGF3YWl0IHRoaXMuc2VsZWN0ZWRSb3dzQ2hhbmdlZChjaG9zZW5Sb3dzLCBuZXh0U2VsZWN0aW9uTW9kZSwgbmV4dE11bHRpcGxlRmlsZVNlbGVjdGlvbnMpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjaG9zZW5Sb3dzID0gdGhpcy5zdGF0ZS5zZWxlY3RlZFJvd3M7XG4gICAgfVxuXG4gICAgaWYgKGNob3NlblJvd3Muc2l6ZSA9PT0gMCkge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLnN0YWdpbmdPcGVyYXRpb24oKCkgPT4ge1xuICAgICAgY29uc3QgcGF0Y2ggPSB0aGlzLndpdGhTdGFnaW5nU3RhdHVzKHtcbiAgICAgICAgc3RhZ2VkOiAoKSA9PiB0aGlzLnByb3BzLm11bHRpRmlsZVBhdGNoLmdldFVuc3RhZ2VQYXRjaEZvckxpbmVzKGNob3NlblJvd3MpLFxuICAgICAgICB1bnN0YWdlZDogKCkgPT4gdGhpcy5wcm9wcy5tdWx0aUZpbGVQYXRjaC5nZXRTdGFnZVBhdGNoRm9yTGluZXMoY2hvc2VuUm93cyksXG4gICAgICB9KTtcbiAgICAgIHJldHVybiB0aGlzLnByb3BzLnJlcG9zaXRvcnkuYXBwbHlQYXRjaFRvSW5kZXgocGF0Y2gpO1xuICAgIH0pO1xuICB9XG5cbiAgdG9nZ2xlTW9kZUNoYW5nZShmaWxlUGF0Y2gpIHtcbiAgICByZXR1cm4gdGhpcy5zdGFnaW5nT3BlcmF0aW9uKCgpID0+IHtcbiAgICAgIGNvbnN0IHRhcmdldE1vZGUgPSB0aGlzLndpdGhTdGFnaW5nU3RhdHVzKHtcbiAgICAgICAgdW5zdGFnZWQ6IGZpbGVQYXRjaC5nZXROZXdNb2RlKCksXG4gICAgICAgIHN0YWdlZDogZmlsZVBhdGNoLmdldE9sZE1vZGUoKSxcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHRoaXMucHJvcHMucmVwb3NpdG9yeS5zdGFnZUZpbGVNb2RlQ2hhbmdlKGZpbGVQYXRjaC5nZXRQYXRoKCksIHRhcmdldE1vZGUpO1xuICAgIH0pO1xuICB9XG5cbiAgdG9nZ2xlU3ltbGlua0NoYW5nZShmaWxlUGF0Y2gpIHtcbiAgICByZXR1cm4gdGhpcy5zdGFnaW5nT3BlcmF0aW9uKCgpID0+IHtcbiAgICAgIGNvbnN0IHJlbFBhdGggPSBmaWxlUGF0Y2guZ2V0UGF0aCgpO1xuICAgICAgY29uc3QgcmVwb3NpdG9yeSA9IHRoaXMucHJvcHMucmVwb3NpdG9yeTtcbiAgICAgIHJldHVybiB0aGlzLndpdGhTdGFnaW5nU3RhdHVzKHtcbiAgICAgICAgdW5zdGFnZWQ6ICgpID0+IHtcbiAgICAgICAgICBpZiAoZmlsZVBhdGNoLmhhc1R5cGVjaGFuZ2UoKSAmJiBmaWxlUGF0Y2guZ2V0U3RhdHVzKCkgPT09ICdhZGRlZCcpIHtcbiAgICAgICAgICAgIHJldHVybiByZXBvc2l0b3J5LnN0YWdlRmlsZVN5bWxpbmtDaGFuZ2UocmVsUGF0aCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIHJlcG9zaXRvcnkuc3RhZ2VGaWxlcyhbcmVsUGF0aF0pO1xuICAgICAgICB9LFxuICAgICAgICBzdGFnZWQ6ICgpID0+IHtcbiAgICAgICAgICBpZiAoZmlsZVBhdGNoLmhhc1R5cGVjaGFuZ2UoKSAmJiBmaWxlUGF0Y2guZ2V0U3RhdHVzKCkgPT09ICdkZWxldGVkJykge1xuICAgICAgICAgICAgcmV0dXJuIHJlcG9zaXRvcnkuc3RhZ2VGaWxlU3ltbGlua0NoYW5nZShyZWxQYXRoKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gcmVwb3NpdG9yeS51bnN0YWdlRmlsZXMoW3JlbFBhdGhdKTtcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgYXN5bmMgZGlzY2FyZFJvd3Mocm93U2V0LCBuZXh0U2VsZWN0aW9uTW9kZSwge2V2ZW50U291cmNlfSA9IHt9KSB7XG4gICAgLy8gKGt1eWNoYWNvKSBGb3Igbm93IHdlIG9ubHkgc3VwcG9ydCBkaXNjYXJkaW5nIHJvd3MgZm9yIE11bHRpRmlsZVBhdGNoZXMgdGhhdCBjb250YWluIGEgc2luZ2xlIGZpbGUgcGF0Y2hcbiAgICAvLyBUaGUgb25seSB3YXkgdG8gYWNjZXNzIHRoaXMgbWV0aG9kIGZyb20gdGhlIFVJIGlzIHRvIGJlIGluIGEgQ2hhbmdlZEZpbGVJdGVtLCB3aGljaCBvbmx5IGhhcyBhIHNpbmdsZSBmaWxlIHBhdGNoXG4gICAgLy8gVGhpcyBjaGVjayBpcyBkdXBsaWNhdGVkIGluIFJvb3RDb250cm9sbGVyI2Rpc2NhcmRMaW5lcy4gV2UgYWxzbyB3YW50IGl0IGhlcmUgdG8gcHJldmVudCB1cyBmcm9tIHNlbmRpbmcgbWV0cmljc1xuICAgIC8vIHVubmVjZXNzYXJpbHlcbiAgICBpZiAodGhpcy5wcm9wcy5tdWx0aUZpbGVQYXRjaC5nZXRGaWxlUGF0Y2hlcygpLmxlbmd0aCAhPT0gMSkge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShudWxsKTtcbiAgICB9XG5cbiAgICBsZXQgY2hvc2VuUm93cyA9IHJvd1NldDtcbiAgICBpZiAoY2hvc2VuUm93cykge1xuICAgICAgY29uc3QgbmV4dE11bHRpcGxlRmlsZVNlbGVjdGlvbnMgPSB0aGlzLnByb3BzLm11bHRpRmlsZVBhdGNoLnNwYW5zTXVsdGlwbGVGaWxlcyhjaG9zZW5Sb3dzKTtcbiAgICAgIGF3YWl0IHRoaXMuc2VsZWN0ZWRSb3dzQ2hhbmdlZChjaG9zZW5Sb3dzLCBuZXh0U2VsZWN0aW9uTW9kZSwgbmV4dE11bHRpcGxlRmlsZVNlbGVjdGlvbnMpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjaG9zZW5Sb3dzID0gdGhpcy5zdGF0ZS5zZWxlY3RlZFJvd3M7XG4gICAgfVxuXG4gICAgYWRkRXZlbnQoJ2Rpc2NhcmQtdW5zdGFnZWQtY2hhbmdlcycsIHtcbiAgICAgIHBhY2thZ2U6ICdnaXRodWInLFxuICAgICAgY29tcG9uZW50OiB0aGlzLmNvbnN0cnVjdG9yLm5hbWUsXG4gICAgICBsaW5lQ291bnQ6IGNob3NlblJvd3Muc2l6ZSxcbiAgICAgIGV2ZW50U291cmNlLFxuICAgIH0pO1xuXG4gICAgcmV0dXJuIHRoaXMucHJvcHMuZGlzY2FyZExpbmVzKHRoaXMucHJvcHMubXVsdGlGaWxlUGF0Y2gsIGNob3NlblJvd3MsIHRoaXMucHJvcHMucmVwb3NpdG9yeSk7XG4gIH1cblxuICBzZWxlY3RlZFJvd3NDaGFuZ2VkKHJvd3MsIG5leHRTZWxlY3Rpb25Nb2RlLCBuZXh0TXVsdGlwbGVGaWxlU2VsZWN0aW9ucykge1xuICAgIGlmIChcbiAgICAgIGVxdWFsU2V0cyh0aGlzLnN0YXRlLnNlbGVjdGVkUm93cywgcm93cykgJiZcbiAgICAgIHRoaXMuc3RhdGUuc2VsZWN0aW9uTW9kZSA9PT0gbmV4dFNlbGVjdGlvbk1vZGUgJiZcbiAgICAgIHRoaXMuc3RhdGUuaGFzTXVsdGlwbGVGaWxlU2VsZWN0aW9ucyA9PT0gbmV4dE11bHRpcGxlRmlsZVNlbGVjdGlvbnNcbiAgICApIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgc2VsZWN0ZWRSb3dzOiByb3dzLFxuICAgICAgICBzZWxlY3Rpb25Nb2RlOiBuZXh0U2VsZWN0aW9uTW9kZSxcbiAgICAgICAgaGFzTXVsdGlwbGVGaWxlU2VsZWN0aW9uczogbmV4dE11bHRpcGxlRmlsZVNlbGVjdGlvbnMsXG4gICAgICB9LCByZXNvbHZlKTtcbiAgICB9KTtcbiAgfVxuXG4gIHdpdGhTdGFnaW5nU3RhdHVzKGNhbGxiYWNrcykge1xuICAgIGNvbnN0IGNhbGxiYWNrID0gY2FsbGJhY2tzW3RoaXMucHJvcHMuc3RhZ2luZ1N0YXR1c107XG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKCFjYWxsYmFjaykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmtub3duIHN0YWdpbmcgc3RhdHVzOiAke3RoaXMucHJvcHMuc3RhZ2luZ1N0YXR1c31gKTtcbiAgICB9XG4gICAgcmV0dXJuIGNhbGxiYWNrIGluc3RhbmNlb2YgRnVuY3Rpb24gPyBjYWxsYmFjaygpIDogY2FsbGJhY2s7XG4gIH1cblxuICBzdGFnaW5nT3BlcmF0aW9uKGZuKSB7XG4gICAgaWYgKHRoaXMuc3RhZ2luZ09wZXJhdGlvbkluUHJvZ3Jlc3MpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHRoaXMuc3RhZ2luZ09wZXJhdGlvbkluUHJvZ3Jlc3MgPSB0cnVlO1xuICAgIHRoaXMubGFzdFBhdGNoU3RyaW5nID0gdGhpcy5wcm9wcy5tdWx0aUZpbGVQYXRjaC50b1N0cmluZygpO1xuICAgIGNvbnN0IG9wZXJhdGlvblByb21pc2UgPSBmbigpO1xuXG4gICAgb3BlcmF0aW9uUHJvbWlzZVxuICAgICAgLnRoZW4oKCkgPT4gdGhpcy5wYXRjaENoYW5nZVByb21pc2UpXG4gICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgIHRoaXMuc3RhZ2luZ09wZXJhdGlvbkluUHJvZ3Jlc3MgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5sYXN0UGF0Y2hTdHJpbmcgPSBudWxsO1xuICAgICAgfSk7XG5cbiAgICByZXR1cm4gb3BlcmF0aW9uUHJvbWlzZTtcbiAgfVxufVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxNQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxVQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRSxLQUFBLEdBQUFILHNCQUFBLENBQUFDLE9BQUE7QUFFQSxJQUFBRyxRQUFBLEdBQUFILE9BQUE7QUFDQSxJQUFBSSxjQUFBLEdBQUFKLE9BQUE7QUFDQSxJQUFBSyxXQUFBLEdBQUFMLE9BQUE7QUFDQSxJQUFBTSxnQkFBQSxHQUFBUCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQU8sbUJBQUEsR0FBQVIsc0JBQUEsQ0FBQUMsT0FBQTtBQUFnRSxTQUFBRCx1QkFBQVMsR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLEtBQUFFLE9BQUEsRUFBQUYsR0FBQTtBQUFBLFNBQUFHLFNBQUEsSUFBQUEsUUFBQSxHQUFBQyxNQUFBLENBQUFDLE1BQUEsR0FBQUQsTUFBQSxDQUFBQyxNQUFBLENBQUFDLElBQUEsZUFBQUMsTUFBQSxhQUFBQyxDQUFBLE1BQUFBLENBQUEsR0FBQUMsU0FBQSxDQUFBQyxNQUFBLEVBQUFGLENBQUEsVUFBQUcsTUFBQSxHQUFBRixTQUFBLENBQUFELENBQUEsWUFBQUksR0FBQSxJQUFBRCxNQUFBLFFBQUFQLE1BQUEsQ0FBQVMsU0FBQSxDQUFBQyxjQUFBLENBQUFDLElBQUEsQ0FBQUosTUFBQSxFQUFBQyxHQUFBLEtBQUFMLE1BQUEsQ0FBQUssR0FBQSxJQUFBRCxNQUFBLENBQUFDLEdBQUEsZ0JBQUFMLE1BQUEsWUFBQUosUUFBQSxDQUFBYSxLQUFBLE9BQUFQLFNBQUE7QUFBQSxTQUFBUSxnQkFBQWpCLEdBQUEsRUFBQVksR0FBQSxFQUFBTSxLQUFBLElBQUFOLEdBQUEsR0FBQU8sY0FBQSxDQUFBUCxHQUFBLE9BQUFBLEdBQUEsSUFBQVosR0FBQSxJQUFBSSxNQUFBLENBQUFnQixjQUFBLENBQUFwQixHQUFBLEVBQUFZLEdBQUEsSUFBQU0sS0FBQSxFQUFBQSxLQUFBLEVBQUFHLFVBQUEsUUFBQUMsWUFBQSxRQUFBQyxRQUFBLG9CQUFBdkIsR0FBQSxDQUFBWSxHQUFBLElBQUFNLEtBQUEsV0FBQWxCLEdBQUE7QUFBQSxTQUFBbUIsZUFBQUssR0FBQSxRQUFBWixHQUFBLEdBQUFhLFlBQUEsQ0FBQUQsR0FBQSwyQkFBQVosR0FBQSxnQkFBQUEsR0FBQSxHQUFBYyxNQUFBLENBQUFkLEdBQUE7QUFBQSxTQUFBYSxhQUFBRSxLQUFBLEVBQUFDLElBQUEsZUFBQUQsS0FBQSxpQkFBQUEsS0FBQSxrQkFBQUEsS0FBQSxNQUFBRSxJQUFBLEdBQUFGLEtBQUEsQ0FBQUcsTUFBQSxDQUFBQyxXQUFBLE9BQUFGLElBQUEsS0FBQUcsU0FBQSxRQUFBQyxHQUFBLEdBQUFKLElBQUEsQ0FBQWQsSUFBQSxDQUFBWSxLQUFBLEVBQUFDLElBQUEsMkJBQUFLLEdBQUEsc0JBQUFBLEdBQUEsWUFBQUMsU0FBQSw0REFBQU4sSUFBQSxnQkFBQUYsTUFBQSxHQUFBUyxNQUFBLEVBQUFSLEtBQUE7QUFFakQsTUFBTVMsd0JBQXdCLFNBQVNDLGNBQUssQ0FBQ0MsU0FBUyxDQUFDO0VBMEJwRUMsV0FBV0EsQ0FBQ0MsS0FBSyxFQUFFO0lBQ2pCLEtBQUssQ0FBQ0EsS0FBSyxDQUFDO0lBQ1osSUFBQUMsaUJBQVEsRUFDTixJQUFJLEVBQ0oscUJBQXFCLEVBQ3JCLGlCQUFpQixFQUFFLHFCQUFxQixFQUFFLFVBQVUsRUFDcEQsWUFBWSxFQUFFLFlBQVksRUFBRSxrQkFBa0IsRUFBRSxxQkFBcUIsRUFBRSxhQUFhLENBQ3JGO0lBRUQsSUFBSSxDQUFDQyxLQUFLLEdBQUc7TUFDWEMsYUFBYSxFQUFFLE1BQU07TUFDckJDLFlBQVksRUFBRSxJQUFJQyxHQUFHLEVBQUU7TUFDdkJDLHlCQUF5QixFQUFFO0lBQzdCLENBQUM7SUFFRCxJQUFJLENBQUNDLHdCQUF3QixHQUFHLEtBQUs7SUFDckMsSUFBSSxDQUFDQywwQkFBMEIsR0FBRyxLQUFLO0lBRXZDLElBQUksQ0FBQ0MsZUFBZSxHQUFHLElBQUk7SUFDM0IsSUFBSSxDQUFDQyxrQkFBa0IsR0FBRyxJQUFJQyxPQUFPLENBQUNDLE9BQU8sSUFBSTtNQUMvQyxJQUFJLENBQUNDLHlCQUF5QixHQUFHRCxPQUFPO0lBQzFDLENBQUMsQ0FBQztFQUNKO0VBRUFFLGtCQUFrQkEsQ0FBQ0MsU0FBUyxFQUFFO0lBQzVCLElBQ0UsSUFBSSxDQUFDTixlQUFlLEtBQUssSUFBSSxJQUM3QixJQUFJLENBQUNBLGVBQWUsS0FBSyxJQUFJLENBQUNULEtBQUssQ0FBQ2dCLGNBQWMsQ0FBQ0MsUUFBUSxFQUFFLEVBQzdEO01BQ0EsSUFBSSxDQUFDSix5QkFBeUIsRUFBRTtNQUNoQyxJQUFJLENBQUNILGtCQUFrQixHQUFHLElBQUlDLE9BQU8sQ0FBQ0MsT0FBTyxJQUFJO1FBQy9DLElBQUksQ0FBQ0MseUJBQXlCLEdBQUdELE9BQU87TUFDMUMsQ0FBQyxDQUFDO0lBQ0o7RUFDRjtFQUVBTSxNQUFNQSxDQUFBLEVBQUc7SUFDUCxPQUNFcEUsTUFBQSxDQUFBWSxPQUFBLENBQUF5RCxhQUFBLENBQUM1RCxtQkFBQSxDQUFBRyxPQUFrQixFQUFBQyxRQUFBLEtBQ2IsSUFBSSxDQUFDcUMsS0FBSztNQUVkSSxZQUFZLEVBQUUsSUFBSSxDQUFDRixLQUFLLENBQUNFLFlBQWE7TUFDdENELGFBQWEsRUFBRSxJQUFJLENBQUNELEtBQUssQ0FBQ0MsYUFBYztNQUN4Q0cseUJBQXlCLEVBQUUsSUFBSSxDQUFDSixLQUFLLENBQUNJLHlCQUEwQjtNQUNoRWMsbUJBQW1CLEVBQUUsSUFBSSxDQUFDQSxtQkFBb0I7TUFFOUNDLG1CQUFtQixFQUFFLElBQUksQ0FBQ0EsbUJBQW9CO01BQzlDQyxRQUFRLEVBQUUsSUFBSSxDQUFDQSxRQUFTO01BQ3hCQyxVQUFVLEVBQUUsSUFBSSxDQUFDQSxVQUFXO01BQzVCQyxVQUFVLEVBQUUsSUFBSSxDQUFDQSxVQUFXO01BQzVCQyxnQkFBZ0IsRUFBRSxJQUFJLENBQUNBLGdCQUFpQjtNQUN4Q0MsbUJBQW1CLEVBQUUsSUFBSSxDQUFDQSxtQkFBb0I7TUFDOUNDLGVBQWUsRUFBRSxJQUFJLENBQUNBLGVBQWdCO01BQ3RDQyxXQUFXLEVBQUUsSUFBSSxDQUFDQSxXQUFZO01BQzlCQyxjQUFjLEVBQUUsSUFBSSxDQUFDQSxjQUFlO01BQ3BDQyxrQkFBa0IsRUFBRSxJQUFJLENBQUNBLGtCQUFtQjtNQUM1Q0MsZ0JBQWdCLEVBQUUsSUFBSSxDQUFDL0IsS0FBSyxDQUFDK0I7SUFBaUIsR0FDOUM7RUFFTjtFQUVBSixlQUFlQSxDQUFDSyxTQUFTLEVBQUU7SUFBQ0M7RUFBVyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUU7SUFDN0MsSUFBQUMsdUJBQVEsRUFBQyxtQkFBbUIsRUFBRTtNQUM1QkMsT0FBTyxFQUFFLFFBQVE7TUFDakJDLFNBQVMsRUFBRSxJQUFJLENBQUNyQyxXQUFXLENBQUNzQyxJQUFJO01BQ2hDSjtJQUNGLENBQUMsQ0FBQztJQUVGLE9BQU8sSUFBSSxDQUFDakMsS0FBSyxDQUFDMkIsZUFBZSxDQUFDSyxTQUFTLENBQUNNLE9BQU8sRUFBRSxFQUFFLElBQUksQ0FBQ3RDLEtBQUssQ0FBQ3VDLFVBQVUsQ0FBQztFQUMvRTtFQUVBbEIsbUJBQW1CQSxDQUFDVyxTQUFTLEVBQUU7SUFDN0IsTUFBTVEsWUFBWSxHQUFHLElBQUksQ0FBQ0MsaUJBQWlCLENBQUM7TUFBQ0MsTUFBTSxFQUFFLFVBQVU7TUFBRUMsUUFBUSxFQUFFO0lBQVEsQ0FBQyxDQUFDO0lBQ3JGLE1BQU1DLGdCQUFnQixHQUFHLElBQUksQ0FBQzVDLEtBQUssQ0FBQ3VDLFVBQVUsQ0FBQ00sdUJBQXVCLEVBQUU7SUFDeEUsTUFBTUMsR0FBRyxHQUFHQyx3QkFBZSxDQUFDQyxRQUFRLENBQUNoQixTQUFTLENBQUNNLE9BQU8sRUFBRSxFQUFFTSxnQkFBZ0IsRUFBRUosWUFBWSxDQUFDO0lBRXpGLElBQUksQ0FBQ3hDLEtBQUssQ0FBQ2lELE9BQU8sRUFBRTtJQUNwQixPQUFPLElBQUksQ0FBQ2pELEtBQUssQ0FBQ2tELFNBQVMsQ0FBQ0MsSUFBSSxDQUFDTCxHQUFHLENBQUM7RUFDdkM7RUFFQSxNQUFNeEIsUUFBUUEsQ0FBQ1UsU0FBUyxFQUFFb0IsU0FBUyxFQUFFQyxPQUFPLEVBQUU7SUFDNUMsTUFBTUMsWUFBWSxHQUFHQyxhQUFJLENBQUNDLElBQUksQ0FBQyxJQUFJLENBQUN4RCxLQUFLLENBQUN1QyxVQUFVLENBQUNNLHVCQUF1QixFQUFFLEVBQUViLFNBQVMsQ0FBQ00sT0FBTyxFQUFFLENBQUM7SUFDcEcsTUFBTW1CLE1BQU0sR0FBRyxNQUFNLElBQUksQ0FBQ3pELEtBQUssQ0FBQ2tELFNBQVMsQ0FBQ0MsSUFBSSxDQUFDRyxZQUFZLEVBQUU7TUFBQ0Q7SUFBTyxDQUFDLENBQUM7SUFDdkUsSUFBSUQsU0FBUyxDQUFDbEYsTUFBTSxHQUFHLENBQUMsRUFBRTtNQUN4QnVGLE1BQU0sQ0FBQ0MsdUJBQXVCLENBQUNOLFNBQVMsQ0FBQyxDQUFDLENBQUMsRUFBRTtRQUFDTyxVQUFVLEVBQUU7TUFBSyxDQUFDLENBQUM7TUFDakUsS0FBSyxNQUFNQyxRQUFRLElBQUlSLFNBQVMsQ0FBQ1MsS0FBSyxDQUFDLENBQUMsQ0FBQyxFQUFFO1FBQ3pDSixNQUFNLENBQUNLLHlCQUF5QixDQUFDRixRQUFRLENBQUM7TUFDNUM7TUFDQUgsTUFBTSxDQUFDTSxzQkFBc0IsQ0FBQ1gsU0FBUyxDQUFDQSxTQUFTLENBQUNsRixNQUFNLEdBQUcsQ0FBQyxDQUFDLEVBQUU7UUFBQzhGLE1BQU0sRUFBRTtNQUFJLENBQUMsQ0FBQztJQUNoRjtJQUNBLE9BQU9QLE1BQU07RUFDZjtFQUVBbEMsVUFBVUEsQ0FBQ1MsU0FBUyxFQUFFO0lBQ3BCLE9BQU8sSUFBSSxDQUFDaUMsZ0JBQWdCLENBQUMsTUFBTTtNQUNqQyxNQUFNQyxVQUFVLEdBQUcsSUFBSSxDQUFDekIsaUJBQWlCLENBQUM7UUFBQ0MsTUFBTSxFQUFFLGNBQWM7UUFBRUMsUUFBUSxFQUFFO01BQVksQ0FBQyxDQUFDO01BQzNGLE9BQU8sSUFBSSxDQUFDM0MsS0FBSyxDQUFDdUMsVUFBVSxDQUFDMkIsVUFBVSxDQUFDLENBQUMsQ0FBQ2xDLFNBQVMsQ0FBQ00sT0FBTyxFQUFFLENBQUMsQ0FBQztJQUNqRSxDQUFDLENBQUM7RUFDSjtFQUVBLE1BQU1kLFVBQVVBLENBQUMyQyxNQUFNLEVBQUVDLGlCQUFpQixFQUFFO0lBQzFDLElBQUlDLFVBQVUsR0FBR0YsTUFBTTtJQUN2QixJQUFJRSxVQUFVLEVBQUU7TUFDZCxNQUFNQywwQkFBMEIsR0FBRyxJQUFJLENBQUN0RSxLQUFLLENBQUNnQixjQUFjLENBQUN1RCxrQkFBa0IsQ0FBQ0YsVUFBVSxDQUFDO01BQzNGLE1BQU0sSUFBSSxDQUFDakQsbUJBQW1CLENBQUNpRCxVQUFVLEVBQUVELGlCQUFpQixFQUFFRSwwQkFBMEIsQ0FBQztJQUMzRixDQUFDLE1BQU07TUFDTEQsVUFBVSxHQUFHLElBQUksQ0FBQ25FLEtBQUssQ0FBQ0UsWUFBWTtJQUN0QztJQUVBLElBQUlpRSxVQUFVLENBQUNHLElBQUksS0FBSyxDQUFDLEVBQUU7TUFDekIsT0FBTzdELE9BQU8sQ0FBQ0MsT0FBTyxFQUFFO0lBQzFCO0lBRUEsT0FBTyxJQUFJLENBQUNxRCxnQkFBZ0IsQ0FBQyxNQUFNO01BQ2pDLE1BQU1RLEtBQUssR0FBRyxJQUFJLENBQUNoQyxpQkFBaUIsQ0FBQztRQUNuQ0MsTUFBTSxFQUFFQSxDQUFBLEtBQU0sSUFBSSxDQUFDMUMsS0FBSyxDQUFDZ0IsY0FBYyxDQUFDMEQsdUJBQXVCLENBQUNMLFVBQVUsQ0FBQztRQUMzRTFCLFFBQVEsRUFBRUEsQ0FBQSxLQUFNLElBQUksQ0FBQzNDLEtBQUssQ0FBQ2dCLGNBQWMsQ0FBQzJELHFCQUFxQixDQUFDTixVQUFVO01BQzVFLENBQUMsQ0FBQztNQUNGLE9BQU8sSUFBSSxDQUFDckUsS0FBSyxDQUFDdUMsVUFBVSxDQUFDcUMsaUJBQWlCLENBQUNILEtBQUssQ0FBQztJQUN2RCxDQUFDLENBQUM7RUFDSjtFQUVBaEQsZ0JBQWdCQSxDQUFDTyxTQUFTLEVBQUU7SUFDMUIsT0FBTyxJQUFJLENBQUNpQyxnQkFBZ0IsQ0FBQyxNQUFNO01BQ2pDLE1BQU1ZLFVBQVUsR0FBRyxJQUFJLENBQUNwQyxpQkFBaUIsQ0FBQztRQUN4Q0UsUUFBUSxFQUFFWCxTQUFTLENBQUM4QyxVQUFVLEVBQUU7UUFDaENwQyxNQUFNLEVBQUVWLFNBQVMsQ0FBQytDLFVBQVU7TUFDOUIsQ0FBQyxDQUFDO01BQ0YsT0FBTyxJQUFJLENBQUMvRSxLQUFLLENBQUN1QyxVQUFVLENBQUN5QyxtQkFBbUIsQ0FBQ2hELFNBQVMsQ0FBQ00sT0FBTyxFQUFFLEVBQUV1QyxVQUFVLENBQUM7SUFDbkYsQ0FBQyxDQUFDO0VBQ0o7RUFFQW5ELG1CQUFtQkEsQ0FBQ00sU0FBUyxFQUFFO0lBQzdCLE9BQU8sSUFBSSxDQUFDaUMsZ0JBQWdCLENBQUMsTUFBTTtNQUNqQyxNQUFNZ0IsT0FBTyxHQUFHakQsU0FBUyxDQUFDTSxPQUFPLEVBQUU7TUFDbkMsTUFBTUMsVUFBVSxHQUFHLElBQUksQ0FBQ3ZDLEtBQUssQ0FBQ3VDLFVBQVU7TUFDeEMsT0FBTyxJQUFJLENBQUNFLGlCQUFpQixDQUFDO1FBQzVCRSxRQUFRLEVBQUVBLENBQUEsS0FBTTtVQUNkLElBQUlYLFNBQVMsQ0FBQ2tELGFBQWEsRUFBRSxJQUFJbEQsU0FBUyxDQUFDbUQsU0FBUyxFQUFFLEtBQUssT0FBTyxFQUFFO1lBQ2xFLE9BQU81QyxVQUFVLENBQUM2QyxzQkFBc0IsQ0FBQ0gsT0FBTyxDQUFDO1VBQ25EO1VBRUEsT0FBTzFDLFVBQVUsQ0FBQzhDLFVBQVUsQ0FBQyxDQUFDSixPQUFPLENBQUMsQ0FBQztRQUN6QyxDQUFDO1FBQ0R2QyxNQUFNLEVBQUVBLENBQUEsS0FBTTtVQUNaLElBQUlWLFNBQVMsQ0FBQ2tELGFBQWEsRUFBRSxJQUFJbEQsU0FBUyxDQUFDbUQsU0FBUyxFQUFFLEtBQUssU0FBUyxFQUFFO1lBQ3BFLE9BQU81QyxVQUFVLENBQUM2QyxzQkFBc0IsQ0FBQ0gsT0FBTyxDQUFDO1VBQ25EO1VBRUEsT0FBTzFDLFVBQVUsQ0FBQytDLFlBQVksQ0FBQyxDQUFDTCxPQUFPLENBQUMsQ0FBQztRQUMzQztNQUNGLENBQUMsQ0FBQztJQUNKLENBQUMsQ0FBQztFQUNKO0VBRUEsTUFBTXJELFdBQVdBLENBQUN1QyxNQUFNLEVBQUVDLGlCQUFpQixFQUFFO0lBQUNuQztFQUFXLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRTtJQUMvRDtJQUNBO0lBQ0E7SUFDQTtJQUNBLElBQUksSUFBSSxDQUFDakMsS0FBSyxDQUFDZ0IsY0FBYyxDQUFDdUUsY0FBYyxFQUFFLENBQUNySCxNQUFNLEtBQUssQ0FBQyxFQUFFO01BQzNELE9BQU95QyxPQUFPLENBQUNDLE9BQU8sQ0FBQyxJQUFJLENBQUM7SUFDOUI7SUFFQSxJQUFJeUQsVUFBVSxHQUFHRixNQUFNO0lBQ3ZCLElBQUlFLFVBQVUsRUFBRTtNQUNkLE1BQU1DLDBCQUEwQixHQUFHLElBQUksQ0FBQ3RFLEtBQUssQ0FBQ2dCLGNBQWMsQ0FBQ3VELGtCQUFrQixDQUFDRixVQUFVLENBQUM7TUFDM0YsTUFBTSxJQUFJLENBQUNqRCxtQkFBbUIsQ0FBQ2lELFVBQVUsRUFBRUQsaUJBQWlCLEVBQUVFLDBCQUEwQixDQUFDO0lBQzNGLENBQUMsTUFBTTtNQUNMRCxVQUFVLEdBQUcsSUFBSSxDQUFDbkUsS0FBSyxDQUFDRSxZQUFZO0lBQ3RDO0lBRUEsSUFBQThCLHVCQUFRLEVBQUMsMEJBQTBCLEVBQUU7TUFDbkNDLE9BQU8sRUFBRSxRQUFRO01BQ2pCQyxTQUFTLEVBQUUsSUFBSSxDQUFDckMsV0FBVyxDQUFDc0MsSUFBSTtNQUNoQ21ELFNBQVMsRUFBRW5CLFVBQVUsQ0FBQ0csSUFBSTtNQUMxQnZDO0lBQ0YsQ0FBQyxDQUFDO0lBRUYsT0FBTyxJQUFJLENBQUNqQyxLQUFLLENBQUN5RixZQUFZLENBQUMsSUFBSSxDQUFDekYsS0FBSyxDQUFDZ0IsY0FBYyxFQUFFcUQsVUFBVSxFQUFFLElBQUksQ0FBQ3JFLEtBQUssQ0FBQ3VDLFVBQVUsQ0FBQztFQUM5RjtFQUVBbkIsbUJBQW1CQSxDQUFDc0UsSUFBSSxFQUFFdEIsaUJBQWlCLEVBQUVFLDBCQUEwQixFQUFFO0lBQ3ZFLElBQ0UsSUFBQXFCLGtCQUFTLEVBQUMsSUFBSSxDQUFDekYsS0FBSyxDQUFDRSxZQUFZLEVBQUVzRixJQUFJLENBQUMsSUFDeEMsSUFBSSxDQUFDeEYsS0FBSyxDQUFDQyxhQUFhLEtBQUtpRSxpQkFBaUIsSUFDOUMsSUFBSSxDQUFDbEUsS0FBSyxDQUFDSSx5QkFBeUIsS0FBS2dFLDBCQUEwQixFQUNuRTtNQUNBLE9BQU8zRCxPQUFPLENBQUNDLE9BQU8sRUFBRTtJQUMxQjtJQUVBLE9BQU8sSUFBSUQsT0FBTyxDQUFDQyxPQUFPLElBQUk7TUFDNUIsSUFBSSxDQUFDZ0YsUUFBUSxDQUFDO1FBQ1p4RixZQUFZLEVBQUVzRixJQUFJO1FBQ2xCdkYsYUFBYSxFQUFFaUUsaUJBQWlCO1FBQ2hDOUQseUJBQXlCLEVBQUVnRTtNQUM3QixDQUFDLEVBQUUxRCxPQUFPLENBQUM7SUFDYixDQUFDLENBQUM7RUFDSjtFQUVBNkIsaUJBQWlCQSxDQUFDb0QsU0FBUyxFQUFFO0lBQzNCLE1BQU1DLFFBQVEsR0FBR0QsU0FBUyxDQUFDLElBQUksQ0FBQzdGLEtBQUssQ0FBQytGLGFBQWEsQ0FBQztJQUNwRDtJQUNBLElBQUksQ0FBQ0QsUUFBUSxFQUFFO01BQ2IsTUFBTSxJQUFJRSxLQUFLLENBQUUsMkJBQTBCLElBQUksQ0FBQ2hHLEtBQUssQ0FBQytGLGFBQWMsRUFBQyxDQUFDO0lBQ3hFO0lBQ0EsT0FBT0QsUUFBUSxZQUFZRyxRQUFRLEdBQUdILFFBQVEsRUFBRSxHQUFHQSxRQUFRO0VBQzdEO0VBRUE3QixnQkFBZ0JBLENBQUNpQyxFQUFFLEVBQUU7SUFDbkIsSUFBSSxJQUFJLENBQUMxRiwwQkFBMEIsRUFBRTtNQUNuQyxPQUFPLElBQUk7SUFDYjtJQUVBLElBQUksQ0FBQ0EsMEJBQTBCLEdBQUcsSUFBSTtJQUN0QyxJQUFJLENBQUNDLGVBQWUsR0FBRyxJQUFJLENBQUNULEtBQUssQ0FBQ2dCLGNBQWMsQ0FBQ0MsUUFBUSxFQUFFO0lBQzNELE1BQU1rRixnQkFBZ0IsR0FBR0QsRUFBRSxFQUFFO0lBRTdCQyxnQkFBZ0IsQ0FDYkMsSUFBSSxDQUFDLE1BQU0sSUFBSSxDQUFDMUYsa0JBQWtCLENBQUMsQ0FDbkMwRixJQUFJLENBQUMsTUFBTTtNQUNWLElBQUksQ0FBQzVGLDBCQUEwQixHQUFHLEtBQUs7TUFDdkMsSUFBSSxDQUFDQyxlQUFlLEdBQUcsSUFBSTtJQUM3QixDQUFDLENBQUM7SUFFSixPQUFPMEYsZ0JBQWdCO0VBQ3pCO0FBQ0Y7QUFBQ0UsT0FBQSxDQUFBM0ksT0FBQSxHQUFBa0Msd0JBQUE7QUFBQW5CLGVBQUEsQ0E3UG9CbUIsd0JBQXdCLGVBQ3hCO0VBQ2pCMkMsVUFBVSxFQUFFK0Qsa0JBQVMsQ0FBQ0MsTUFBTSxDQUFDQyxVQUFVO0VBQ3ZDVCxhQUFhLEVBQUVPLGtCQUFTLENBQUNHLEtBQUssQ0FBQyxDQUFDLFFBQVEsRUFBRSxVQUFVLENBQUMsQ0FBQztFQUN0RHpGLGNBQWMsRUFBRTBGLGtDQUFzQixDQUFDRixVQUFVO0VBQ2pERyxjQUFjLEVBQUVMLGtCQUFTLENBQUNNLElBQUk7RUFFOUJDLHFCQUFxQixFQUFFUCxrQkFBUyxDQUFDTSxJQUFJO0VBQ3JDRSxvQkFBb0IsRUFBRVIsa0JBQVMsQ0FBQ1MsT0FBTyxDQUFDVCxrQkFBUyxDQUFDVSxLQUFLLENBQUM7SUFDdERDLE1BQU0sRUFBRVgsa0JBQVMsQ0FBQ0MsTUFBTSxDQUFDQyxVQUFVO0lBQ25DVSxRQUFRLEVBQUVaLGtCQUFTLENBQUNTLE9BQU8sQ0FBQ1Qsa0JBQVMsQ0FBQ0MsTUFBTSxDQUFDLENBQUNDO0VBQ2hELENBQUMsQ0FBQyxDQUFDO0VBRUh0RCxTQUFTLEVBQUVvRCxrQkFBUyxDQUFDQyxNQUFNLENBQUNDLFVBQVU7RUFDdENXLFFBQVEsRUFBRWIsa0JBQVMsQ0FBQ0MsTUFBTSxDQUFDQyxVQUFVO0VBQ3JDWSxPQUFPLEVBQUVkLGtCQUFTLENBQUNDLE1BQU0sQ0FBQ0MsVUFBVTtFQUNwQ2EsUUFBUSxFQUFFZixrQkFBUyxDQUFDQyxNQUFNLENBQUNDLFVBQVU7RUFDckNjLE1BQU0sRUFBRWhCLGtCQUFTLENBQUNDLE1BQU0sQ0FBQ0MsVUFBVTtFQUVuQ3ZELE9BQU8sRUFBRXFELGtCQUFTLENBQUNpQixJQUFJLENBQUNmLFVBQVU7RUFDbENmLFlBQVksRUFBRWEsa0JBQVMsQ0FBQ2lCLElBQUk7RUFDNUI1RixlQUFlLEVBQUUyRSxrQkFBUyxDQUFDaUIsSUFBSTtFQUMvQkMsT0FBTyxFQUFFbEIsa0JBQVMsQ0FBQ2lCLElBQUk7RUFDdkJ4RixnQkFBZ0IsRUFBRXVFLGtCQUFTLENBQUNpQjtBQUM5QixDQUFDIn0=