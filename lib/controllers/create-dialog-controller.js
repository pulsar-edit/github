"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = exports.BareCreateDialogController = void 0;
var _react = _interopRequireDefault(require("react"));
var _propTypes = _interopRequireDefault(require("prop-types"));
var _reactRelay = require("react-relay");
var _atom = require("atom");
var _eventKit = require("event-kit");
var _path = _interopRequireDefault(require("path"));
var _createDialogView = _interopRequireDefault(require("../views/create-dialog-view"));
function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }
function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }
function _toPropertyKey(arg) { var key = _toPrimitive(arg, "string"); return typeof key === "symbol" ? key : String(key); }
function _toPrimitive(input, hint) { if (typeof input !== "object" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || "default"); if (typeof res !== "object") return res; throw new TypeError("@@toPrimitive must return a primitive value."); } return (hint === "string" ? String : Number)(input); }
class BareCreateDialogController extends _react.default.Component {
  constructor(props) {
    super(props);
    _defineProperty(this, "didChangeRepoName", () => {
      this.modified.repoName = true;
      if (!this.modified.localPath) {
        if (this.localPath.getText() === this.projectHome) {
          this.localPath.setText(_path.default.join(this.projectHome, this.repoName.getText()));
        } else {
          const dirName = _path.default.dirname(this.localPath.getText());
          this.localPath.setText(_path.default.join(dirName, this.repoName.getText()));
        }
        this.modified.localPath = false;
      }
      this.recheckAcceptEnablement();
    });
    _defineProperty(this, "didChangeOwnerID", ownerID => new Promise(resolve => this.setState({
      selectedOwnerID: ownerID
    }, resolve)));
    _defineProperty(this, "didChangeLocalPath", () => {
      this.modified.localPath = true;
      if (!this.modified.repoName) {
        this.repoName.setText(_path.default.basename(this.localPath.getText()));
        this.modified.repoName = false;
      }
      this.recheckAcceptEnablement();
    });
    _defineProperty(this, "didChangeVisibility", visibility => {
      return new Promise(resolve => this.setState({
        selectedVisibility: visibility
      }, resolve));
    });
    _defineProperty(this, "didChangeSourceRemoteName", () => {
      this.writeSourceRemoteNameSetting();
      this.recheckAcceptEnablement();
    });
    _defineProperty(this, "didChangeProtocol", async protocol => {
      await new Promise(resolve => this.setState({
        selectedProtocol: protocol
      }, resolve));
      this.writeRemoteFetchProtocolSetting(protocol);
    });
    _defineProperty(this, "readSourceRemoteNameSetting", ({
      newValue
    }) => {
      if (newValue !== this.sourceRemoteName.getText()) {
        this.sourceRemoteName.setText(newValue);
      }
    });
    _defineProperty(this, "readRemoteFetchProtocolSetting", ({
      newValue
    }) => {
      if (newValue !== this.state.selectedProtocol) {
        this.setState({
          selectedProtocol: newValue
        });
      }
    });
    _defineProperty(this, "accept", () => {
      if (!this.acceptIsEnabled()) {
        return Promise.resolve();
      }
      const ownerID = this.state.selectedOwnerID !== '' ? this.state.selectedOwnerID : this.props.user.id;
      return this.props.request.accept({
        ownerID,
        name: this.repoName.getText(),
        visibility: this.state.selectedVisibility,
        localPath: this.localPath.getText(),
        protocol: this.state.selectedProtocol,
        sourceRemoteName: this.sourceRemoteName.getText()
      });
    });
    const {
      localDir
    } = this.props.request.getParams();
    this.projectHome = this.props.config.get('core.projectHome');
    this.modified = {
      repoName: false,
      localPath: false
    };
    this.repoName = new _atom.TextBuffer({
      text: localDir ? _path.default.basename(localDir) : ''
    });
    this.localPath = new _atom.TextBuffer({
      text: localDir || this.projectHome
    });
    this.sourceRemoteName = new _atom.TextBuffer({
      text: this.props.config.get('github.sourceRemoteName')
    });
    this.subs = new _eventKit.CompositeDisposable(this.repoName.onDidChange(this.didChangeRepoName), this.localPath.onDidChange(this.didChangeLocalPath), this.sourceRemoteName.onDidChange(this.didChangeSourceRemoteName), this.props.config.onDidChange('github.sourceRemoteName', this.readSourceRemoteNameSetting), this.props.config.onDidChange('github.remoteFetchProtocol', this.readRemoteFetchProtocolSetting));
    this.state = {
      acceptEnabled: this.acceptIsEnabled(),
      selectedVisibility: 'PUBLIC',
      selectedProtocol: this.props.config.get('github.remoteFetchProtocol'),
      selectedOwnerID: this.props.user ? this.props.user.id : ''
    };
  }
  render() {
    return _react.default.createElement(_createDialogView.default, _extends({
      selectedOwnerID: this.state.selectedOwnerID,
      repoName: this.repoName,
      selectedVisibility: this.state.selectedVisibility,
      localPath: this.localPath,
      sourceRemoteName: this.sourceRemoteName,
      selectedProtocol: this.state.selectedProtocol,
      didChangeOwnerID: this.didChangeOwnerID,
      didChangeVisibility: this.didChangeVisibility,
      didChangeProtocol: this.didChangeProtocol,
      acceptEnabled: this.state.acceptEnabled,
      accept: this.accept
    }, this.props));
  }
  componentDidUpdate(prevProps) {
    if (this.props.user !== prevProps.user) {
      this.recheckAcceptEnablement();
    }
  }
  componentWillUnmount() {
    this.subs.dispose();
  }
  writeSourceRemoteNameSetting() {
    if (this.props.config.get('github.sourceRemoteName') !== this.sourceRemoteName.getText()) {
      this.props.config.set('github.sourceRemoteName', this.sourceRemoteName.getText());
    }
  }
  writeRemoteFetchProtocolSetting(protocol) {
    if (this.props.config.get('github.remoteFetchProtocol') !== protocol) {
      this.props.config.set('github.remoteFetchProtocol', protocol);
    }
  }
  acceptIsEnabled() {
    return !this.repoName.isEmpty() && !this.localPath.isEmpty() && !this.sourceRemoteName.isEmpty() && this.props.user !== null;
  }
  recheckAcceptEnablement() {
    const nextEnablement = this.acceptIsEnabled();
    if (nextEnablement !== this.state.acceptEnabled) {
      this.setState({
        acceptEnabled: nextEnablement
      });
    }
  }
}
exports.BareCreateDialogController = BareCreateDialogController;
_defineProperty(BareCreateDialogController, "propTypes", {
  // Relay
  user: _propTypes.default.shape({
    id: _propTypes.default.string.isRequired
  }),
  // Model
  request: _propTypes.default.shape({
    getParams: _propTypes.default.func.isRequired,
    accept: _propTypes.default.func.isRequired
  }).isRequired,
  error: _propTypes.default.instanceOf(Error),
  isLoading: _propTypes.default.bool.isRequired,
  inProgress: _propTypes.default.bool.isRequired,
  // Atom environment
  currentWindow: _propTypes.default.object.isRequired,
  workspace: _propTypes.default.object.isRequired,
  commands: _propTypes.default.object.isRequired,
  config: _propTypes.default.object.isRequired
});
var _default = (0, _reactRelay.createFragmentContainer)(BareCreateDialogController, {
  user: function () {
    const node = require("./__generated__/createDialogController_user.graphql");
    if (node.hash && node.hash !== "729f5d41fc5444c5f12632127f89ed21") {
      console.error("The definition of 'createDialogController_user' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data.");
    }
    return require("./__generated__/createDialogController_user.graphql");
  }
});
exports.default = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJCYXJlQ3JlYXRlRGlhbG9nQ29udHJvbGxlciIsIlJlYWN0IiwiQ29tcG9uZW50IiwiY29uc3RydWN0b3IiLCJwcm9wcyIsIm1vZGlmaWVkIiwicmVwb05hbWUiLCJsb2NhbFBhdGgiLCJnZXRUZXh0IiwicHJvamVjdEhvbWUiLCJzZXRUZXh0IiwicGF0aCIsImpvaW4iLCJkaXJOYW1lIiwiZGlybmFtZSIsInJlY2hlY2tBY2NlcHRFbmFibGVtZW50Iiwib3duZXJJRCIsIlByb21pc2UiLCJyZXNvbHZlIiwic2V0U3RhdGUiLCJzZWxlY3RlZE93bmVySUQiLCJiYXNlbmFtZSIsInZpc2liaWxpdHkiLCJzZWxlY3RlZFZpc2liaWxpdHkiLCJ3cml0ZVNvdXJjZVJlbW90ZU5hbWVTZXR0aW5nIiwicHJvdG9jb2wiLCJzZWxlY3RlZFByb3RvY29sIiwid3JpdGVSZW1vdGVGZXRjaFByb3RvY29sU2V0dGluZyIsIm5ld1ZhbHVlIiwic291cmNlUmVtb3RlTmFtZSIsInN0YXRlIiwiYWNjZXB0SXNFbmFibGVkIiwidXNlciIsImlkIiwicmVxdWVzdCIsImFjY2VwdCIsIm5hbWUiLCJsb2NhbERpciIsImdldFBhcmFtcyIsImNvbmZpZyIsImdldCIsIlRleHRCdWZmZXIiLCJ0ZXh0Iiwic3VicyIsIkNvbXBvc2l0ZURpc3Bvc2FibGUiLCJvbkRpZENoYW5nZSIsImRpZENoYW5nZVJlcG9OYW1lIiwiZGlkQ2hhbmdlTG9jYWxQYXRoIiwiZGlkQ2hhbmdlU291cmNlUmVtb3RlTmFtZSIsInJlYWRTb3VyY2VSZW1vdGVOYW1lU2V0dGluZyIsInJlYWRSZW1vdGVGZXRjaFByb3RvY29sU2V0dGluZyIsImFjY2VwdEVuYWJsZWQiLCJyZW5kZXIiLCJkaWRDaGFuZ2VPd25lcklEIiwiZGlkQ2hhbmdlVmlzaWJpbGl0eSIsImRpZENoYW5nZVByb3RvY29sIiwiY29tcG9uZW50RGlkVXBkYXRlIiwicHJldlByb3BzIiwiY29tcG9uZW50V2lsbFVubW91bnQiLCJkaXNwb3NlIiwic2V0IiwiaXNFbXB0eSIsIm5leHRFbmFibGVtZW50IiwiUHJvcFR5cGVzIiwic2hhcGUiLCJzdHJpbmciLCJpc1JlcXVpcmVkIiwiZnVuYyIsImVycm9yIiwiaW5zdGFuY2VPZiIsIkVycm9yIiwiaXNMb2FkaW5nIiwiYm9vbCIsImluUHJvZ3Jlc3MiLCJjdXJyZW50V2luZG93Iiwib2JqZWN0Iiwid29ya3NwYWNlIiwiY29tbWFuZHMiLCJjcmVhdGVGcmFnbWVudENvbnRhaW5lciJdLCJzb3VyY2VzIjpbImNyZWF0ZS1kaWFsb2ctY29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCB7Y3JlYXRlRnJhZ21lbnRDb250YWluZXIsIGdyYXBocWx9IGZyb20gJ3JlYWN0LXJlbGF5JztcbmltcG9ydCB7VGV4dEJ1ZmZlcn0gZnJvbSAnYXRvbSc7XG5pbXBvcnQge0NvbXBvc2l0ZURpc3Bvc2FibGV9IGZyb20gJ2V2ZW50LWtpdCc7XG5pbXBvcnQgcGF0aCBmcm9tICdwYXRoJztcblxuaW1wb3J0IENyZWF0ZURpYWxvZ1ZpZXcgZnJvbSAnLi4vdmlld3MvY3JlYXRlLWRpYWxvZy12aWV3JztcblxuZXhwb3J0IGNsYXNzIEJhcmVDcmVhdGVEaWFsb2dDb250cm9sbGVyIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgc3RhdGljIHByb3BUeXBlcyA9IHtcbiAgICAvLyBSZWxheVxuICAgIHVzZXI6IFByb3BUeXBlcy5zaGFwZSh7XG4gICAgICBpZDogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLFxuICAgIH0pLFxuXG4gICAgLy8gTW9kZWxcbiAgICByZXF1ZXN0OiBQcm9wVHlwZXMuc2hhcGUoe1xuICAgICAgZ2V0UGFyYW1zOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxuICAgICAgYWNjZXB0OiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxuICAgIH0pLmlzUmVxdWlyZWQsXG4gICAgZXJyb3I6IFByb3BUeXBlcy5pbnN0YW5jZU9mKEVycm9yKSxcbiAgICBpc0xvYWRpbmc6IFByb3BUeXBlcy5ib29sLmlzUmVxdWlyZWQsXG4gICAgaW5Qcm9ncmVzczogUHJvcFR5cGVzLmJvb2wuaXNSZXF1aXJlZCxcblxuICAgIC8vIEF0b20gZW52aXJvbm1lbnRcbiAgICBjdXJyZW50V2luZG93OiBQcm9wVHlwZXMub2JqZWN0LmlzUmVxdWlyZWQsXG4gICAgd29ya3NwYWNlOiBQcm9wVHlwZXMub2JqZWN0LmlzUmVxdWlyZWQsXG4gICAgY29tbWFuZHM6IFByb3BUeXBlcy5vYmplY3QuaXNSZXF1aXJlZCxcbiAgICBjb25maWc6IFByb3BUeXBlcy5vYmplY3QuaXNSZXF1aXJlZCxcbiAgfVxuXG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuXG4gICAgY29uc3Qge2xvY2FsRGlyfSA9IHRoaXMucHJvcHMucmVxdWVzdC5nZXRQYXJhbXMoKTtcblxuICAgIHRoaXMucHJvamVjdEhvbWUgPSB0aGlzLnByb3BzLmNvbmZpZy5nZXQoJ2NvcmUucHJvamVjdEhvbWUnKTtcbiAgICB0aGlzLm1vZGlmaWVkID0ge1xuICAgICAgcmVwb05hbWU6IGZhbHNlLFxuICAgICAgbG9jYWxQYXRoOiBmYWxzZSxcbiAgICB9O1xuXG4gICAgdGhpcy5yZXBvTmFtZSA9IG5ldyBUZXh0QnVmZmVyKHtcbiAgICAgIHRleHQ6IGxvY2FsRGlyID8gcGF0aC5iYXNlbmFtZShsb2NhbERpcikgOiAnJyxcbiAgICB9KTtcbiAgICB0aGlzLmxvY2FsUGF0aCA9IG5ldyBUZXh0QnVmZmVyKHtcbiAgICAgIHRleHQ6IGxvY2FsRGlyIHx8IHRoaXMucHJvamVjdEhvbWUsXG4gICAgfSk7XG4gICAgdGhpcy5zb3VyY2VSZW1vdGVOYW1lID0gbmV3IFRleHRCdWZmZXIoe1xuICAgICAgdGV4dDogdGhpcy5wcm9wcy5jb25maWcuZ2V0KCdnaXRodWIuc291cmNlUmVtb3RlTmFtZScpLFxuICAgIH0pO1xuXG4gICAgdGhpcy5zdWJzID0gbmV3IENvbXBvc2l0ZURpc3Bvc2FibGUoXG4gICAgICB0aGlzLnJlcG9OYW1lLm9uRGlkQ2hhbmdlKHRoaXMuZGlkQ2hhbmdlUmVwb05hbWUpLFxuICAgICAgdGhpcy5sb2NhbFBhdGgub25EaWRDaGFuZ2UodGhpcy5kaWRDaGFuZ2VMb2NhbFBhdGgpLFxuICAgICAgdGhpcy5zb3VyY2VSZW1vdGVOYW1lLm9uRGlkQ2hhbmdlKHRoaXMuZGlkQ2hhbmdlU291cmNlUmVtb3RlTmFtZSksXG4gICAgICB0aGlzLnByb3BzLmNvbmZpZy5vbkRpZENoYW5nZSgnZ2l0aHViLnNvdXJjZVJlbW90ZU5hbWUnLCB0aGlzLnJlYWRTb3VyY2VSZW1vdGVOYW1lU2V0dGluZyksXG4gICAgICB0aGlzLnByb3BzLmNvbmZpZy5vbkRpZENoYW5nZSgnZ2l0aHViLnJlbW90ZUZldGNoUHJvdG9jb2wnLCB0aGlzLnJlYWRSZW1vdGVGZXRjaFByb3RvY29sU2V0dGluZyksXG4gICAgKTtcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBhY2NlcHRFbmFibGVkOiB0aGlzLmFjY2VwdElzRW5hYmxlZCgpLFxuICAgICAgc2VsZWN0ZWRWaXNpYmlsaXR5OiAnUFVCTElDJyxcbiAgICAgIHNlbGVjdGVkUHJvdG9jb2w6IHRoaXMucHJvcHMuY29uZmlnLmdldCgnZ2l0aHViLnJlbW90ZUZldGNoUHJvdG9jb2wnKSxcbiAgICAgIHNlbGVjdGVkT3duZXJJRDogdGhpcy5wcm9wcy51c2VyID8gdGhpcy5wcm9wcy51c2VyLmlkIDogJycsXG4gICAgfTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPENyZWF0ZURpYWxvZ1ZpZXdcbiAgICAgICAgc2VsZWN0ZWRPd25lcklEPXt0aGlzLnN0YXRlLnNlbGVjdGVkT3duZXJJRH1cbiAgICAgICAgcmVwb05hbWU9e3RoaXMucmVwb05hbWV9XG4gICAgICAgIHNlbGVjdGVkVmlzaWJpbGl0eT17dGhpcy5zdGF0ZS5zZWxlY3RlZFZpc2liaWxpdHl9XG4gICAgICAgIGxvY2FsUGF0aD17dGhpcy5sb2NhbFBhdGh9XG4gICAgICAgIHNvdXJjZVJlbW90ZU5hbWU9e3RoaXMuc291cmNlUmVtb3RlTmFtZX1cbiAgICAgICAgc2VsZWN0ZWRQcm90b2NvbD17dGhpcy5zdGF0ZS5zZWxlY3RlZFByb3RvY29sfVxuICAgICAgICBkaWRDaGFuZ2VPd25lcklEPXt0aGlzLmRpZENoYW5nZU93bmVySUR9XG4gICAgICAgIGRpZENoYW5nZVZpc2liaWxpdHk9e3RoaXMuZGlkQ2hhbmdlVmlzaWJpbGl0eX1cbiAgICAgICAgZGlkQ2hhbmdlUHJvdG9jb2w9e3RoaXMuZGlkQ2hhbmdlUHJvdG9jb2x9XG4gICAgICAgIGFjY2VwdEVuYWJsZWQ9e3RoaXMuc3RhdGUuYWNjZXB0RW5hYmxlZH1cbiAgICAgICAgYWNjZXB0PXt0aGlzLmFjY2VwdH1cbiAgICAgICAgey4uLnRoaXMucHJvcHN9XG4gICAgICAvPlxuICAgICk7XG4gIH1cblxuICBjb21wb25lbnREaWRVcGRhdGUocHJldlByb3BzKSB7XG4gICAgaWYgKHRoaXMucHJvcHMudXNlciAhPT0gcHJldlByb3BzLnVzZXIpIHtcbiAgICAgIHRoaXMucmVjaGVja0FjY2VwdEVuYWJsZW1lbnQoKTtcbiAgICB9XG4gIH1cblxuICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICB0aGlzLnN1YnMuZGlzcG9zZSgpO1xuICB9XG5cbiAgZGlkQ2hhbmdlUmVwb05hbWUgPSAoKSA9PiB7XG4gICAgdGhpcy5tb2RpZmllZC5yZXBvTmFtZSA9IHRydWU7XG4gICAgaWYgKCF0aGlzLm1vZGlmaWVkLmxvY2FsUGF0aCkge1xuICAgICAgaWYgKHRoaXMubG9jYWxQYXRoLmdldFRleHQoKSA9PT0gdGhpcy5wcm9qZWN0SG9tZSkge1xuICAgICAgICB0aGlzLmxvY2FsUGF0aC5zZXRUZXh0KHBhdGguam9pbih0aGlzLnByb2plY3RIb21lLCB0aGlzLnJlcG9OYW1lLmdldFRleHQoKSkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgZGlyTmFtZSA9IHBhdGguZGlybmFtZSh0aGlzLmxvY2FsUGF0aC5nZXRUZXh0KCkpO1xuICAgICAgICB0aGlzLmxvY2FsUGF0aC5zZXRUZXh0KHBhdGguam9pbihkaXJOYW1lLCB0aGlzLnJlcG9OYW1lLmdldFRleHQoKSkpO1xuICAgICAgfVxuICAgICAgdGhpcy5tb2RpZmllZC5sb2NhbFBhdGggPSBmYWxzZTtcbiAgICB9XG4gICAgdGhpcy5yZWNoZWNrQWNjZXB0RW5hYmxlbWVudCgpO1xuICB9XG5cbiAgZGlkQ2hhbmdlT3duZXJJRCA9IG93bmVySUQgPT4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB0aGlzLnNldFN0YXRlKHtzZWxlY3RlZE93bmVySUQ6IG93bmVySUR9LCByZXNvbHZlKSlcblxuICBkaWRDaGFuZ2VMb2NhbFBhdGggPSAoKSA9PiB7XG4gICAgdGhpcy5tb2RpZmllZC5sb2NhbFBhdGggPSB0cnVlO1xuICAgIGlmICghdGhpcy5tb2RpZmllZC5yZXBvTmFtZSkge1xuICAgICAgdGhpcy5yZXBvTmFtZS5zZXRUZXh0KHBhdGguYmFzZW5hbWUodGhpcy5sb2NhbFBhdGguZ2V0VGV4dCgpKSk7XG4gICAgICB0aGlzLm1vZGlmaWVkLnJlcG9OYW1lID0gZmFsc2U7XG4gICAgfVxuICAgIHRoaXMucmVjaGVja0FjY2VwdEVuYWJsZW1lbnQoKTtcbiAgfVxuXG4gIGRpZENoYW5nZVZpc2liaWxpdHkgPSB2aXNpYmlsaXR5ID0+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB0aGlzLnNldFN0YXRlKHtzZWxlY3RlZFZpc2liaWxpdHk6IHZpc2liaWxpdHl9LCByZXNvbHZlKSk7XG4gIH1cblxuICBkaWRDaGFuZ2VTb3VyY2VSZW1vdGVOYW1lID0gKCkgPT4ge1xuICAgIHRoaXMud3JpdGVTb3VyY2VSZW1vdGVOYW1lU2V0dGluZygpO1xuICAgIHRoaXMucmVjaGVja0FjY2VwdEVuYWJsZW1lbnQoKTtcbiAgfVxuXG4gIGRpZENoYW5nZVByb3RvY29sID0gYXN5bmMgcHJvdG9jb2wgPT4ge1xuICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gdGhpcy5zZXRTdGF0ZSh7c2VsZWN0ZWRQcm90b2NvbDogcHJvdG9jb2x9LCByZXNvbHZlKSk7XG4gICAgdGhpcy53cml0ZVJlbW90ZUZldGNoUHJvdG9jb2xTZXR0aW5nKHByb3RvY29sKTtcbiAgfVxuXG4gIHJlYWRTb3VyY2VSZW1vdGVOYW1lU2V0dGluZyA9ICh7bmV3VmFsdWV9KSA9PiB7XG4gICAgaWYgKG5ld1ZhbHVlICE9PSB0aGlzLnNvdXJjZVJlbW90ZU5hbWUuZ2V0VGV4dCgpKSB7XG4gICAgICB0aGlzLnNvdXJjZVJlbW90ZU5hbWUuc2V0VGV4dChuZXdWYWx1ZSk7XG4gICAgfVxuICB9XG5cbiAgd3JpdGVTb3VyY2VSZW1vdGVOYW1lU2V0dGluZygpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5jb25maWcuZ2V0KCdnaXRodWIuc291cmNlUmVtb3RlTmFtZScpICE9PSB0aGlzLnNvdXJjZVJlbW90ZU5hbWUuZ2V0VGV4dCgpKSB7XG4gICAgICB0aGlzLnByb3BzLmNvbmZpZy5zZXQoJ2dpdGh1Yi5zb3VyY2VSZW1vdGVOYW1lJywgdGhpcy5zb3VyY2VSZW1vdGVOYW1lLmdldFRleHQoKSk7XG4gICAgfVxuICB9XG5cbiAgcmVhZFJlbW90ZUZldGNoUHJvdG9jb2xTZXR0aW5nID0gKHtuZXdWYWx1ZX0pID0+IHtcbiAgICBpZiAobmV3VmFsdWUgIT09IHRoaXMuc3RhdGUuc2VsZWN0ZWRQcm90b2NvbCkge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7c2VsZWN0ZWRQcm90b2NvbDogbmV3VmFsdWV9KTtcbiAgICB9XG4gIH1cblxuICB3cml0ZVJlbW90ZUZldGNoUHJvdG9jb2xTZXR0aW5nKHByb3RvY29sKSB7XG4gICAgaWYgKHRoaXMucHJvcHMuY29uZmlnLmdldCgnZ2l0aHViLnJlbW90ZUZldGNoUHJvdG9jb2wnKSAhPT0gcHJvdG9jb2wpIHtcbiAgICAgIHRoaXMucHJvcHMuY29uZmlnLnNldCgnZ2l0aHViLnJlbW90ZUZldGNoUHJvdG9jb2wnLCBwcm90b2NvbCk7XG4gICAgfVxuICB9XG5cbiAgYWNjZXB0SXNFbmFibGVkKCkge1xuICAgIHJldHVybiAhdGhpcy5yZXBvTmFtZS5pc0VtcHR5KCkgJiZcbiAgICAgICF0aGlzLmxvY2FsUGF0aC5pc0VtcHR5KCkgJiZcbiAgICAgICF0aGlzLnNvdXJjZVJlbW90ZU5hbWUuaXNFbXB0eSgpICYmXG4gICAgICB0aGlzLnByb3BzLnVzZXIgIT09IG51bGw7XG4gIH1cblxuICByZWNoZWNrQWNjZXB0RW5hYmxlbWVudCgpIHtcbiAgICBjb25zdCBuZXh0RW5hYmxlbWVudCA9IHRoaXMuYWNjZXB0SXNFbmFibGVkKCk7XG4gICAgaWYgKG5leHRFbmFibGVtZW50ICE9PSB0aGlzLnN0YXRlLmFjY2VwdEVuYWJsZWQpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe2FjY2VwdEVuYWJsZWQ6IG5leHRFbmFibGVtZW50fSk7XG4gICAgfVxuICB9XG5cbiAgYWNjZXB0ID0gKCkgPT4ge1xuICAgIGlmICghdGhpcy5hY2NlcHRJc0VuYWJsZWQoKSkge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cblxuICAgIGNvbnN0IG93bmVySUQgPSB0aGlzLnN0YXRlLnNlbGVjdGVkT3duZXJJRCAhPT0gJycgPyB0aGlzLnN0YXRlLnNlbGVjdGVkT3duZXJJRCA6IHRoaXMucHJvcHMudXNlci5pZDtcblxuICAgIHJldHVybiB0aGlzLnByb3BzLnJlcXVlc3QuYWNjZXB0KHtcbiAgICAgIG93bmVySUQsXG4gICAgICBuYW1lOiB0aGlzLnJlcG9OYW1lLmdldFRleHQoKSxcbiAgICAgIHZpc2liaWxpdHk6IHRoaXMuc3RhdGUuc2VsZWN0ZWRWaXNpYmlsaXR5LFxuICAgICAgbG9jYWxQYXRoOiB0aGlzLmxvY2FsUGF0aC5nZXRUZXh0KCksXG4gICAgICBwcm90b2NvbDogdGhpcy5zdGF0ZS5zZWxlY3RlZFByb3RvY29sLFxuICAgICAgc291cmNlUmVtb3RlTmFtZTogdGhpcy5zb3VyY2VSZW1vdGVOYW1lLmdldFRleHQoKSxcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBjcmVhdGVGcmFnbWVudENvbnRhaW5lcihCYXJlQ3JlYXRlRGlhbG9nQ29udHJvbGxlciwge1xuICB1c2VyOiBncmFwaHFsYFxuICAgIGZyYWdtZW50IGNyZWF0ZURpYWxvZ0NvbnRyb2xsZXJfdXNlciBvbiBVc2VyXG4gICAgQGFyZ3VtZW50RGVmaW5pdGlvbnMoXG4gICAgICBvcmdhbml6YXRpb25Db3VudDoge3R5cGU6IFwiSW50IVwifVxuICAgICAgb3JnYW5pemF0aW9uQ3Vyc29yOiB7dHlwZTogXCJTdHJpbmdcIn1cbiAgICApIHtcbiAgICAgIGlkXG4gICAgICAuLi5yZXBvc2l0b3J5SG9tZVNlbGVjdGlvblZpZXdfdXNlciBAYXJndW1lbnRzKFxuICAgICAgICBvcmdhbml6YXRpb25Db3VudDogJG9yZ2FuaXphdGlvbkNvdW50XG4gICAgICAgIG9yZ2FuaXphdGlvbkN1cnNvcjogJG9yZ2FuaXphdGlvbkN1cnNvclxuICAgICAgKVxuICAgIH1cbiAgYCxcbn0pO1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUEyRDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRXBELE1BQU1BLDBCQUEwQixTQUFTQyxjQUFLLENBQUNDLFNBQVMsQ0FBQztFQXVCOURDLFdBQVcsQ0FBQ0MsS0FBSyxFQUFFO0lBQ2pCLEtBQUssQ0FBQ0EsS0FBSyxDQUFDO0lBQUMsMkNBaUVLLE1BQU07TUFDeEIsSUFBSSxDQUFDQyxRQUFRLENBQUNDLFFBQVEsR0FBRyxJQUFJO01BQzdCLElBQUksQ0FBQyxJQUFJLENBQUNELFFBQVEsQ0FBQ0UsU0FBUyxFQUFFO1FBQzVCLElBQUksSUFBSSxDQUFDQSxTQUFTLENBQUNDLE9BQU8sRUFBRSxLQUFLLElBQUksQ0FB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