"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _react = _interopRequireDefault(require("react"));
var _propTypes = _interopRequireDefault(require("prop-types"));
var _yubikiri = _interopRequireDefault(require("yubikiri"));
var _eventKit = require("event-kit");
var _propTypes2 = require("../prop-types");
var _operationStateObserver = _interopRequireWildcard(require("../models/operation-state-observer"));
var _refresher = _interopRequireDefault(require("../models/refresher"));
var _githubTabController = _interopRequireDefault(require("../controllers/github-tab-controller"));
var _observeModel = _interopRequireDefault(require("../views/observe-model"));
var _remoteSet = _interopRequireDefault(require("../models/remote-set"));
var _remote = require("../models/remote");
var _branchSet = _interopRequireDefault(require("../models/branch-set"));
var _branch = require("../models/branch");
var _endpoint = require("../models/endpoint");
function _getRequireWildcardCache(e) { if ("function" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }
function _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || "object" != typeof e && "function" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if ("default" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }
function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }
function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }
function _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == typeof i ? i : String(i); }
function _toPrimitive(t, r) { if ("object" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != typeof i) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }
class GitHubTabContainer extends _react.default.Component {
  constructor(props) {
    super(props);
    _defineProperty(this, "fetchRepositoryData", repository => {
      return (0, _yubikiri.default)({
        workingDirectory: repository.getWorkingDirectoryPath(),
        allRemotes: repository.getRemotes(),
        branches: repository.getBranches(),
        selectedRemoteName: repository.getConfig('atomGithub.currentRemote'),
        aheadCount: async query => {
          const branches = await query.branches;
          const currentBranch = branches.getHeadBranch();
          return repository.getAheadCount(currentBranch.getName());
        },
        pushInProgress: repository.getOperationStates().isPushInProgress()
      });
    });
    _defineProperty(this, "fetchToken", (loginModel, endpoint) => loginModel.getToken(endpoint.getLoginAccount()));
    _defineProperty(this, "renderRepositoryData", repoData => {
      let endpoint = _endpoint.DOTCOM;
      if (repoData) {
        repoData.githubRemotes = repoData.allRemotes.filter(remote => remote.isGithubRepo());
        repoData.currentBranch = repoData.branches.getHeadBranch();
        repoData.currentRemote = repoData.githubRemotes.withName(repoData.selectedRemoteName);
        repoData.manyRemotesAvailable = false;
        if (!repoData.currentRemote.isPresent() && repoData.githubRemotes.size() === 1) {
          repoData.currentRemote = Array.from(repoData.githubRemotes)[0];
        } else if (!repoData.currentRemote.isPresent() && repoData.githubRemotes.size() > 1) {
          repoData.manyRemotesAvailable = true;
        }
        repoData.endpoint = endpoint = repoData.currentRemote.getEndpointOrDotcom();
      }
      return _react.default.createElement(_observeModel.default, {
        model: this.props.loginModel,
        fetchData: this.fetchToken,
        fetchParams: [endpoint]
      }, token => this.renderToken(token, repoData));
    });
    this.state = {
      lastRepository: null,
      remoteOperationObserver: new _eventKit.Disposable(),
      refresher: new _refresher.default(),
      observerSub: new _eventKit.Disposable()
    };
  }
  static getDerivedStateFromProps(props, state) {
    if (props.repository !== state.lastRepository) {
      state.remoteOperationObserver.dispose();
      state.observerSub.dispose();
      const remoteOperationObserver = new _operationStateObserver.default(props.repository, _operationStateObserver.PUSH, _operationStateObserver.PULL, _operationStateObserver.FETCH);
      const observerSub = remoteOperationObserver.onDidComplete(() => state.refresher.trigger());
      return {
        lastRepository: props.repository,
        remoteOperationObserver,
        observerSub
      };
    }
    return null;
  }
  componentWillUnmount() {
    this.state.observerSub.dispose();
    this.state.remoteOperationObserver.dispose();
    this.state.refresher.dispose();
  }
  render() {
    return _react.default.createElement(_observeModel.default, {
      model: this.props.repository,
      fetchData: this.fetchRepositoryData
    }, this.renderRepositoryData);
  }
  renderToken(token, repoData) {
    if (!repoData || this.props.repository.isLoading()) {
      return _react.default.createElement(_githubTabController.default, _extends({}, this.props, {
        refresher: this.state.refresher,
        allRemotes: new _remoteSet.default(),
        githubRemotes: new _remoteSet.default(),
        currentRemote: _remote.nullRemote,
        branches: new _branchSet.default(),
        currentBranch: _branch.nullBranch,
        aheadCount: 0,
        manyRemotesAvailable: false,
        pushInProgress: false,
        isLoading: true,
        token: token
      }));
    }
    if (!this.props.repository.isPresent()) {
      return _react.default.createElement(_githubTabController.default, _extends({}, this.props, {
        refresher: this.state.refresher,
        allRemotes: new _remoteSet.default(),
        githubRemotes: new _remoteSet.default(),
        currentRemote: _remote.nullRemote,
        branches: new _branchSet.default(),
        currentBranch: _branch.nullBranch,
        aheadCount: 0,
        manyRemotesAvailable: false,
        pushInProgress: false,
        isLoading: false,
        token: token
      }));
    }
    return _react.default.createElement(_githubTabController.default, _extends({}, repoData, this.props, {
      refresher: this.state.refresher,
      isLoading: false,
      token: token
    }));
  }
}
exports.default = GitHubTabContainer;
_defineProperty(GitHubTabContainer, "propTypes", {
  workspace: _propTypes.default.object.isRequired,
  repository: _propTypes.default.object,
  loginModel: _propTypes2.GithubLoginModelPropType.isRequired,
  rootHolder: _propTypes2.RefHolderPropType.isRequired,
  changeWorkingDirectory: _propTypes.default.func.isRequired,
  onDidChangeWorkDirs: _propTypes.default.func.isRequired,
  getCurrentWorkDirs: _propTypes.default.func.isRequired,
  openCreateDialog: _propTypes.default.func.isRequired,
  openPublishDialog: _propTypes.default.func.isRequired,
  openCloneDialog: _propTypes.default.func.isRequired,
  openGitTab: _propTypes.default.func.isRequired
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmVhY3QiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9wcm9wVHlwZXMiLCJfeXViaWtpcmkiLCJfZXZlbnRLaXQiLCJfcHJvcFR5cGVzMiIsIl9vcGVyYXRpb25TdGF0ZU9ic2VydmVyIiwiX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQiLCJfcmVmcmVzaGVyIiwiX2dpdGh1YlRhYkNvbnRyb2xsZXIiLCJfb2JzZXJ2ZU1vZGVsIiwiX3JlbW90ZVNldCIsIl9yZW1vdGUiLCJfYnJhbmNoU2V0IiwiX2JyYW5jaCIsIl9lbmRwb2ludCIsIl9nZXRSZXF1aXJlV2lsZGNhcmRDYWNoZSIsImUiLCJXZWFrTWFwIiwiciIsInQiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsImhhcyIsImdldCIsIm4iLCJfX3Byb3RvX18iLCJhIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJ1IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiaSIsInNldCIsIm9iaiIsIl9leHRlbmRzIiwiYXNzaWduIiwiYmluZCIsInRhcmdldCIsImFyZ3VtZW50cyIsImxlbmd0aCIsInNvdXJjZSIsImtleSIsImFwcGx5IiwiX2RlZmluZVByb3BlcnR5IiwidmFsdWUiLCJfdG9Qcm9wZXJ0eUtleSIsImVudW1lcmFibGUiLCJjb25maWd1cmFibGUiLCJ3cml0YWJsZSIsIl90b1ByaW1pdGl2ZSIsIlN0cmluZyIsIlN5bWJvbCIsInRvUHJpbWl0aXZlIiwiVHlwZUVycm9yIiwiTnVtYmVyIiwiR2l0SHViVGFiQ29udGFpbmVyIiwiUmVhY3QiLCJDb21wb25lbnQiLCJjb25zdHJ1Y3RvciIsInByb3BzIiwicmVwb3NpdG9yeSIsInl1YmlraXJpIiwid29ya2luZ0RpcmVjdG9yeSIsImdldFdvcmtpbmdEaXJlY3RvcnlQYXRoIiwiYWxsUmVtb3RlcyIsImdldFJlbW90ZXMiLCJicmFuY2hlcyIsImdldEJyYW5jaGVzIiwic2VsZWN0ZWRSZW1vdGVOYW1lIiwiZ2V0Q29uZmlnIiwiYWhlYWRDb3VudCIsInF1ZXJ5IiwiY3VycmVudEJyYW5jaCIsImdldEhlYWRCcmFuY2giLCJnZXRBaGVhZENvdW50IiwiZ2V0TmFtZSIsInB1c2hJblByb2dyZXNzIiwiZ2V0T3BlcmF0aW9uU3RhdGVzIiwiaXNQdXNoSW5Qcm9ncmVzcyIsImxvZ2luTW9kZWwiLCJlbmRwb2ludCIsImdldFRva2VuIiwiZ2V0TG9naW5BY2NvdW50IiwicmVwb0RhdGEiLCJET1RDT00iLCJnaXRodWJSZW1vdGVzIiwiZmlsdGVyIiwicmVtb3RlIiwiaXNHaXRodWJSZXBvIiwiY3VycmVudFJlbW90ZSIsIndpdGhOYW1lIiwibWFueVJlbW90ZXNBdmFpbGFibGUiLCJpc1ByZXNlbnQiLCJzaXplIiwiQXJyYXkiLCJmcm9tIiwiZ2V0RW5kcG9pbnRPckRvdGNvbSIsImNyZWF0ZUVsZW1lbnQiLCJtb2RlbCIsImZldGNoRGF0YSIsImZldGNoVG9rZW4iLCJmZXRjaFBhcmFtcyIsInRva2VuIiwicmVuZGVyVG9rZW4iLCJzdGF0ZSIsImxhc3RSZXBvc2l0b3J5IiwicmVtb3RlT3BlcmF0aW9uT2JzZXJ2ZXIiLCJEaXNwb3NhYmxlIiwicmVmcmVzaGVyIiwiUmVmcmVzaGVyIiwib2JzZXJ2ZXJTdWIiLCJnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMiLCJkaXNwb3NlIiwiT3BlcmF0aW9uU3RhdGVPYnNlcnZlciIsIlBVU0giLCJQVUxMIiwiRkVUQ0giLCJvbkRpZENvbXBsZXRlIiwidHJpZ2dlciIsImNvbXBvbmVudFdpbGxVbm1vdW50IiwicmVuZGVyIiwiZmV0Y2hSZXBvc2l0b3J5RGF0YSIsInJlbmRlclJlcG9zaXRvcnlEYXRhIiwiaXNMb2FkaW5nIiwiUmVtb3RlU2V0IiwibnVsbFJlbW90ZSIsIkJyYW5jaFNldCIsIm51bGxCcmFuY2giLCJleHBvcnRzIiwid29ya3NwYWNlIiwiUHJvcFR5cGVzIiwib2JqZWN0IiwiaXNSZXF1aXJlZCIsIkdpdGh1YkxvZ2luTW9kZWxQcm9wVHlwZSIsInJvb3RIb2xkZXIiLCJSZWZIb2xkZXJQcm9wVHlwZSIsImNoYW5nZVdvcmtpbmdEaXJlY3RvcnkiLCJmdW5jIiwib25EaWRDaGFuZ2VXb3JrRGlycyIsImdldEN1cnJlbnRXb3JrRGlycyIsIm9wZW5DcmVhdGVEaWFsb2ciLCJvcGVuUHVibGlzaERpYWxvZyIsIm9wZW5DbG9uZURpYWxvZyIsIm9wZW5HaXRUYWIiXSwic291cmNlcyI6WyJnaXRodWItdGFiLWNvbnRhaW5lci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCB5dWJpa2lyaSBmcm9tICd5dWJpa2lyaSc7XG5pbXBvcnQge0Rpc3Bvc2FibGV9IGZyb20gJ2V2ZW50LWtpdCc7XG5cbmltcG9ydCB7R2l0aHViTG9naW5Nb2RlbFByb3BUeXBlLCBSZWZIb2xkZXJQcm9wVHlwZX0gZnJvbSAnLi4vcHJvcC10eXBlcyc7XG5pbXBvcnQgT3BlcmF0aW9uU3RhdGVPYnNlcnZlciwge1BVU0gsIFBVTEwsIEZFVENIfSBmcm9tICcuLi9tb2RlbHMvb3BlcmF0aW9uLXN0YXRlLW9ic2VydmVyJztcbmltcG9ydCBSZWZyZXNoZXIgZnJvbSAnLi4vbW9kZWxzL3JlZnJlc2hlcic7XG5pbXBvcnQgR2l0SHViVGFiQ29udHJvbGxlciBmcm9tICcuLi9jb250cm9sbGVycy9naXRodWItdGFiLWNvbnRyb2xsZXInO1xuaW1wb3J0IE9ic2VydmVNb2RlbCBmcm9tICcuLi92aWV3cy9vYnNlcnZlLW1vZGVsJztcbmltcG9ydCBSZW1vdGVTZXQgZnJvbSAnLi4vbW9kZWxzL3JlbW90ZS1zZXQnO1xuaW1wb3J0IHtudWxsUmVtb3RlfSBmcm9tICcuLi9tb2RlbHMvcmVtb3RlJztcbmltcG9ydCBCcmFuY2hTZXQgZnJvbSAnLi4vbW9kZWxzL2JyYW5jaC1zZXQnO1xuaW1wb3J0IHtudWxsQnJhbmNofSBmcm9tICcuLi9tb2RlbHMvYnJhbmNoJztcbmltcG9ydCB7RE9UQ09NfSBmcm9tICcuLi9tb2RlbHMvZW5kcG9pbnQnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHaXRIdWJUYWJDb250YWluZXIgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBzdGF0aWMgcHJvcFR5cGVzID0ge1xuICAgIHdvcmtzcGFjZTogUHJvcFR5cGVzLm9iamVjdC5pc1JlcXVpcmVkLFxuICAgIHJlcG9zaXRvcnk6IFByb3BUeXBlcy5vYmplY3QsXG4gICAgbG9naW5Nb2RlbDogR2l0aHViTG9naW5Nb2RlbFByb3BUeXBlLmlzUmVxdWlyZWQsXG4gICAgcm9vdEhvbGRlcjogUmVmSG9sZGVyUHJvcFR5cGUuaXNSZXF1aXJlZCxcblxuICAgIGNoYW5nZVdvcmtpbmdEaXJlY3Rvcnk6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXG4gICAgb25EaWRDaGFuZ2VXb3JrRGlyczogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcbiAgICBnZXRDdXJyZW50V29ya0RpcnM6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXG4gICAgb3BlbkNyZWF0ZURpYWxvZzogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcbiAgICBvcGVuUHVibGlzaERpYWxvZzogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcbiAgICBvcGVuQ2xvbmVEaWFsb2c6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXG4gICAgb3BlbkdpdFRhYjogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcbiAgfVxuXG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGxhc3RSZXBvc2l0b3J5OiBudWxsLFxuICAgICAgcmVtb3RlT3BlcmF0aW9uT2JzZXJ2ZXI6IG5ldyBEaXNwb3NhYmxlKCksXG4gICAgICByZWZyZXNoZXI6IG5ldyBSZWZyZXNoZXIoKSxcbiAgICAgIG9ic2VydmVyU3ViOiBuZXcgRGlzcG9zYWJsZSgpLFxuICAgIH07XG4gIH1cblxuICBzdGF0aWMgZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzKHByb3BzLCBzdGF0ZSkge1xuICAgIGlmIChwcm9wcy5yZXBvc2l0b3J5ICE9PSBzdGF0ZS5sYXN0UmVwb3NpdG9yeSkge1xuICAgICAgc3RhdGUucmVtb3RlT3BlcmF0aW9uT2JzZXJ2ZXIuZGlzcG9zZSgpO1xuICAgICAgc3RhdGUub2JzZXJ2ZXJTdWIuZGlzcG9zZSgpO1xuXG4gICAgICBjb25zdCByZW1vdGVPcGVyYXRpb25PYnNlcnZlciA9IG5ldyBPcGVyYXRpb25TdGF0ZU9ic2VydmVyKHByb3BzLnJlcG9zaXRvcnksIFBVU0gsIFBVTEwsIEZFVENIKTtcbiAgICAgIGNvbnN0IG9ic2VydmVyU3ViID0gcmVtb3RlT3BlcmF0aW9uT2JzZXJ2ZXIub25EaWRDb21wbGV0ZSgoKSA9PiBzdGF0ZS5yZWZyZXNoZXIudHJpZ2dlcigpKTtcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgbGFzdFJlcG9zaXRvcnk6IHByb3BzLnJlcG9zaXRvcnksXG4gICAgICAgIHJlbW90ZU9wZXJhdGlvbk9ic2VydmVyLFxuICAgICAgICBvYnNlcnZlclN1YixcbiAgICAgIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICB0aGlzLnN0YXRlLm9ic2VydmVyU3ViLmRpc3Bvc2UoKTtcbiAgICB0aGlzLnN0YXRlLnJlbW90ZU9wZXJhdGlvbk9ic2VydmVyLmRpc3Bvc2UoKTtcbiAgICB0aGlzLnN0YXRlLnJlZnJlc2hlci5kaXNwb3NlKCk7XG4gIH1cblxuICBmZXRjaFJlcG9zaXRvcnlEYXRhID0gcmVwb3NpdG9yeSA9PiB7XG4gICAgcmV0dXJuIHl1YmlraXJpKHtcbiAgICAgIHdvcmtpbmdEaXJlY3Rvcnk6IHJlcG9zaXRvcnkuZ2V0V29ya2luZ0RpcmVjdG9yeVBhdGgoKSxcbiAgICAgIGFsbFJlbW90ZXM6IHJlcG9zaXRvcnkuZ2V0UmVtb3RlcygpLFxuICAgICAgYnJhbmNoZXM6IHJlcG9zaXRvcnkuZ2V0QnJhbmNoZXMoKSxcbiAgICAgIHNlbGVjdGVkUmVtb3RlTmFtZTogcmVwb3NpdG9yeS5nZXRDb25maWcoJ2F0b21HaXRodWIuY3VycmVudFJlbW90ZScpLFxuICAgICAgYWhlYWRDb3VudDogYXN5bmMgcXVlcnkgPT4ge1xuICAgICAgICBjb25zdCBicmFuY2hlcyA9IGF3YWl0IHF1ZXJ5LmJyYW5jaGVzO1xuICAgICAgICBjb25zdCBjdXJyZW50QnJhbmNoID0gYnJhbmNoZXMuZ2V0SGVhZEJyYW5jaCgpO1xuICAgICAgICByZXR1cm4gcmVwb3NpdG9yeS5nZXRBaGVhZENvdW50KGN1cnJlbnRCcmFuY2guZ2V0TmFtZSgpKTtcbiAgICAgIH0sXG4gICAgICBwdXNoSW5Qcm9ncmVzczogcmVwb3NpdG9yeS5nZXRPcGVyYXRpb25TdGF0ZXMoKS5pc1B1c2hJblByb2dyZXNzKCksXG4gICAgfSk7XG4gIH1cblxuICBmZXRjaFRva2VuID0gKGxvZ2luTW9kZWwsIGVuZHBvaW50KSA9PiBsb2dpbk1vZGVsLmdldFRva2VuKGVuZHBvaW50LmdldExvZ2luQWNjb3VudCgpKTtcblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxPYnNlcnZlTW9kZWwgbW9kZWw9e3RoaXMucHJvcHMucmVwb3NpdG9yeX0gZmV0Y2hEYXRhPXt0aGlzLmZldGNoUmVwb3NpdG9yeURhdGF9PlxuICAgICAgICB7dGhpcy5yZW5kZXJSZXBvc2l0b3J5RGF0YX1cbiAgICAgIDwvT2JzZXJ2ZU1vZGVsPlxuICAgICk7XG4gIH1cblxuICByZW5kZXJSZXBvc2l0b3J5RGF0YSA9IHJlcG9EYXRhID0+IHtcbiAgICBsZXQgZW5kcG9pbnQgPSBET1RDT007XG5cbiAgICBpZiAocmVwb0RhdGEpIHtcbiAgICAgIHJlcG9EYXRhLmdpdGh1YlJlbW90ZXMgPSByZXBvRGF0YS5hbGxSZW1vdGVzLmZpbHRlcihyZW1vdGUgPT4gcmVtb3RlLmlzR2l0aHViUmVwbygpKTtcbiAgICAgIHJlcG9EYXRhLmN1cnJlbnRCcmFuY2ggPSByZXBvRGF0YS5icmFuY2hlcy5nZXRIZWFkQnJhbmNoKCk7XG5cbiAgICAgIHJlcG9EYXRhLmN1cnJlbnRSZW1vdGUgPSByZXBvRGF0YS5naXRodWJSZW1vdGVzLndpdGhOYW1lKHJlcG9EYXRhLnNlbGVjdGVkUmVtb3RlTmFtZSk7XG4gICAgICByZXBvRGF0YS5tYW55UmVtb3Rlc0F2YWlsYWJsZSA9IGZhbHNlO1xuICAgICAgaWYgKCFyZXBvRGF0YS5jdXJyZW50UmVtb3RlLmlzUHJlc2VudCgpICYmIHJlcG9EYXRhLmdpdGh1YlJlbW90ZXMuc2l6ZSgpID09PSAxKSB7XG4gICAgICAgIHJlcG9EYXRhLmN1cnJlbnRSZW1vdGUgPSBBcnJheS5mcm9tKHJlcG9EYXRhLmdpdGh1YlJlbW90ZXMpWzBdO1xuICAgICAgfSBlbHNlIGlmICghcmVwb0RhdGEuY3VycmVudFJlbW90ZS5pc1ByZXNlbnQoKSAmJiByZXBvRGF0YS5naXRodWJSZW1vdGVzLnNpemUoKSA+IDEpIHtcbiAgICAgICAgcmVwb0RhdGEubWFueVJlbW90ZXNBdmFpbGFibGUgPSB0cnVlO1xuICAgICAgfVxuICAgICAgcmVwb0RhdGEuZW5kcG9pbnQgPSBlbmRwb2ludCA9IHJlcG9EYXRhLmN1cnJlbnRSZW1vdGUuZ2V0RW5kcG9pbnRPckRvdGNvbSgpO1xuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICA8T2JzZXJ2ZU1vZGVsIG1vZGVsPXt0aGlzLnByb3BzLmxvZ2luTW9kZWx9IGZldGNoRGF0YT17dGhpcy5mZXRjaFRva2VufSBmZXRjaFBhcmFtcz17W2VuZHBvaW50XX0+XG4gICAgICAgIHt0b2tlbiA9PiB0aGlzLnJlbmRlclRva2VuKHRva2VuLCByZXBvRGF0YSl9XG4gICAgICA8L09ic2VydmVNb2RlbD5cbiAgICApO1xuICB9XG5cbiAgcmVuZGVyVG9rZW4odG9rZW4sIHJlcG9EYXRhKSB7XG4gICAgaWYgKCFyZXBvRGF0YSB8fCB0aGlzLnByb3BzLnJlcG9zaXRvcnkuaXNMb2FkaW5nKCkpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxHaXRIdWJUYWJDb250cm9sbGVyXG4gICAgICAgICAgey4uLnRoaXMucHJvcHN9XG4gICAgICAgICAgcmVmcmVzaGVyPXt0aGlzLnN0YXRlLnJlZnJlc2hlcn1cblxuICAgICAgICAgIGFsbFJlbW90ZXM9e25ldyBSZW1vdGVTZXQoKX1cbiAgICAgICAgICBnaXRodWJSZW1vdGVzPXtuZXcgUmVtb3RlU2V0KCl9XG4gICAgICAgICAgY3VycmVudFJlbW90ZT17bnVsbFJlbW90ZX1cbiAgICAgICAgICBicmFuY2hlcz17bmV3IEJyYW5jaFNldCgpfVxuICAgICAgICAgIGN1cnJlbnRCcmFuY2g9e251bGxCcmFuY2h9XG4gICAgICAgICAgYWhlYWRDb3VudD17MH1cbiAgICAgICAgICBtYW55UmVtb3Rlc0F2YWlsYWJsZT17ZmFsc2V9XG4gICAgICAgICAgcHVzaEluUHJvZ3Jlc3M9e2ZhbHNlfVxuICAgICAgICAgIGlzTG9hZGluZz17dHJ1ZX1cbiAgICAgICAgICB0b2tlbj17dG9rZW59XG4gICAgICAgIC8+XG4gICAgICApO1xuICAgIH1cblxuICAgIGlmICghdGhpcy5wcm9wcy5yZXBvc2l0b3J5LmlzUHJlc2VudCgpKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8R2l0SHViVGFiQ29udHJvbGxlclxuICAgICAgICAgIHsuLi50aGlzLnByb3BzfVxuICAgICAgICAgIHJlZnJlc2hlcj17dGhpcy5zdGF0ZS5yZWZyZXNoZXJ9XG5cbiAgICAgICAgICBhbGxSZW1vdGVzPXtuZXcgUmVtb3RlU2V0KCl9XG4gICAgICAgICAgZ2l0aHViUmVtb3Rlcz17bmV3IFJlbW90ZVNldCgpfVxuICAgICAgICAgIGN1cnJlbnRSZW1vdGU9e251bGxSZW1vdGV9XG4gICAgICAgICAgYnJhbmNoZXM9e25ldyBCcmFuY2hTZXQoKX1cbiAgICAgICAgICBjdXJyZW50QnJhbmNoPXtudWxsQnJhbmNofVxuICAgICAgICAgIGFoZWFkQ291bnQ9ezB9XG4gICAgICAgICAgbWFueVJlbW90ZXNBdmFpbGFibGU9e2ZhbHNlfVxuICAgICAgICAgIHB1c2hJblByb2dyZXNzPXtmYWxzZX1cbiAgICAgICAgICBpc0xvYWRpbmc9e2ZhbHNlfVxuICAgICAgICAgIHRva2VuPXt0b2tlbn1cbiAgICAgICAgLz5cbiAgICAgICk7XG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxHaXRIdWJUYWJDb250cm9sbGVyXG4gICAgICAgIHsuLi5yZXBvRGF0YX1cbiAgICAgICAgey4uLnRoaXMucHJvcHN9XG4gICAgICAgIHJlZnJlc2hlcj17dGhpcy5zdGF0ZS5yZWZyZXNoZXJ9XG4gICAgICAgIGlzTG9hZGluZz17ZmFsc2V9XG4gICAgICAgIHRva2VuPXt0b2tlbn1cbiAgICAgIC8+XG4gICAgKTtcbiAgfVxufVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxNQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxVQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRSxTQUFBLEdBQUFILHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRyxTQUFBLEdBQUFILE9BQUE7QUFFQSxJQUFBSSxXQUFBLEdBQUFKLE9BQUE7QUFDQSxJQUFBSyx1QkFBQSxHQUFBQyx1QkFBQSxDQUFBTixPQUFBO0FBQ0EsSUFBQU8sVUFBQSxHQUFBUixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQVEsb0JBQUEsR0FBQVQsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFTLGFBQUEsR0FBQVYsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFVLFVBQUEsR0FBQVgsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFXLE9BQUEsR0FBQVgsT0FBQTtBQUNBLElBQUFZLFVBQUEsR0FBQWIsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFhLE9BQUEsR0FBQWIsT0FBQTtBQUNBLElBQUFjLFNBQUEsR0FB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