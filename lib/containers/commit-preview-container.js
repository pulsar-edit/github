"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _react = _interopRequireDefault(require("react"));
var _propTypes = _interopRequireDefault(require("prop-types"));
var _yubikiri = _interopRequireDefault(require("yubikiri"));
var _eventKit = require("event-kit");
var _observeModel = _interopRequireDefault(require("../views/observe-model"));
var _loadingView = _interopRequireDefault(require("../views/loading-view"));
var _commitPreviewController = _interopRequireDefault(require("../controllers/commit-preview-controller"));
var _patchBuffer = _interopRequireDefault(require("../models/patch/patch-buffer"));
function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }
function ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }
function _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }
function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }
function _toPropertyKey(arg) { var key = _toPrimitive(arg, "string"); return typeof key === "symbol" ? key : String(key); }
function _toPrimitive(input, hint) { if (typeof input !== "object" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || "default"); if (typeof res !== "object") return res; throw new TypeError("@@toPrimitive must return a primitive value."); } return (hint === "string" ? String : Number)(input); }
class CommitPreviewContainer extends _react.default.Component {
  constructor(props) {
    super(props);
    _defineProperty(this, "fetchData", repository => {
      const builderOpts = {
        renderStatusOverrides: this.state.renderStatusOverrides
      };
      if (this.props.largeDiffThreshold !== undefined) {
        builderOpts.largeDiffThreshold = this.props.largeDiffThreshold;
      }
      const before = () => this.emitter.emit('will-update-patch');
      const after = patch => this.emitter.emit('did-update-patch', patch);
      return (0, _yubikiri.default)({
        multiFilePatch: repository.getStagedChangesPatch({
          patchBuffer: this.patchBuffer,
          builder: builderOpts,
          before,
          after
        })
      });
    });
    _defineProperty(this, "renderResult", data => {
      const currentMultiFilePatch = data && data.multiFilePatch;
      if (currentMultiFilePatch !== this.lastMultiFilePatch) {
        this.sub.dispose();
        if (currentMultiFilePatch) {
          this.sub = new _eventKit.CompositeDisposable(...currentMultiFilePatch.getFilePatches().map(fp => fp.onDidChangeRenderStatus(() => {
            this.setState(prevState => {
              return {
                renderStatusOverrides: _objectSpread({}, prevState.renderStatusOverrides, {
                  [fp.getPath()]: fp.getRenderStatus()
                })
              };
            });
          })));
        }
        this.lastMultiFilePatch = currentMultiFilePatch;
      }
      if (this.props.repository.isLoading() || data === null) {
        return _react.default.createElement(_loadingView.default, null);
      }
      return _react.default.createElement(_commitPreviewController.default, _extends({
        stagingStatus: 'staged',
        onWillUpdatePatch: this.onWillUpdatePatch,
        onDidUpdatePatch: this.onDidUpdatePatch
      }, data, this.props));
    });
    _defineProperty(this, "onWillUpdatePatch", cb => this.emitter.on('will-update-patch', cb));
    _defineProperty(this, "onDidUpdatePatch", cb => this.emitter.on('did-update-patch', cb));
    this.emitter = new _eventKit.Emitter();
    this.patchBuffer = new _patchBuffer.default();
    this.lastMultiFilePatch = null;
    this.sub = new _eventKit.CompositeDisposable();
    this.state = {
      renderStatusOverrides: {}
    };
  }
  render() {
    return _react.default.createElement(_observeModel.default, {
      model: this.props.repository,
      fetchData: this.fetchData
    }, this.renderResult);
  }
  componentWillUnmount() {
    this.sub.dispose();
  }
}
exports.default = CommitPreviewContainer;
_defineProperty(CommitPreviewContainer, "propTypes", {
  repository: _propTypes.default.object.isRequired,
  largeDiffThreshold: _propTypes.default.number
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmVhY3QiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9wcm9wVHlwZXMiLCJfeXViaWtpcmkiLCJfZXZlbnRLaXQiLCJfb2JzZXJ2ZU1vZGVsIiwiX2xvYWRpbmdWaWV3IiwiX2NvbW1pdFByZXZpZXdDb250cm9sbGVyIiwiX3BhdGNoQnVmZmVyIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJfZXh0ZW5kcyIsIk9iamVjdCIsImFzc2lnbiIsImJpbmQiLCJ0YXJnZXQiLCJpIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwic291cmNlIiwia2V5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiYXBwbHkiLCJvd25LZXlzIiwiZSIsInIiLCJ0Iiwia2V5cyIsImdldE93blByb3BlcnR5U3ltYm9scyIsIm8iLCJmaWx0ZXIiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJlbnVtZXJhYmxlIiwicHVzaCIsIl9vYmplY3RTcHJlYWQiLCJmb3JFYWNoIiwiX2RlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyIsImRlZmluZVByb3BlcnRpZXMiLCJkZWZpbmVQcm9wZXJ0eSIsInZhbHVlIiwiX3RvUHJvcGVydHlLZXkiLCJjb25maWd1cmFibGUiLCJ3cml0YWJsZSIsImFyZyIsIl90b1ByaW1pdGl2ZSIsIlN0cmluZyIsImlucHV0IiwiaGludCIsInByaW0iLCJTeW1ib2wiLCJ0b1ByaW1pdGl2ZSIsInVuZGVmaW5lZCIsInJlcyIsIlR5cGVFcnJvciIsIk51bWJlciIsIkNvbW1pdFByZXZpZXdDb250YWluZXIiLCJSZWFjdCIsIkNvbXBvbmVudCIsImNvbnN0cnVjdG9yIiwicHJvcHMiLCJyZXBvc2l0b3J5IiwiYnVpbGRlck9wdHMiLCJyZW5kZXJTdGF0dXNPdmVycmlkZXMiLCJzdGF0ZSIsImxhcmdlRGlmZlRocmVzaG9sZCIsImJlZm9yZSIsImVtaXR0ZXIiLCJlbWl0IiwiYWZ0ZXIiLCJwYXRjaCIsInl1YmlraXJpIiwibXVsdGlGaWxlUGF0Y2giLCJnZXRTdGFnZWRDaGFuZ2VzUGF0Y2giLCJwYXRjaEJ1ZmZlciIsImJ1aWxkZXIiLCJkYXRhIiwiY3VycmVudE11bHRpRmlsZVBhdGNoIiwibGFzdE11bHRpRmlsZVBhdGNoIiwic3ViIiwiZGlzcG9zZSIsIkNvbXBvc2l0ZURpc3Bvc2FibGUiLCJnZXRGaWxlUGF0Y2hlcyIsIm1hcCIsImZwIiwib25EaWRDaGFuZ2VSZW5kZXJTdGF0dXMiLCJzZXRTdGF0ZSIsInByZXZTdGF0ZSIsImdldFBhdGgiLCJnZXRSZW5kZXJTdGF0dXMiLCJpc0xvYWRpbmciLCJjcmVhdGVFbGVtZW50Iiwic3RhZ2luZ1N0YXR1cyIsIm9uV2lsbFVwZGF0ZVBhdGNoIiwib25EaWRVcGRhdGVQYXRjaCIsImNiIiwib24iLCJFbWl0dGVyIiwiUGF0Y2hCdWZmZXIiLCJyZW5kZXIiLCJtb2RlbCIsImZldGNoRGF0YSIsInJlbmRlclJlc3VsdCIsImNvbXBvbmVudFdpbGxVbm1vdW50IiwiZXhwb3J0cyIsIlByb3BUeXBlcyIsIm9iamVjdCIsImlzUmVxdWlyZWQiLCJudW1iZXIiXSwic291cmNlcyI6WyJjb21taXQtcHJldmlldy1jb250YWluZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgeXViaWtpcmkgZnJvbSAneXViaWtpcmknO1xuaW1wb3J0IHtDb21wb3NpdGVEaXNwb3NhYmxlLCBFbWl0dGVyfSBmcm9tICdldmVudC1raXQnO1xuXG5pbXBvcnQgT2JzZXJ2ZU1vZGVsIGZyb20gJy4uL3ZpZXdzL29ic2VydmUtbW9kZWwnO1xuaW1wb3J0IExvYWRpbmdWaWV3IGZyb20gJy4uL3ZpZXdzL2xvYWRpbmctdmlldyc7XG5pbXBvcnQgQ29tbWl0UHJldmlld0NvbnRyb2xsZXIgZnJvbSAnLi4vY29udHJvbGxlcnMvY29tbWl0LXByZXZpZXctY29udHJvbGxlcic7XG5pbXBvcnQgUGF0Y2hCdWZmZXIgZnJvbSAnLi4vbW9kZWxzL3BhdGNoL3BhdGNoLWJ1ZmZlcic7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENvbW1pdFByZXZpZXdDb250YWluZXIgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBzdGF0aWMgcHJvcFR5cGVzID0ge1xuICAgIHJlcG9zaXRvcnk6IFByb3BUeXBlcy5vYmplY3QuaXNSZXF1aXJlZCxcbiAgICBsYXJnZURpZmZUaHJlc2hvbGQ6IFByb3BUeXBlcy5udW1iZXIsXG4gIH1cblxuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIHRoaXMuZW1pdHRlciA9IG5ldyBFbWl0dGVyKCk7XG5cbiAgICB0aGlzLnBhdGNoQnVmZmVyID0gbmV3IFBhdGNoQnVmZmVyKCk7XG5cbiAgICB0aGlzLmxhc3RNdWx0aUZpbGVQYXRjaCA9IG51bGw7XG4gICAgdGhpcy5zdWIgPSBuZXcgQ29tcG9zaXRlRGlzcG9zYWJsZSgpO1xuXG4gICAgdGhpcy5zdGF0ZSA9IHtyZW5kZXJTdGF0dXNPdmVycmlkZXM6IHt9fTtcbiAgfVxuXG4gIGZldGNoRGF0YSA9IHJlcG9zaXRvcnkgPT4ge1xuICAgIGNvbnN0IGJ1aWxkZXJPcHRzID0ge3JlbmRlclN0YXR1c092ZXJyaWRlczogdGhpcy5zdGF0ZS5yZW5kZXJTdGF0dXNPdmVycmlkZXN9O1xuXG4gICAgaWYgKHRoaXMucHJvcHMubGFyZ2VEaWZmVGhyZXNob2xkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGJ1aWxkZXJPcHRzLmxhcmdlRGlmZlRocmVzaG9sZCA9IHRoaXMucHJvcHMubGFyZ2VEaWZmVGhyZXNob2xkO1xuICAgIH1cblxuICAgIGNvbnN0IGJlZm9yZSA9ICgpID0+IHRoaXMuZW1pdHRlci5lbWl0KCd3aWxsLXVwZGF0ZS1wYXRjaCcpO1xuICAgIGNvbnN0IGFmdGVyID0gcGF0Y2ggPT4gdGhpcy5lbWl0dGVyLmVtaXQoJ2RpZC11cGRhdGUtcGF0Y2gnLCBwYXRjaCk7XG5cbiAgICByZXR1cm4geXViaWtpcmkoe1xuICAgICAgbXVsdGlGaWxlUGF0Y2g6IHJlcG9zaXRvcnkuZ2V0U3RhZ2VkQ2hhbmdlc1BhdGNoKHtcbiAgICAgICAgcGF0Y2hCdWZmZXI6IHRoaXMucGF0Y2hCdWZmZXIsXG4gICAgICAgIGJ1aWxkZXI6IGJ1aWxkZXJPcHRzLFxuICAgICAgICBiZWZvcmUsXG4gICAgICAgIGFmdGVyLFxuICAgICAgfSksXG4gICAgfSk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxPYnNlcnZlTW9kZWwgbW9kZWw9e3RoaXMucHJvcHMucmVwb3NpdG9yeX0gZmV0Y2hEYXRhPXt0aGlzLmZldGNoRGF0YX0+XG4gICAgICAgIHt0aGlzLnJlbmRlclJlc3VsdH1cbiAgICAgIDwvT2JzZXJ2ZU1vZGVsPlxuICAgICk7XG4gIH1cblxuICByZW5kZXJSZXN1bHQgPSBkYXRhID0+IHtcbiAgICBjb25zdCBjdXJyZW50TXVsdGlGaWxlUGF0Y2ggPSBkYXRhICYmIGRhdGEubXVsdGlGaWxlUGF0Y2g7XG4gICAgaWYgKGN1cnJlbnRNdWx0aUZpbGVQYXRjaCAhPT0gdGhpcy5sYXN0TXVsdGlGaWxlUGF0Y2gpIHtcbiAgICAgIHRoaXMuc3ViLmRpc3Bvc2UoKTtcbiAgICAgIGlmIChjdXJyZW50TXVsdGlGaWxlUGF0Y2gpIHtcbiAgICAgICAgdGhpcy5zdWIgPSBuZXcgQ29tcG9zaXRlRGlzcG9zYWJsZShcbiAgICAgICAgICAuLi5jdXJyZW50TXVsdGlGaWxlUGF0Y2guZ2V0RmlsZVBhdGNoZXMoKS5tYXAoZnAgPT4gZnAub25EaWRDaGFuZ2VSZW5kZXJTdGF0dXMoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZShwcmV2U3RhdGUgPT4ge1xuICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHJlbmRlclN0YXR1c092ZXJyaWRlczoge1xuICAgICAgICAgICAgICAgICAgLi4ucHJldlN0YXRlLnJlbmRlclN0YXR1c092ZXJyaWRlcyxcbiAgICAgICAgICAgICAgICAgIFtmcC5nZXRQYXRoKCldOiBmcC5nZXRSZW5kZXJTdGF0dXMoKSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSkpLFxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgdGhpcy5sYXN0TXVsdGlGaWxlUGF0Y2ggPSBjdXJyZW50TXVsdGlGaWxlUGF0Y2g7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMucHJvcHMucmVwb3NpdG9yeS5pc0xvYWRpbmcoKSB8fCBkYXRhID09PSBudWxsKSB7XG4gICAgICByZXR1cm4gPExvYWRpbmdWaWV3IC8+O1xuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICA8Q29tbWl0UHJldmlld0NvbnRyb2xsZXJcbiAgICAgICAgc3RhZ2luZ1N0YXR1cz17J3N0YWdlZCd9XG4gICAgICAgIG9uV2lsbFVwZGF0ZVBhdGNoPXt0aGlzLm9uV2lsbFVwZGF0ZVBhdGNofVxuICAgICAgICBvbkRpZFVwZGF0ZVBhdGNoPXt0aGlzLm9uRGlkVXBkYXRlUGF0Y2h9XG4gICAgICAgIHsuLi5kYXRhfVxuICAgICAgICB7Li4udGhpcy5wcm9wc31cbiAgICAgIC8+XG4gICAgKTtcbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgIHRoaXMuc3ViLmRpc3Bvc2UoKTtcbiAgfVxuXG4gIG9uV2lsbFVwZGF0ZVBhdGNoID0gY2IgPT4gdGhpcy5lbWl0dGVyLm9uKCd3aWxsLXVwZGF0ZS1wYXRjaCcsIGNiKTtcblxuICBvbkRpZFVwZGF0ZVBhdGNoID0gY2IgPT4gdGhpcy5lbWl0dGVyLm9uKCdkaWQtdXBkYXRlLXBhdGNoJywgY2IpO1xufVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxNQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxVQUFBLEdBQUFGLHNCQUFBLENB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