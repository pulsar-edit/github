"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _react = _interopRequireDefault(require("react"));
var _propTypes = _interopRequireDefault(require("prop-types"));
var _yubikiri = _interopRequireDefault(require("yubikiri"));
var _eventKit = require("event-kit");
var _helpers = require("../helpers");
var _observeModel = _interopRequireDefault(require("../views/observe-model"));
var _loadingView = _interopRequireDefault(require("../views/loading-view"));
var _changedFileController = _interopRequireDefault(require("../controllers/changed-file-controller"));
var _patchBuffer = _interopRequireDefault(require("../models/patch/patch-buffer"));
function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }
function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }
function _toPropertyKey(arg) { var key = _toPrimitive(arg, "string"); return typeof key === "symbol" ? key : String(key); }
function _toPrimitive(input, hint) { if (typeof input !== "object" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || "default"); if (typeof res !== "object") return res; throw new TypeError("@@toPrimitive must return a primitive value."); } return (hint === "string" ? String : Number)(input); }
class ChangedFileContainer extends _react.default.Component {
  constructor(props) {
    super(props);
    _defineProperty(this, "onWillUpdatePatch", cb => this.emitter.on('will-update-patch', cb));
    _defineProperty(this, "onDidUpdatePatch", cb => this.emitter.on('did-update-patch', cb));
    (0, _helpers.autobind)(this, 'fetchData', 'renderWithData');
    this.emitter = new _eventKit.Emitter();
    this.patchBuffer = new _patchBuffer.default();
    this.lastMultiFilePatch = null;
    this.sub = new _eventKit.CompositeDisposable();
    this.state = {
      renderStatusOverride: null
    };
  }
  fetchData(repository) {
    const staged = this.props.stagingStatus === 'staged';
    const builderOpts = {};
    if (this.state.renderStatusOverride !== null) {
      builderOpts.renderStatusOverrides = {
        [this.props.relPath]: this.state.renderStatusOverride
      };
    }
    if (this.props.largeDiffThreshold !== undefined) {
      builderOpts.largeDiffThreshold = this.props.largeDiffThreshold;
    }
    const before = () => this.emitter.emit('will-update-patch');
    const after = patch => this.emitter.emit('did-update-patch', patch);
    return (0, _yubikiri.default)({
      multiFilePatch: repository.getFilePatchForPath(this.props.relPath, {
        staged,
        patchBuffer: this.patchBuffer,
        builder: builderOpts,
        before,
        after
      }),
      isPartiallyStaged: repository.isPartiallyStaged(this.props.relPath),
      hasUndoHistory: repository.hasDiscardHistory(this.props.relPath)
    });
  }
  render() {
    return _react.default.createElement(_observeModel.default, {
      model: this.props.repository,
      fetchData: this.fetchData
    }, this.renderWithData);
  }
  renderWithData(data) {
    const currentMultiFilePatch = data && data.multiFilePatch;
    if (currentMultiFilePatch !== this.lastMultiFilePatch) {
      this.sub.dispose();
      /* istanbul ignore else */
      if (currentMultiFilePatch) {
        // Keep this component's renderStatusOverride synchronized with the FilePatch we're rendering
        this.sub = new _eventKit.CompositeDisposable(...currentMultiFilePatch.getFilePatches().map(fp => fp.onDidChangeRenderStatus(() => {
          this.setState({
            renderStatusOverride: fp.getRenderStatus()
          });
        })));
      }
      this.lastMultiFilePatch = currentMultiFilePatch;
    }
    if (this.props.repository.isLoading() || data === null) {
      return _react.default.createElement(_loadingView.default, null);
    }
    return _react.default.createElement(_changedFileController.default, _extends({
      onWillUpdatePatch: this.onWillUpdatePatch,
      onDidUpdatePatch: this.onDidUpdatePatch
    }, data, this.props));
  }
  componentWillUnmount() {
    this.sub.dispose();
  }
}
exports.default = ChangedFileContainer;
_defineProperty(ChangedFileContainer, "propTypes", {
  repository: _propTypes.default.object.isRequired,
  stagingStatus: _propTypes.default.oneOf(['staged', 'unstaged']),
  relPath: _propTypes.default.string.isRequired,
  largeDiffThreshold: _propTypes.default.number,
  workspace: _propTypes.default.object.isRequired,
  commands: _propTypes.default.object.isRequired,
  keymaps: _propTypes.default.object.isRequired,
  tooltips: _propTypes.default.object.isRequired,
  config: _propTypes.default.object.isRequired,
  destroy: _propTypes.default.func.isRequired,
  undoLastDiscard: _propTypes.default.func.isRequired,
  surfaceFileAtPath: _propTypes.default.func.isRequired
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmVhY3QiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9wcm9wVHlwZXMiLCJfeXViaWtpcmkiLCJfZXZlbnRLaXQiLCJfaGVscGVycyIsIl9vYnNlcnZlTW9kZWwiLCJfbG9hZGluZ1ZpZXciLCJfY2hhbmdlZEZpbGVDb250cm9sbGVyIiwiX3BhdGNoQnVmZmVyIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJfZXh0ZW5kcyIsIk9iamVjdCIsImFzc2lnbiIsImJpbmQiLCJ0YXJnZXQiLCJpIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwic291cmNlIiwia2V5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiYXBwbHkiLCJfZGVmaW5lUHJvcGVydHkiLCJ2YWx1ZSIsIl90b1Byb3BlcnR5S2V5IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiY29uZmlndXJhYmxlIiwid3JpdGFibGUiLCJhcmciLCJfdG9QcmltaXRpdmUiLCJTdHJpbmciLCJpbnB1dCIsImhpbnQiLCJwcmltIiwiU3ltYm9sIiwidG9QcmltaXRpdmUiLCJ1bmRlZmluZWQiLCJyZXMiLCJUeXBlRXJyb3IiLCJOdW1iZXIiLCJDaGFuZ2VkRmlsZUNvbnRhaW5lciIsIlJlYWN0IiwiQ29tcG9uZW50IiwiY29uc3RydWN0b3IiLCJwcm9wcyIsImNiIiwiZW1pdHRlciIsIm9uIiwiYXV0b2JpbmQiLCJFbWl0dGVyIiwicGF0Y2hCdWZmZXIiLCJQYXRjaEJ1ZmZlciIsImxhc3RNdWx0aUZpbGVQYXRjaCIsInN1YiIsIkNvbXBvc2l0ZURpc3Bvc2FibGUiLCJzdGF0ZSIsInJlbmRlclN0YXR1c092ZXJyaWRlIiwiZmV0Y2hEYXRhIiwicmVwb3NpdG9yeSIsInN0YWdlZCIsInN0YWdpbmdTdGF0dXMiLCJidWlsZGVyT3B0cyIsInJlbmRlclN0YXR1c092ZXJyaWRlcyIsInJlbFBhdGgiLCJsYXJnZURpZmZUaHJlc2hvbGQiLCJiZWZvcmUiLCJlbWl0IiwiYWZ0ZXIiLCJwYXRjaCIsInl1YmlraXJpIiwibXVsdGlGaWxlUGF0Y2giLCJnZXRGaWxlUGF0Y2hGb3JQYXRoIiwiYnVpbGRlciIsImlzUGFydGlhbGx5U3RhZ2VkIiwiaGFzVW5kb0hpc3RvcnkiLCJoYXNEaXNjYXJkSGlzdG9yeSIsInJlbmRlciIsImNyZWF0ZUVsZW1lbnQiLCJtb2RlbCIsInJlbmRlcldpdGhEYXRhIiwiZGF0YSIsImN1cnJlbnRNdWx0aUZpbGVQYXRjaCIsImRpc3Bvc2UiLCJnZXRGaWxlUGF0Y2hlcyIsIm1hcCIsImZwIiwib25EaWRDaGFuZ2VSZW5kZXJTdGF0dXMiLCJzZXRTdGF0ZSIsImdldFJlbmRlclN0YXR1cyIsImlzTG9hZGluZyIsIm9uV2lsbFVwZGF0ZVBhdGNoIiwib25EaWRVcGRhdGVQYXRjaCIsImNvbXBvbmVudFdpbGxVbm1vdW50IiwiZXhwb3J0cyIsIlByb3BUeXBlcyIsIm9iamVjdCIsImlzUmVxdWlyZWQiLCJvbmVPZiIsInN0cmluZyIsIm51bWJlciIsIndvcmtzcGFjZSIsImNvbW1hbmRzIiwia2V5bWFwcyIsInRvb2x0aXBzIiwiY29uZmlnIiwiZGVzdHJveSIsImZ1bmMiLCJ1bmRvTGFzdERpc2NhcmQiLCJzdXJmYWNlRmlsZUF0UGF0aCJdLCJzb3VyY2VzIjpbImNoYW5nZWQtZmlsZS1jb250YWluZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgeXViaWtpcmkgZnJvbSAneXViaWtpcmknO1xuaW1wb3J0IHtDb21wb3NpdGVEaXNwb3NhYmxlLCBFbWl0dGVyfSBmcm9tICdldmVudC1raXQnO1xuXG5pbXBvcnQge2F1dG9iaW5kfSBmcm9tICcuLi9oZWxwZXJzJztcbmltcG9ydCBPYnNlcnZlTW9kZWwgZnJvbSAnLi4vdmlld3Mvb2JzZXJ2ZS1tb2RlbCc7XG5pbXBvcnQgTG9hZGluZ1ZpZXcgZnJvbSAnLi4vdmlld3MvbG9hZGluZy12aWV3JztcbmltcG9ydCBDaGFuZ2VkRmlsZUNvbnRyb2xsZXIgZnJvbSAnLi4vY29udHJvbGxlcnMvY2hhbmdlZC1maWxlLWNvbnRyb2xsZXInO1xuaW1wb3J0IFBhdGNoQnVmZmVyIGZyb20gJy4uL21vZGVscy9wYXRjaC9wYXRjaC1idWZmZXInO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDaGFuZ2VkRmlsZUNvbnRhaW5lciBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIHN0YXRpYyBwcm9wVHlwZXMgPSB7XG4gICAgcmVwb3NpdG9yeTogUHJvcFR5cGVzLm9iamVjdC5pc1JlcXVpcmVkLFxuICAgIHN0YWdpbmdTdGF0dXM6IFByb3BUeXBlcy5vbmVPZihbJ3N0YWdlZCcsICd1bnN0YWdlZCddKSxcbiAgICByZWxQYXRoOiBQcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWQsXG4gICAgbGFyZ2VEaWZmVGhyZXNob2xkOiBQcm9wVHlwZXMubnVtYmVyLFxuXG4gICAgd29ya3NwYWNlOiBQcm9wVHlwZXMub2JqZWN0LmlzUmVxdWlyZWQsXG4gICAgY29tbWFuZHM6IFByb3BUeXBlcy5vYmplY3QuaXNSZXF1aXJlZCxcbiAgICBrZXltYXBzOiBQcm9wVHlwZXMub2JqZWN0LmlzUmVxdWlyZWQsXG4gICAgdG9vbHRpcHM6IFByb3BUeXBlcy5vYmplY3QuaXNSZXF1aXJlZCxcbiAgICBjb25maWc6IFByb3BUeXBlcy5vYmplY3QuaXNSZXF1aXJlZCxcblxuICAgIGRlc3Ryb3k6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXG4gICAgdW5kb0xhc3REaXNjYXJkOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxuICAgIHN1cmZhY2VGaWxlQXRQYXRoOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxuICB9XG5cbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgYXV0b2JpbmQodGhpcywgJ2ZldGNoRGF0YScsICdyZW5kZXJXaXRoRGF0YScpO1xuXG4gICAgdGhpcy5lbWl0dGVyID0gbmV3IEVtaXR0ZXIoKTtcblxuICAgIHRoaXMucGF0Y2hCdWZmZXIgPSBuZXcgUGF0Y2hCdWZmZXIoKTtcbiAgICB0aGlzLmxhc3RNdWx0aUZpbGVQYXRjaCA9IG51bGw7XG4gICAgdGhpcy5zdWIgPSBuZXcgQ29tcG9zaXRlRGlzcG9zYWJsZSgpO1xuXG4gICAgdGhpcy5zdGF0ZSA9IHtyZW5kZXJTdGF0dXNPdmVycmlkZTogbnVsbH07XG4gIH1cblxuICBmZXRjaERhdGEocmVwb3NpdG9yeSkge1xuICAgIGNvbnN0IHN0YWdlZCA9IHRoaXMucHJvcHMuc3RhZ2luZ1N0YXR1cyA9PT0gJ3N0YWdlZCc7XG5cbiAgICBjb25zdCBidWlsZGVyT3B0cyA9IHt9O1xuICAgIGlmICh0aGlzLnN0YXRlLnJlbmRlclN0YXR1c092ZXJyaWRlICE9PSBudWxsKSB7XG4gICAgICBidWlsZGVyT3B0cy5yZW5kZXJTdGF0dXNPdmVycmlkZXMgPSB7W3RoaXMucHJvcHMucmVsUGF0aF06IHRoaXMuc3RhdGUucmVuZGVyU3RhdHVzT3ZlcnJpZGV9O1xuICAgIH1cbiAgICBpZiAodGhpcy5wcm9wcy5sYXJnZURpZmZUaHJlc2hvbGQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgYnVpbGRlck9wdHMubGFyZ2VEaWZmVGhyZXNob2xkID0gdGhpcy5wcm9wcy5sYXJnZURpZmZUaHJlc2hvbGQ7XG4gICAgfVxuXG4gICAgY29uc3QgYmVmb3JlID0gKCkgPT4gdGhpcy5lbWl0dGVyLmVtaXQoJ3dpbGwtdXBkYXRlLXBhdGNoJyk7XG4gICAgY29uc3QgYWZ0ZXIgPSBwYXRjaCA9PiB0aGlzLmVtaXR0ZXIuZW1pdCgnZGlkLXVwZGF0ZS1wYXRjaCcsIHBhdGNoKTtcblxuICAgIHJldHVybiB5dWJpa2lyaSh7XG4gICAgICBtdWx0aUZpbGVQYXRjaDogcmVwb3NpdG9yeS5nZXRGaWxlUGF0Y2hGb3JQYXRoKHRoaXMucHJvcHMucmVsUGF0aCwge1xuICAgICAgICBzdGFnZWQsXG4gICAgICAgIHBhdGNoQnVmZmVyOiB0aGlzLnBhdGNoQnVmZmVyLFxuICAgICAgICBidWlsZGVyOiBidWlsZGVyT3B0cyxcbiAgICAgICAgYmVmb3JlLFxuICAgICAgICBhZnRlcixcbiAgICAgIH0pLFxuICAgICAgaXNQYXJ0aWFsbHlTdGFnZWQ6IHJlcG9zaXRvcnkuaXNQYXJ0aWFsbHlTdGFnZWQodGhpcy5wcm9wcy5yZWxQYXRoKSxcbiAgICAgIGhhc1VuZG9IaXN0b3J5OiByZXBvc2l0b3J5Lmhhc0Rpc2NhcmRIaXN0b3J5KHRoaXMucHJvcHMucmVsUGF0aCksXG4gICAgfSk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxPYnNlcnZlTW9kZWwgbW9kZWw9e3RoaXMucHJvcHMucmVwb3NpdG9yeX0gZmV0Y2hEYXRhPXt0aGlzLmZldGNoRGF0YX0+XG4gICAgICAgIHt0aGlzLnJlbmRlcldpdGhEYXRhfVxuICAgICAgPC9PYnNlcnZlTW9kZWw+XG4gICAgKTtcbiAgfVxuXG4gIHJlbmRlcldpdGhEYXRhKGRhdGEpIHtcbiAgICBjb25zdCBjdXJyZW50TXVsdGlGaWxlUGF0Y2ggPSBkYXRhICYmIGRhdGEubXVsdGlGaWxlUGF0Y2g7XG4gICAgaWYgKGN1cnJlbnRNdWx0aUZpbGVQYXRjaCAhPT0gdGhpcy5sYXN0TXVsdGlGaWxlUGF0Y2gpIHtcbiAgICAgIHRoaXMuc3ViLmRpc3Bvc2UoKTtcbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgICBpZiAoY3VycmVudE11bHRpRmlsZVBhdGNoKSB7XG4gICAgICAgIC8vIEtlZXAgdGhpcyBjb21wb25lbnQncyByZW5kZXJTdGF0dXNPdmVycmlkZSBzeW5jaHJvbml6ZWQgd2l0aCB0aGUgRmlsZVBhdGNoIHdlJ3JlIHJlbmRlcmluZ1xuICAgICAgICB0aGlzLnN1YiA9IG5ldyBDb21wb3NpdGVEaXNwb3NhYmxlKFxuICAgICAgICAgIC4uLmN1cnJlbnRNdWx0aUZpbGVQYXRjaC5nZXRGaWxlUGF0Y2hlcygpLm1hcChmcCA9PiBmcC5vbkRpZENoYW5nZVJlbmRlclN0YXR1cygoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtyZW5kZXJTdGF0dXNPdmVycmlkZTogZnAuZ2V0UmVuZGVyU3RhdHVzKCl9KTtcbiAgICAgICAgICB9KSksXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICB0aGlzLmxhc3RNdWx0aUZpbGVQYXRjaCA9IGN1cnJlbnRNdWx0aUZpbGVQYXRjaDtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5wcm9wcy5yZXBvc2l0b3J5LmlzTG9hZGluZygpIHx8IGRhdGEgPT09IG51bGwpIHtcbiAgICAgIHJldHVybiA8TG9hZGluZ1ZpZXcgLz47XG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxDaGFuZ2VkRmlsZUNvbnRyb2xsZXJcbiAgICAgICAgb25XaWxsVXBkYXRlUGF0Y2g9e3RoaXMub25XaWxsVXBkYXRlUGF0Y2h9XG4gICAgICAgIG9uRGlkVXBkYXRlUGF0Y2g9e3RoaXMub25EaWRVcGRhdGVQYXRjaH1cbiAgICAgICAgey4uLmRhdGF9XG4gICAgICAgIHsuLi50aGlzLnByb3BzfVxuICAgICAgLz5cbiAgICApO1xuICB9XG5cbiAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgdGhpcy5zdWIuZGlzcG9zZSgpO1xuICB9XG5cbiAgb25XaWxsVXBkYXRlUGF0Y2ggPSBjYiA9PiB0aGlzLmVtaXR0ZXIub24oJ3dpbGwtdXBkYXRlLXBhdGNoJywgY2IpO1xuXG4gIG9uRGlkVXBkYXRlUGF0Y2ggPSBjYiA9PiB0aGlzLmVtaXR0ZXIub24oJ2RpZC11cGRhdGUtcGF0Y2gnLCBjYik7XG59XG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLE1BQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLFVBQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFFLFNBQUEsR0FBQUgsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFHLFNB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