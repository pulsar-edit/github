"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _react = _interopRequireDefault(require("react"));
var _propTypes = _interopRequireDefault(require("prop-types"));
var _yubikiri = _interopRequireDefault(require("yubikiri"));
var _eventKit = require("event-kit");
var _helpers = require("../helpers");
var _observeModel = _interopRequireDefault(require("../views/observe-model"));
var _loadingView = _interopRequireDefault(require("../views/loading-view"));
var _changedFileController = _interopRequireDefault(require("../controllers/changed-file-controller"));
var _patchBuffer = _interopRequireDefault(require("../models/patch/patch-buffer"));
function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }
function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }
function _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == typeof i ? i : String(i); }
function _toPrimitive(t, r) { if ("object" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != typeof i) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }
class ChangedFileContainer extends _react.default.Component {
  constructor(props) {
    super(props);
    _defineProperty(this, "onWillUpdatePatch", cb => this.emitter.on('will-update-patch', cb));
    _defineProperty(this, "onDidUpdatePatch", cb => this.emitter.on('did-update-patch', cb));
    (0, _helpers.autobind)(this, 'fetchData', 'renderWithData');
    this.emitter = new _eventKit.Emitter();
    this.patchBuffer = new _patchBuffer.default();
    this.lastMultiFilePatch = null;
    this.sub = new _eventKit.CompositeDisposable();
    this.state = {
      renderStatusOverride: null
    };
  }
  fetchData(repository) {
    const staged = this.props.stagingStatus === 'staged';
    const builderOpts = {};
    if (this.state.renderStatusOverride !== null) {
      builderOpts.renderStatusOverrides = {
        [this.props.relPath]: this.state.renderStatusOverride
      };
    }
    if (this.props.largeDiffThreshold !== undefined) {
      builderOpts.largeDiffThreshold = this.props.largeDiffThreshold;
    }
    const before = () => this.emitter.emit('will-update-patch');
    const after = patch => this.emitter.emit('did-update-patch', patch);
    return (0, _yubikiri.default)({
      multiFilePatch: repository.getFilePatchForPath(this.props.relPath, {
        staged,
        patchBuffer: this.patchBuffer,
        builder: builderOpts,
        before,
        after
      }),
      isPartiallyStaged: repository.isPartiallyStaged(this.props.relPath),
      hasUndoHistory: repository.hasDiscardHistory(this.props.relPath)
    });
  }
  render() {
    return _react.default.createElement(_observeModel.default, {
      model: this.props.repository,
      fetchData: this.fetchData
    }, this.renderWithData);
  }
  renderWithData(data) {
    const currentMultiFilePatch = data && data.multiFilePatch;
    if (currentMultiFilePatch !== this.lastMultiFilePatch) {
      this.sub.dispose();
      /* istanbul ignore else */
      if (currentMultiFilePatch) {
        // Keep this component's renderStatusOverride synchronized with the FilePatch we're rendering
        this.sub = new _eventKit.CompositeDisposable(...currentMultiFilePatch.getFilePatches().map(fp => fp.onDidChangeRenderStatus(() => {
          this.setState({
            renderStatusOverride: fp.getRenderStatus()
          });
        })));
      }
      this.lastMultiFilePatch = currentMultiFilePatch;
    }
    if (this.props.repository.isLoading() || data === null) {
      return _react.default.createElement(_loadingView.default, null);
    }
    return _react.default.createElement(_changedFileController.default, _extends({
      onWillUpdatePatch: this.onWillUpdatePatch,
      onDidUpdatePatch: this.onDidUpdatePatch
    }, data, this.props));
  }
  componentWillUnmount() {
    this.sub.dispose();
  }
}
exports.default = ChangedFileContainer;
_defineProperty(ChangedFileContainer, "propTypes", {
  repository: _propTypes.default.object.isRequired,
  stagingStatus: _propTypes.default.oneOf(['staged', 'unstaged']),
  relPath: _propTypes.default.string.isRequired,
  largeDiffThreshold: _propTypes.default.number,
  workspace: _propTypes.default.object.isRequired,
  commands: _propTypes.default.object.isRequired,
  keymaps: _propTypes.default.object.isRequired,
  tooltips: _propTypes.default.object.isRequired,
  config: _propTypes.default.object.isRequired,
  destroy: _propTypes.default.func.isRequired,
  undoLastDiscard: _propTypes.default.func.isRequired,
  surfaceFileAtPath: _propTypes.default.func.isRequired
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmVhY3QiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9wcm9wVHlwZXMiLCJfeXViaWtpcmkiLCJfZXZlbnRLaXQiLCJfaGVscGVycyIsIl9vYnNlcnZlTW9kZWwiLCJfbG9hZGluZ1ZpZXciLCJfY2hhbmdlZEZpbGVDb250cm9sbGVyIiwiX3BhdGNoQnVmZmVyIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJfZXh0ZW5kcyIsIk9iamVjdCIsImFzc2lnbiIsImJpbmQiLCJ0YXJnZXQiLCJpIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwic291cmNlIiwia2V5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiYXBwbHkiLCJfZGVmaW5lUHJvcGVydHkiLCJ2YWx1ZSIsIl90b1Byb3BlcnR5S2V5IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiY29uZmlndXJhYmxlIiwid3JpdGFibGUiLCJ0IiwiX3RvUHJpbWl0aXZlIiwiU3RyaW5nIiwiciIsImUiLCJTeW1ib2wiLCJ0b1ByaW1pdGl2ZSIsIlR5cGVFcnJvciIsIk51bWJlciIsIkNoYW5nZWRGaWxlQ29udGFpbmVyIiwiUmVhY3QiLCJDb21wb25lbnQiLCJjb25zdHJ1Y3RvciIsInByb3BzIiwiY2IiLCJlbWl0dGVyIiwib24iLCJhdXRvYmluZCIsIkVtaXR0ZXIiLCJwYXRjaEJ1ZmZlciIsIlBhdGNoQnVmZmVyIiwibGFzdE11bHRpRmlsZVBhdGNoIiwic3ViIiwiQ29tcG9zaXRlRGlzcG9zYWJsZSIsInN0YXRlIiwicmVuZGVyU3RhdHVzT3ZlcnJpZGUiLCJmZXRjaERhdGEiLCJyZXBvc2l0b3J5Iiwic3RhZ2VkIiwic3RhZ2luZ1N0YXR1cyIsImJ1aWxkZXJPcHRzIiwicmVuZGVyU3RhdHVzT3ZlcnJpZGVzIiwicmVsUGF0aCIsImxhcmdlRGlmZlRocmVzaG9sZCIsInVuZGVmaW5lZCIsImJlZm9yZSIsImVtaXQiLCJhZnRlciIsInBhdGNoIiwieXViaWtpcmkiLCJtdWx0aUZpbGVQYXRjaCIsImdldEZpbGVQYXRjaEZvclBhdGgiLCJidWlsZGVyIiwiaXNQYXJ0aWFsbHlTdGFnZWQiLCJoYXNVbmRvSGlzdG9yeSIsImhhc0Rpc2NhcmRIaXN0b3J5IiwicmVuZGVyIiwiY3JlYXRlRWxlbWVudCIsIm1vZGVsIiwicmVuZGVyV2l0aERhdGEiLCJkYXRhIiwiY3VycmVudE11bHRpRmlsZVBhdGNoIiwiZGlzcG9zZSIsImdldEZpbGVQYXRjaGVzIiwibWFwIiwiZnAiLCJvbkRpZENoYW5nZVJlbmRlclN0YXR1cyIsInNldFN0YXRlIiwiZ2V0UmVuZGVyU3RhdHVzIiwiaXNMb2FkaW5nIiwib25XaWxsVXBkYXRlUGF0Y2giLCJvbkRpZFVwZGF0ZVBhdGNoIiwiY29tcG9uZW50V2lsbFVubW91bnQiLCJleHBvcnRzIiwiUHJvcFR5cGVzIiwib2JqZWN0IiwiaXNSZXF1aXJlZCIsIm9uZU9mIiwic3RyaW5nIiwibnVtYmVyIiwid29ya3NwYWNlIiwiY29tbWFuZHMiLCJrZXltYXBzIiwidG9vbHRpcHMiLCJjb25maWciLCJkZXN0cm95IiwiZnVuYyIsInVuZG9MYXN0RGlzY2FyZCIsInN1cmZhY2VGaWxlQXRQYXRoIl0sInNvdXJjZXMiOlsiY2hhbmdlZC1maWxlLWNvbnRhaW5lci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCB5dWJpa2lyaSBmcm9tICd5dWJpa2lyaSc7XG5pbXBvcnQge0NvbXBvc2l0ZURpc3Bvc2FibGUsIEVtaXR0ZXJ9IGZyb20gJ2V2ZW50LWtpdCc7XG5cbmltcG9ydCB7YXV0b2JpbmR9IGZyb20gJy4uL2hlbHBlcnMnO1xuaW1wb3J0IE9ic2VydmVNb2RlbCBmcm9tICcuLi92aWV3cy9vYnNlcnZlLW1vZGVsJztcbmltcG9ydCBMb2FkaW5nVmlldyBmcm9tICcuLi92aWV3cy9sb2FkaW5nLXZpZXcnO1xuaW1wb3J0IENoYW5nZWRGaWxlQ29udHJvbGxlciBmcm9tICcuLi9jb250cm9sbGVycy9jaGFuZ2VkLWZpbGUtY29udHJvbGxlcic7XG5pbXBvcnQgUGF0Y2hCdWZmZXIgZnJvbSAnLi4vbW9kZWxzL3BhdGNoL3BhdGNoLWJ1ZmZlcic7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENoYW5nZWRGaWxlQ29udGFpbmVyIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgc3RhdGljIHByb3BUeXBlcyA9IHtcbiAgICByZXBvc2l0b3J5OiBQcm9wVHlwZXMub2JqZWN0LmlzUmVxdWlyZWQsXG4gICAgc3RhZ2luZ1N0YXR1czogUHJvcFR5cGVzLm9uZU9mKFsnc3RhZ2VkJywgJ3Vuc3RhZ2VkJ10pLFxuICAgIHJlbFBhdGg6IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCxcbiAgICBsYXJnZURpZmZUaHJlc2hvbGQ6IFByb3BUeXBlcy5udW1iZXIsXG5cbiAgICB3b3Jrc3BhY2U6IFByb3BUeXBlcy5vYmplY3QuaXNSZXF1aXJlZCxcbiAgICBjb21tYW5kczogUHJvcFR5cGVzLm9iamVjdC5pc1JlcXVpcmVkLFxuICAgIGtleW1hcHM6IFByb3BUeXBlcy5vYmplY3QuaXNSZXF1aXJlZCxcbiAgICB0b29sdGlwczogUHJvcFR5cGVzLm9iamVjdC5pc1JlcXVpcmVkLFxuICAgIGNvbmZpZzogUHJvcFR5cGVzLm9iamVjdC5pc1JlcXVpcmVkLFxuXG4gICAgZGVzdHJveTogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcbiAgICB1bmRvTGFzdERpc2NhcmQ6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXG4gICAgc3VyZmFjZUZpbGVBdFBhdGg6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXG4gIH1cblxuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICBhdXRvYmluZCh0aGlzLCAnZmV0Y2hEYXRhJywgJ3JlbmRlcldpdGhEYXRhJyk7XG5cbiAgICB0aGlzLmVtaXR0ZXIgPSBuZXcgRW1pdHRlcigpO1xuXG4gICAgdGhpcy5wYXRjaEJ1ZmZlciA9IG5ldyBQYXRjaEJ1ZmZlcigpO1xuICAgIHRoaXMubGFzdE11bHRpRmlsZVBhdGNoID0gbnVsbDtcbiAgICB0aGlzLnN1YiA9IG5ldyBDb21wb3NpdGVEaXNwb3NhYmxlKCk7XG5cbiAgICB0aGlzLnN0YXRlID0ge3JlbmRlclN0YXR1c092ZXJyaWRlOiBudWxsfTtcbiAgfVxuXG4gIGZldGNoRGF0YShyZXBvc2l0b3J5KSB7XG4gICAgY29uc3Qgc3RhZ2VkID0gdGhpcy5wcm9wcy5zdGFnaW5nU3RhdHVzID09PSAnc3RhZ2VkJztcblxuICAgIGNvbnN0IGJ1aWxkZXJPcHRzID0ge307XG4gICAgaWYgKHRoaXMuc3RhdGUucmVuZGVyU3RhdHVzT3ZlcnJpZGUgIT09IG51bGwpIHtcbiAgICAgIGJ1aWxkZXJPcHRzLnJlbmRlclN0YXR1c092ZXJyaWRlcyA9IHtbdGhpcy5wcm9wcy5yZWxQYXRoXTogdGhpcy5zdGF0ZS5yZW5kZXJTdGF0dXNPdmVycmlkZX07XG4gICAgfVxuICAgIGlmICh0aGlzLnByb3BzLmxhcmdlRGlmZlRocmVzaG9sZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBidWlsZGVyT3B0cy5sYXJnZURpZmZUaHJlc2hvbGQgPSB0aGlzLnByb3BzLmxhcmdlRGlmZlRocmVzaG9sZDtcbiAgICB9XG5cbiAgICBjb25zdCBiZWZvcmUgPSAoKSA9PiB0aGlzLmVtaXR0ZXIuZW1pdCgnd2lsbC11cGRhdGUtcGF0Y2gnKTtcbiAgICBjb25zdCBhZnRlciA9IHBhdGNoID0+IHRoaXMuZW1pdHRlci5lbWl0KCdkaWQtdXBkYXRlLXBhdGNoJywgcGF0Y2gpO1xuXG4gICAgcmV0dXJuIHl1YmlraXJpKHtcbiAgICAgIG11bHRpRmlsZVBhdGNoOiByZXBvc2l0b3J5LmdldEZpbGVQYXRjaEZvclBhdGgodGhpcy5wcm9wcy5yZWxQYXRoLCB7XG4gICAgICAgIHN0YWdlZCxcbiAgICAgICAgcGF0Y2hCdWZmZXI6IHRoaXMucGF0Y2hCdWZmZXIsXG4gICAgICAgIGJ1aWxkZXI6IGJ1aWxkZXJPcHRzLFxuICAgICAgICBiZWZvcmUsXG4gICAgICAgIGFmdGVyLFxuICAgICAgfSksXG4gICAgICBpc1BhcnRpYWxseVN0YWdlZDogcmVwb3NpdG9yeS5pc1BhcnRpYWxseVN0YWdlZCh0aGlzLnByb3BzLnJlbFBhdGgpLFxuICAgICAgaGFzVW5kb0hpc3Rvcnk6IHJlcG9zaXRvcnkuaGFzRGlzY2FyZEhpc3RvcnkodGhpcy5wcm9wcy5yZWxQYXRoKSxcbiAgICB9KTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPE9ic2VydmVNb2RlbCBtb2RlbD17dGhpcy5wcm9wcy5yZXBvc2l0b3J5fSBmZXRjaERhdGE9e3RoaXMuZmV0Y2hEYXRhfT5cbiAgICAgICAge3RoaXMucmVuZGVyV2l0aERhdGF9XG4gICAgICA8L09ic2VydmVNb2RlbD5cbiAgICApO1xuICB9XG5cbiAgcmVuZGVyV2l0aERhdGEoZGF0YSkge1xuICAgIGNvbnN0IGN1cnJlbnRNdWx0aUZpbGVQYXRjaCA9IGRhdGEgJiYgZGF0YS5tdWx0aUZpbGVQYXRjaDtcbiAgICBpZiAoY3VycmVudE11bHRpRmlsZVBhdGNoICE9PSB0aGlzLmxhc3RNdWx0aUZpbGVQYXRjaCkge1xuICAgICAgdGhpcy5zdWIuZGlzcG9zZSgpO1xuICAgICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgICAgIGlmIChjdXJyZW50TXVsdGlGaWxlUGF0Y2gpIHtcbiAgICAgICAgLy8gS2VlcCB0aGlzIGNvbXBvbmVudCdzIHJlbmRlclN0YXR1c092ZXJyaWRlIHN5bmNocm9uaXplZCB3aXRoIHRoZSBGaWxlUGF0Y2ggd2UncmUgcmVuZGVyaW5nXG4gICAgICAgIHRoaXMuc3ViID0gbmV3IENvbXBvc2l0ZURpc3Bvc2FibGUoXG4gICAgICAgICAgLi4uY3VycmVudE11bHRpRmlsZVBhdGNoLmdldEZpbGVQYXRjaGVzKCkubWFwKGZwID0+IGZwLm9uRGlkQ2hhbmdlUmVuZGVyU3RhdHVzKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe3JlbmRlclN0YXR1c092ZXJyaWRlOiBmcC5nZXRSZW5kZXJTdGF0dXMoKX0pO1xuICAgICAgICAgIH0pKSxcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIHRoaXMubGFzdE11bHRpRmlsZVBhdGNoID0gY3VycmVudE11bHRpRmlsZVBhdGNoO1xuICAgIH1cblxuICAgIGlmICh0aGlzLnByb3BzLnJlcG9zaXRvcnkuaXNMb2FkaW5nKCkgfHwgZGF0YSA9PT0gbnVsbCkge1xuICAgICAgcmV0dXJuIDxMb2FkaW5nVmlldyAvPjtcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgPENoYW5nZWRGaWxlQ29udHJvbGxlclxuICAgICAgICBvbldpbGxVcGRhdGVQYXRjaD17dGhpcy5vbldpbGxVcGRhdGVQYXRjaH1cbiAgICAgICAgb25EaWRVcGRhdGVQYXRjaD17dGhpcy5vbkRpZFVwZGF0ZVBhdGNofVxuICAgICAgICB7Li4uZGF0YX1cbiAgICAgICAgey4uLnRoaXMucHJvcHN9XG4gICAgICAvPlxuICAgICk7XG4gIH1cblxuICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICB0aGlzLnN1Yi5kaXNwb3NlKCk7XG4gIH1cblxuICBvbldpbGxVcGRhdGVQYXRjaCA9IGNiID0+IHRoaXMuZW1pdHRlci5vbignd2lsbC11cGRhdGUtcGF0Y2gnLCBjYik7XG5cbiAgb25EaWRVcGRhdGVQYXRjaCA9IGNiID0+IHRoaXMuZW1pdHRlci5vbignZGlkLXVwZGF0ZS1wYXRjaCcsIGNiKTtcbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsTUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsVUFBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsU0FBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUcsU0FBQSxHQUFBSCxPQUFBO0FBRUEsSUFB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