"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _state = _interopRequireDefault(require("./state"));
function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
/**
 * The package is being cleaned up or the context is being disposed some other way.
 */
class Destroyed extends _state.default {
  start() {
    this.didDestroy();
    this.repository.git.destroy && this.repository.git.destroy();
    this.repository.emitter.dispose();
  }
  isDestroyed() {
    return true;
  }
  destroy() {
    // No-op to destroy twice
  }
}
exports.default = Destroyed;
_state.default.register(Destroyed);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfc3RhdGUiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiRGVzdHJveWVkIiwiU3RhdGUiLCJzdGFydCIsImRpZERlc3Ryb3kiLCJyZXBvc2l0b3J5IiwiZ2l0IiwiZGVzdHJveSIsImVtaXR0ZXIiLCJkaXNwb3NlIiwiaXNEZXN0cm95ZWQiLCJleHBvcnRzIiwicmVnaXN0ZXIiXSwic291cmNlcyI6WyJkZXN0cm95ZWQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFN0YXRlIGZyb20gJy4vc3RhdGUnO1xuXG4vKipcbiAqIFRoZSBwYWNrYWdlIGlzIGJlaW5nIGNsZWFuZWQgdXAgb3IgdGhlIGNvbnRleHQgaXMgYmVpbmcgZGlzcG9zZWQgc29tZSBvdGhlciB3YXkuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIERlc3Ryb3llZCBleHRlbmRzIFN0YXRlIHtcbiAgc3RhcnQoKSB7XG4gICAgdGhpcy5kaWREZXN0cm95KCk7XG4gICAgdGhpcy5yZXBvc2l0b3J5LmdpdC5kZXN0cm95ICYmIHRoaXMucmVwb3NpdG9yeS5naXQuZGVzdHJveSgpO1xuICAgIHRoaXMucmVwb3NpdG9yeS5lbWl0dGVyLmRpc3Bvc2UoKTtcbiAgfVxuXG4gIGlzRGVzdHJveWVkKCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgZGVzdHJveSgpIHtcbiAgICAvLyBOby1vcCB0byBkZXN0cm95IHR3aWNlXG4gIH1cbn1cblxuU3RhdGUucmVnaXN0ZXIoRGVzdHJveWVkKTtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsTUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQTRCLFNBQUFELHVCQUFBRSxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBRTVCO0FBQ0E7QUFDQTtBQUNlLE1BQU1HLFNBQVMsU0FBU0MsY0FBSyxDQUFDO0VBQzNDQyxLQUFLQSxDQUFBLEVBQUc7SUFDTixJQUFJLENBQUNDLFVBQVUsQ0FBQyxDQUFDO0lBQ2pCLElBQUksQ0FBQ0MsVUFBVSxDQUFDQyxHQUFHLENBQUNDLE9BQU8sSUFBSSxJQUFJLENBQUNGLFVBQVUsQ0FBQ0MsR0FBRyxDQUFDQyxPQUFPLENBQUMsQ0FBQztJQUM1RCxJQUFJLENBQUNGLFVBQVUsQ0FBQ0csT0FBTyxDQUFDQyxPQUFPLENBQUMsQ0FBQztFQUNuQztFQUVBQyxXQUFXQSxDQUFBLEVBQUc7SUFDWixPQUFPLElBQUk7RUFDYjtFQUVBSCxPQUFPQSxDQUFBLEVBQUc7SUFDUjtFQUFBO0FBRUo7QUFBQ0ksT0FBQSxDQUFBWCxPQUFBLEdBQUFDLFNBQUE7QUFFREMsY0FBSyxDQUFDVSxRQUFRLENBQUNYLFNBQVMsQ0FBQyJ9