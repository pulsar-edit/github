"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _markerTools = require("./marker-tools");
class Banner {
  constructor(editor, marker, description, originalText) {
    this.editor = editor;
    this.marker = marker;
    this.description = description;
    this.originalText = originalText;
  }
  getMarker() {
    return this.marker;
  }
  getRange() {
    return this.marker.getBufferRange();
  }
  isModified() {
    const chomp = line => line.replace(/\r?\n$/, '');
    const text = this.editor.getTextInBufferRange(this.marker.getBufferRange());
    return chomp(text) !== chomp(this.originalText);
  }
  revert() {
    const range = this.getMarker().getBufferRange();
    this.editor.setTextInBufferRange(range, this.originalText);
    this.getMarker().setBufferRange(range);
  }
  delete() {
    (0, _markerTools.deleteMarkerIn)(this.getMarker(), this.editor);
  }
}
exports.default = Banner;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJCYW5uZXIiLCJjb25zdHJ1Y3RvciIsImVkaXRvciIsIm1hcmtlciIsImRlc2NyaXB0aW9uIiwib3JpZ2luYWxUZXh0IiwiZ2V0TWFya2VyIiwiZ2V0UmFuZ2UiLCJnZXRCdWZmZXJSYW5nZSIsImlzTW9kaWZpZWQiLCJjaG9tcCIsImxpbmUiLCJyZXBsYWNlIiwidGV4dCIsImdldFRleHRJbkJ1ZmZlclJhbmdlIiwicmV2ZXJ0IiwicmFuZ2UiLCJzZXRUZXh0SW5CdWZmZXJSYW5nZSIsInNldEJ1ZmZlclJhbmdlIiwiZGVsZXRlIiwiZGVsZXRlTWFya2VySW4iXSwic291cmNlcyI6WyJiYW5uZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtkZWxldGVNYXJrZXJJbn0gZnJvbSAnLi9tYXJrZXItdG9vbHMnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCYW5uZXIge1xuICBjb25zdHJ1Y3RvcihlZGl0b3IsIG1hcmtlciwgZGVzY3JpcHRpb24sIG9yaWdpbmFsVGV4dCkge1xuICAgIHRoaXMuZWRpdG9yID0gZWRpdG9yO1xuICAgIHRoaXMubWFya2VyID0gbWFya2VyO1xuICAgIHRoaXMuZGVzY3JpcHRpb24gPSBkZXNjcmlwdGlvbjtcbiAgICB0aGlzLm9yaWdpbmFsVGV4dCA9IG9yaWdpbmFsVGV4dDtcbiAgfVxuXG4gIGdldE1hcmtlcigpIHtcbiAgICByZXR1cm4gdGhpcy5tYXJrZXI7XG4gIH1cblxuICBnZXRSYW5nZSgpIHtcbiAgICByZXR1cm4gdGhpcy5tYXJrZXIuZ2V0QnVmZmVyUmFuZ2UoKTtcbiAgfVxuXG4gIGlzTW9kaWZpZWQoKSB7XG4gICAgY29uc3QgY2hvbXAgPSBsaW5lID0+IGxpbmUucmVwbGFjZSgvXFxyP1xcbiQvLCAnJyk7XG5cbiAgICBjb25zdCB0ZXh0ID0gdGhpcy5lZGl0b3IuZ2V0VGV4dEluQnVmZmVyUmFuZ2UodGhpcy5tYXJrZXIuZ2V0QnVmZmVyUmFuZ2UoKSk7XG4gICAgcmV0dXJuIGNob21wKHRleHQpICE9PSBjaG9tcCh0aGlzLm9yaWdpbmFsVGV4dCk7XG4gIH1cblxuICByZXZlcnQoKSB7XG4gICAgY29uc3QgcmFuZ2UgPSB0aGlzLmdldE1hcmtlcigpLmdldEJ1ZmZlclJhbmdlKCk7XG4gICAgdGhpcy5lZGl0b3Iuc2V0VGV4dEluQnVmZmVyUmFuZ2UocmFuZ2UsIHRoaXMub3JpZ2luYWxUZXh0KTtcbiAgICB0aGlzLmdldE1hcmtlcigpLnNldEJ1ZmZlclJhbmdlKHJhbmdlKTtcbiAgfVxuXG4gIGRlbGV0ZSgpIHtcbiAgICBkZWxldGVNYXJrZXJJbih0aGlzLmdldE1hcmtlcigpLCB0aGlzLmVkaXRvcik7XG4gIH1cbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFFZSxNQUFNQSxNQUFNLENBQUM7RUFDMUJDLFdBQVcsQ0FBQ0MsTUFBTSxFQUFFQyxNQUFNLEVBQUVDLFdBQVcsRUFBRUMsWUFBWSxFQUFFO0lBQ3JELElBQUksQ0FBQ0gsTUFBTSxHQUFHQSxNQUFNO0lBQ3BCLElBQUksQ0FBQ0MsTUFBTSxHQUFHQSxNQUFNO0lBQ3BCLElBQUksQ0FBQ0MsV0FBVyxHQUFHQSxXQUFXO0lBQzlCLElBQUksQ0FBQ0MsWUFBWSxHQUFHQSxZQUFZO0VBQ2xDO0VBRUFDLFNBQVMsR0FBRztJQUNWLE9BQU8sSUFBSSxDQUFDSCxNQUFNO0VBQ3BCO0VBRUFJLFFBQVEsR0FBRztJQUNULE9BQU8sSUFBSSxDQUFDSixNQUFNLENBQUNLLGNBQWMsRUFBRTtFQUNyQztFQUVBQyxVQUFVLEdBQUc7SUFDWCxNQUFNQyxLQUFLLEdBQUdDLElBQUksSUFBSUEsSUFBSSxDQUFDQyxPQUFPLENBQUMsUUFBUSxFQUFFLEVBQUUsQ0FBQztJQUVoRCxNQUFNQyxJQUFJLEdBQUcsSUFBSSxDQUFDWCxNQUFNLENBQUNZLG9CQUFvQixDQUFDLElBQUksQ0FBQ1gsTUFBTSxDQUFDSyxjQUFjLEVBQUUsQ0FBQztJQUMzRSxPQUFPRSxLQUFLLENBQUNHLElBQUksQ0FBQyxLQUFLSCxLQUFLLENBQUMsSUFBSSxDQUFDTCxZQUFZLENBQUM7RUFDakQ7RUFFQVUsTUFBTSxHQUFHO0lBQ1AsTUFBTUMsS0FBSyxHQUFHLElBQUksQ0FBQ1YsU0FBUyxFQUFFLENBQUNFLGNBQWMsRUFBRTtJQUMvQyxJQUFJLENBQUNOLE1BQU0sQ0FBQ2Usb0JBQW9CLENBQUNELEtBQUssRUFBRSxJQUFJLENBQUNYLFlBQVksQ0FBQztJQUMxRCxJQUFJLENBQUNDLFNBQVMsRUFBRSxDQUFDWSxjQUFjLENBQUNGLEtBQUssQ0FBQztFQUN4QztFQUVBRyxNQUFNLEdBQUc7SUFDUCxJQUFBQywyQkFBYyxFQUFDLElBQUksQ0FBQ2QsU0FBUyxFQUFFLEVBQUUsSUFBSSxDQUFDSixNQUFNLENBQUM7RUFDL0M7QUFDRjtBQUFDIn0=