"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _markerTools = require("./marker-tools");
class Banner {
  constructor(editor, marker, description, originalText) {
    this.editor = editor;
    this.marker = marker;
    this.description = description;
    this.originalText = originalText;
  }
  getMarker() {
    return this.marker;
  }
  getRange() {
    return this.marker.getBufferRange();
  }
  isModified() {
    const chomp = line => line.replace(/\r?\n$/, '');
    const text = this.editor.getTextInBufferRange(this.marker.getBufferRange());
    return chomp(text) !== chomp(this.originalText);
  }
  revert() {
    const range = this.getMarker().getBufferRange();
    this.editor.setTextInBufferRange(range, this.originalText);
    this.getMarker().setBufferRange(range);
  }
  delete() {
    (0, _markerTools.deleteMarkerIn)(this.getMarker(), this.editor);
  }
}
exports.default = Banner;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbWFya2VyVG9vbHMiLCJyZXF1aXJlIiwiQmFubmVyIiwiY29uc3RydWN0b3IiLCJlZGl0b3IiLCJtYXJrZXIiLCJkZXNjcmlwdGlvbiIsIm9yaWdpbmFsVGV4dCIsImdldE1hcmtlciIsImdldFJhbmdlIiwiZ2V0QnVmZmVyUmFuZ2UiLCJpc01vZGlmaWVkIiwiY2hvbXAiLCJsaW5lIiwicmVwbGFjZSIsInRleHQiLCJnZXRUZXh0SW5CdWZmZXJSYW5nZSIsInJldmVydCIsInJhbmdlIiwic2V0VGV4dEluQnVmZmVyUmFuZ2UiLCJzZXRCdWZmZXJSYW5nZSIsImRlbGV0ZSIsImRlbGV0ZU1hcmtlckluIiwiZXhwb3J0cyIsImRlZmF1bHQiXSwic291cmNlcyI6WyJiYW5uZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtkZWxldGVNYXJrZXJJbn0gZnJvbSAnLi9tYXJrZXItdG9vbHMnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCYW5uZXIge1xuICBjb25zdHJ1Y3RvcihlZGl0b3IsIG1hcmtlciwgZGVzY3JpcHRpb24sIG9yaWdpbmFsVGV4dCkge1xuICAgIHRoaXMuZWRpdG9yID0gZWRpdG9yO1xuICAgIHRoaXMubWFya2VyID0gbWFya2VyO1xuICAgIHRoaXMuZGVzY3JpcHRpb24gPSBkZXNjcmlwdGlvbjtcbiAgICB0aGlzLm9yaWdpbmFsVGV4dCA9IG9yaWdpbmFsVGV4dDtcbiAgfVxuXG4gIGdldE1hcmtlcigpIHtcbiAgICByZXR1cm4gdGhpcy5tYXJrZXI7XG4gIH1cblxuICBnZXRSYW5nZSgpIHtcbiAgICByZXR1cm4gdGhpcy5tYXJrZXIuZ2V0QnVmZmVyUmFuZ2UoKTtcbiAgfVxuXG4gIGlzTW9kaWZpZWQoKSB7XG4gICAgY29uc3QgY2hvbXAgPSBsaW5lID0+IGxpbmUucmVwbGFjZSgvXFxyP1xcbiQvLCAnJyk7XG5cbiAgICBjb25zdCB0ZXh0ID0gdGhpcy5lZGl0b3IuZ2V0VGV4dEluQnVmZmVyUmFuZ2UodGhpcy5tYXJrZXIuZ2V0QnVmZmVyUmFuZ2UoKSk7XG4gICAgcmV0dXJuIGNob21wKHRleHQpICE9PSBjaG9tcCh0aGlzLm9yaWdpbmFsVGV4dCk7XG4gIH1cblxuICByZXZlcnQoKSB7XG4gICAgY29uc3QgcmFuZ2UgPSB0aGlzLmdldE1hcmtlcigpLmdldEJ1ZmZlclJhbmdlKCk7XG4gICAgdGhpcy5lZGl0b3Iuc2V0VGV4dEluQnVmZmVyUmFuZ2UocmFuZ2UsIHRoaXMub3JpZ2luYWxUZXh0KTtcbiAgICB0aGlzLmdldE1hcmtlcigpLnNldEJ1ZmZlclJhbmdlKHJhbmdlKTtcbiAgfVxuXG4gIGRlbGV0ZSgpIHtcbiAgICBkZWxldGVNYXJrZXJJbih0aGlzLmdldE1hcmtlcigpLCB0aGlzLmVkaXRvcik7XG4gIH1cbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsWUFBQSxHQUFBQyxPQUFBO0FBRWUsTUFBTUMsTUFBTSxDQUFDO0VBQzFCQyxXQUFXQSxDQUFDQyxNQUFNLEVBQUVDLE1BQU0sRUFBRUMsV0FBVyxFQUFFQyxZQUFZLEVBQUU7SUFDckQsSUFBSSxDQUFDSCxNQUFNLEdBQUdBLE1BQU07SUFDcEIsSUFBSSxDQUFDQyxNQUFNLEdBQUdBLE1BQU07SUFDcEIsSUFBSSxDQUFDQyxXQUFXLEdBQUdBLFdBQVc7SUFDOUIsSUFBSSxDQUFDQyxZQUFZLEdBQUdBLFlBQVk7RUFDbEM7RUFFQUMsU0FBU0EsQ0FBQSxFQUFHO0lBQ1YsT0FBTyxJQUFJLENBQUNILE1BQU07RUFDcEI7RUFFQUksUUFBUUEsQ0FBQSxFQUFHO0lBQ1QsT0FBTyxJQUFJLENBQUNKLE1BQU0sQ0FBQ0ssY0FBYyxDQUFDLENBQUM7RUFDckM7RUFFQUMsVUFBVUEsQ0FBQSxFQUFHO0lBQ1gsTUFBTUMsS0FBSyxHQUFHQyxJQUFJLElBQUlBLElBQUksQ0FBQ0MsT0FBTyxDQUFDLFFBQVEsRUFBRSxFQUFFLENBQUM7SUFFaEQsTUFBTUMsSUFBSSxHQUFHLElBQUksQ0FBQ1gsTUFBTSxDQUFDWSxvQkFBb0IsQ0FBQyxJQUFJLENBQUNYLE1BQU0sQ0FBQ0ssY0FBYyxDQUFDLENBQUMsQ0FBQztJQUMzRSxPQUFPRSxLQUFLLENBQUNHLElBQUksQ0FBQyxLQUFLSCxLQUFLLENBQUMsSUFBSSxDQUFDTCxZQUFZLENBQUM7RUFDakQ7RUFFQVUsTUFBTUEsQ0FBQSxFQUFHO0lBQ1AsTUFBTUMsS0FBSyxHQUFHLElBQUksQ0FBQ1YsU0FBUyxDQUFDLENBQUMsQ0FBQ0UsY0FBYyxDQUFDLENBQUM7SUFDL0MsSUFBSSxDQUFDTixNQUFNLENBQUNlLG9CQUFvQixDQUFDRCxLQUFLLEVBQUUsSUFBSSxDQUFDWCxZQUFZLENBQUM7SUFDMUQsSUFBSSxDQUFDQyxTQUFTLENBQUMsQ0FBQyxDQUFDWSxjQUFjLENBQUNGLEtBQUssQ0FBQztFQUN4QztFQUVBRyxNQUFNQSxDQUFBLEVBQUc7SUFDUCxJQUFBQywyQkFBYyxFQUFDLElBQUksQ0FBQ2QsU0FBUyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUNKLE1BQU0sQ0FBQztFQUMvQztBQUNGO0FBQUNtQixPQUFBLENBQUFDLE9BQUEsR0FBQXRCLE1BQUEifQ==