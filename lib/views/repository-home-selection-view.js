"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = exports.BareRepositoryHomeSelectionView = exports.PAGE_SIZE = void 0;
var _react = _interopRequireWildcard(require("react"));
var _propTypes = _interopRequireDefault(require("prop-types"));
var _reactRelay = require("react-relay");
var _tabbable = require("./tabbable");
function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }
function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }
function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }
function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }
function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }
function _toPropertyKey(arg) { var key = _toPrimitive(arg, "string"); return typeof key === "symbol" ? key : String(key); }
function _toPrimitive(input, hint) { if (typeof input !== "object" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || "default"); if (typeof res !== "object") return res; throw new TypeError("@@toPrimitive must return a primitive value."); } return (hint === "string" ? String : Number)(input); }
const PAGE_DELAY = 500;
const PAGE_SIZE = 50;
exports.PAGE_SIZE = PAGE_SIZE;
class BareRepositoryHomeSelectionView extends _react.default.Component {
  constructor(...args) {
    super(...args);
    _defineProperty(this, "renderOwner", owner => _react.default.createElement(_react.Fragment, null, _react.default.createElement("div", {
      className: "github-RepositoryHome-ownerOption"
    }, _react.default.createElement("img", {
      alt: "",
      src: owner.avatarURL,
      className: "github-RepositoryHome-ownerAvatar"
    }), _react.default.createElement("span", {
      className: "github-RepositoryHome-ownerName"
    }, owner.login)), owner.disabled && !owner.placeholder && _react.default.createElement("div", {
      className: "github-RepositoryHome-ownerUnwritable"
    }, "(insufficient permissions)")));
    _defineProperty(this, "didChangeOwner", owner => this.props.didChangeOwnerID(owner.id));
    _defineProperty(this, "loadNextPage", () => {
      /* istanbul ignore if */
      if (this.props.relay.isLoading()) {
        setTimeout(this.loadNextPage, PAGE_DELAY);
        return;
      }
      this.props.relay.loadMore(PAGE_SIZE);
    });
  }
  render() {
    const owners = this.getOwners();
    const currentOwner = owners.find(o => o.id === this.props.selectedOwnerID) || owners[0];
    return _react.default.createElement("div", {
      className: "github-RepositoryHome"
    }, _react.default.createElement(_tabbable.TabbableSelect, {
      tabGroup: this.props.tabGroup,
      commands: this.props.commands,
      autofocus: this.props.autofocusOwner,
      className: "github-RepositoryHome-owner",
      clearable: false,
      disabled: this.props.isLoading,
      options: owners,
      optionRenderer: this.renderOwner,
      value: currentOwner,
      valueRenderer: this.renderOwner,
      onChange: this.didChangeOwner
    }), _react.default.createElement("span", {
      className: "github-RepositoryHome-separator"
    }, "/"), _react.default.createElement(_tabbable.TabbableTextEditor, {
      tabGroup: this.props.tabGroup,
      commands: this.props.commands,
      autofocus: this.props.autofocusName,
      mini: true,
      buffer: this.props.nameBuffer
    }));
  }
  componentDidMount() {
    this.schedulePageLoad();
  }
  componentDidUpdate() {
    this.schedulePageLoad();
  }
  getOwners() {
    if (!this.props.user) {
      return [{
        id: 'loading',
        login: 'loading...',
        avatarURL: '',
        disabled: true,
        placeholder: true
      }];
    }
    const owners = [{
      id: this.props.user.id,
      login: this.props.user.login,
      avatarURL: this.props.user.avatarUrl,
      disabled: false
    }];

    /* istanbul ignore if */
    if (!this.props.user.organizations.edges) {
      return owners;
    }
    for (const {
      node
    } of this.props.user.organizations.edges) {
      /* istanbul ignore if */
      if (!node) {
        continue;
      }
      owners.push({
        id: node.id,
        login: node.login,
        avatarURL: node.avatarUrl,
        disabled: !node.viewerCanCreateRepositories
      });
    }
    if (this.props.relay && this.props.relay.hasMore()) {
      owners.push({
        id: 'loading',
        login: 'loading...',
        avatarURL: '',
        disabled: true,
        placeholder: true
      });
    }
    return owners;
  }
  schedulePageLoad() {
    if (!this.props.relay.hasMore()) {
      return;
    }
    setTimeout(this.loadNextPage, PAGE_DELAY);
  }
}
exports.BareRepositoryHomeSelectionView = BareRepositoryHomeSelectionView;
_defineProperty(BareRepositoryHomeSelectionView, "propTypes", {
  // Relay
  relay: _propTypes.default.shape({
    hasMore: _propTypes.default.func.isRequired,
    isLoading: _propTypes.default.func.isRequired,
    loadMore: _propTypes.default.func.isRequired
  }).isRequired,
  user: _propTypes.default.shape({
    id: _propTypes.default.string.isRequired,
    login: _propTypes.default.string.isRequired,
    avatarUrl: _propTypes.default.string.isRequired,
    organizations: _propTypes.default.shape({
      edges: _propTypes.default.arrayOf(_propTypes.default.shape({
        node: _propTypes.default.shape({
          id: _propTypes.default.string.isRequired,
          login: _propTypes.default.string.isRequired,
          avatarUrl: _propTypes.default.string.isRequired,
          viewerCanCreateRepositories: _propTypes.default.bool.isRequired
        })
      }))
    }).isRequired
  }),
  // Model
  nameBuffer: _propTypes.default.object.isRequired,
  isLoading: _propTypes.default.bool.isRequired,
  selectedOwnerID: _propTypes.default.string.isRequired,
  tabGroup: _propTypes.default.object.isRequired,
  autofocusOwner: _propTypes.default.bool,
  autofocusName: _propTypes.default.bool,
  // Selection callback
  didChangeOwnerID: _propTypes.default.func.isRequired,
  // Atom environment
  commands: _propTypes.default.object.isRequired
});
_defineProperty(BareRepositoryHomeSelectionView, "defaultProps", {
  autofocusOwner: false,
  autofocusName: false
});
var _default = (0, _reactRelay.createPaginationContainer)(BareRepositoryHomeSelectionView, {
  user: function () {
    const node = require("./__generated__/repositoryHomeSelectionView_user.graphql");
    if (node.hash && node.hash !== "11a1f1d0eac32bff0a3371217c0eede3") {
      console.error("The definition of 'repositoryHomeSelectionView_user' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data.");
    }
    return require("./__generated__/repositoryHomeSelectionView_user.graphql");
  }
}, {
  direction: 'forward',
  /* istanbul ignore next */
  getConnectionFromProps(props) {
    return props.user && props.user.organizations;
  },
  /* istanbul ignore next */
  getFragmentVariables(prevVars, totalCount) {
    return _objectSpread({}, prevVars, {
      totalCount
    });
  },
  /* istanbul ignore next */
  getVariables(props, {
    count,
    cursor
  }) {
    return {
      id: props.user.id,
      organizationCount: count,
      organizationCursor: cursor
    };
  },
  query: function () {
    const node = require("./__generated__/repositoryHomeSelectionViewQuery.graphql");
    if (node.hash && node.hash !== "67e7843e3ff792e86e979cc948929ea3") {
      console.error("The definition of 'repositoryHomeSelectionViewQuery' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data.");
    }
    return require("./__generated__/repositoryHomeSelectionViewQuery.graphql");
  }
});
exports.default = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmVhY3QiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfcHJvcFR5cGVzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsIl9yZWFjdFJlbGF5IiwiX3RhYmJhYmxlIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJub2RlSW50ZXJvcCIsIldlYWtNYXAiLCJjYWNoZUJhYmVsSW50ZXJvcCIsImNhY2hlTm9kZUludGVyb3AiLCJjYWNoZSIsImhhcyIsImdldCIsIm5ld09iaiIsImhhc1Byb3BlcnR5RGVzY3JpcHRvciIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwia2V5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiZGVzYyIsInNldCIsIm93bktleXMiLCJvYmplY3QiLCJlbnVtZXJhYmxlT25seSIsImtleXMiLCJnZXRPd25Qcm9wZXJ0eVN5bWJvbHMiLCJzeW1ib2xzIiwiZmlsdGVyIiwic3ltIiwiZW51bWVyYWJsZSIsInB1c2giLCJhcHBseSIsIl9vYmplY3RTcHJlYWQiLCJ0YXJnZXQiLCJpIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwic291cmNlIiwiZm9yRWFjaCIsIl9kZWZpbmVQcm9wZXJ0eSIsImdldE93blByb3BlcnR5RGVzY3JpcHRvcnMiLCJkZWZpbmVQcm9wZXJ0aWVzIiwidmFsdWUiLCJfdG9Qcm9wZXJ0eUtleSIsImNvbmZpZ3VyYWJsZSIsIndyaXRhYmxlIiwiYXJnIiwiX3RvUHJpbWl0aXZlIiwiU3RyaW5nIiwiaW5wdXQiLCJoaW50IiwicHJpbSIsIlN5bWJvbCIsInRvUHJpbWl0aXZlIiwidW5kZWZpbmVkIiwicmVzIiwiVHlwZUVycm9yIiwiTnVtYmVyIiwiUEFHRV9ERUxBWSIsIlBBR0VfU0laRSIsImV4cG9ydHMiLCJCYXJlUmVwb3NpdG9yeUhvbWVTZWxlY3Rpb25WaWV3IiwiUmVhY3QiLCJDb21wb25lbnQiLCJjb25zdHJ1Y3RvciIsImFyZ3MiLCJvd25lciIsImNyZWF0ZUVsZW1lbnQiLCJGcmFnbWVudCIsImNsYXNzTmFtZSIsImFsdCIsInNyYyIsImF2YXRhclVSTCIsImxvZ2luIiwiZGlzYWJsZWQiLCJwbGFjZWhvbGRlciIsInByb3BzIiwiZGlkQ2hhbmdlT3duZXJJRCIsImlkIiwicmVsYXkiLCJpc0xvYWRpbmciLCJzZXRUaW1lb3V0IiwibG9hZE5leHRQYWdlIiwibG9hZE1vcmUiLCJyZW5kZXIiLCJvd25lcnMiLCJnZXRPd25lcnMiLCJjdXJyZW50T3duZXIiLCJmaW5kIiwibyIsInNlbGVjdGVkT3duZXJJRCIsIlRhYmJhYmxlU2VsZWN0IiwidGFiR3JvdXAiLCJjb21tYW5kcyIsImF1dG9mb2N1cyIsImF1dG9mb2N1c093bmVyIiwiY2xlYXJhYmxlIiwib3B0aW9ucyIsIm9wdGlvblJlbmRlcmVyIiwicmVuZGVyT3duZXIiLCJ2YWx1ZVJlbmRlcmVyIiwib25DaGFuZ2UiLCJkaWRDaGFuZ2VPd25lciIsIlRhYmJhYmxlVGV4dEVkaXRvciIsImF1dG9mb2N1c05hbWUiLCJtaW5pIiwiYnVmZmVyIiwibmFtZUJ1ZmZlciIsImNvbXBvbmVudERpZE1vdW50Iiwic2NoZWR1bGVQYWdlTG9hZCIsImNvbXBvbmVudERpZFVwZGF0ZSIsInVzZXIiLCJhdmF0YXJVcmwiLCJvcmdhbml6YXRpb25zIiwiZWRnZXMiLCJub2RlIiwidmlld2VyQ2FuQ3JlYXRlUmVwb3NpdG9yaWVzIiwiaGFzTW9yZSIsIlByb3BUeXBlcyIsInNoYXBlIiwiZnVuYyIsImlzUmVxdWlyZWQiLCJzdHJpbmciLCJhcnJheU9mIiwiYm9vbCIsIl9kZWZhdWx0IiwiY3JlYXRlUGFnaW5hdGlvbkNvbnRhaW5lciIsImhhc2giLCJjb25zb2xlIiwiZXJyb3IiLCJkaXJlY3Rpb24iLCJnZXRDb25uZWN0aW9uRnJvbVByb3BzIiwiZ2V0RnJhZ21lbnRWYXJpYWJsZXMiLCJwcmV2VmFycyIsInRvdGFsQ291bnQiLCJnZXRWYXJpYWJsZXMiLCJjb3VudCIsImN1cnNvciIsIm9yZ2FuaXphdGlvbkNvdW50Iiwib3JnYW5pemF0aW9uQ3Vyc29yIiwicXVlcnkiXSwic291cmNlcyI6WyJyZXBvc2l0b3J5LWhvbWUtc2VsZWN0aW9uLXZpZXcuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7RnJhZ21lbnR9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQge2NyZWF0ZVBhZ2luYXRpb25Db250YWluZXIsIGdyYXBocWx9IGZyb20gJ3JlYWN0LXJlbGF5JztcblxuaW1wb3J0IHtUYWJiYWJsZVRleHRFZGl0b3IsIFRhYmJhYmxlU2VsZWN0fSBmcm9tICcuL3RhYmJhYmxlJztcblxuY29uc3QgUEFHRV9ERUxBWSA9IDUwMDtcblxuZXhwb3J0IGNvbnN0IFBBR0VfU0laRSA9IDUwO1xuXG5leHBvcnQgY2xhc3MgQmFyZVJlcG9zaXRvcnlIb21lU2VsZWN0aW9uVmlldyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIHN0YXRpYyBwcm9wVHlwZXMgPSB7XG4gICAgLy8gUmVsYXlcbiAgICByZWxheTogUHJvcFR5cGVzLnNoYXBlKHtcbiAgICAgIGhhc01vcmU6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXG4gICAgICBpc0xvYWRpbmc6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXG4gICAgICBsb2FkTW9yZTogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcbiAgICB9KS5pc1JlcXVpcmVkLFxuICAgIHVzZXI6IFByb3BUeXBlcy5zaGFwZSh7XG4gICAgICBpZDogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLFxuICAgICAgbG9naW46IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCxcbiAgICAgIGF2YXRhclVybDogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLFxuICAgICAgb3JnYW5pemF0aW9uczogUHJvcFR5cGVzLnNoYXBlKHtcbiAgICAgICAgZWRnZXM6IFByb3BUeXBlcy5hcnJheU9mKFByb3BUeXBlcy5zaGFwZSh7XG4gICAgICAgICAgbm9kZTogUHJvcFR5cGVzLnNoYXBlKHtcbiAgICAgICAgICAgIGlkOiBQcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWQsXG4gICAgICAgICAgICBsb2dpbjogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLFxuICAgICAgICAgICAgYXZhdGFyVXJsOiBQcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWQsXG4gICAgICAgICAgICB2aWV3ZXJDYW5DcmVhdGVSZXBvc2l0b3JpZXM6IFByb3BUeXBlcy5ib29sLmlzUmVxdWlyZWQsXG4gICAgICAgICAgfSksXG4gICAgICAgIH0pKSxcbiAgICAgIH0pLmlzUmVxdWlyZWQsXG4gICAgfSksXG5cbiAgICAvLyBNb2RlbFxuICAgIG5hbWVCdWZmZXI6IFByb3BUeXBlcy5vYmplY3QuaXNSZXF1aXJlZCxcbiAgICBpc0xvYWRpbmc6IFByb3BUeXBlcy5ib29sLmlzUmVxdWlyZWQsXG4gICAgc2VsZWN0ZWRPd25lcklEOiBQcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWQsXG4gICAgdGFiR3JvdXA6IFByb3BUeXBlcy5vYmplY3QuaXNSZXF1aXJlZCxcbiAgICBhdXRvZm9jdXNPd25lcjogUHJvcFR5cGVzLmJvb2wsXG4gICAgYXV0b2ZvY3VzTmFtZTogUHJvcFR5cGVzLmJvb2wsXG5cbiAgICAvLyBTZWxlY3Rpb24gY2FsbGJhY2tcbiAgICBkaWRDaGFuZ2VPd25lcklEOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxuXG4gICAgLy8gQXRvbSBlbnZpcm9ubWVudFxuICAgIGNvbW1hbmRzOiBQcm9wVHlwZXMub2JqZWN0LmlzUmVxdWlyZWQsXG4gIH1cblxuICBzdGF0aWMgZGVmYXVsdFByb3BzID0ge1xuICAgIGF1dG9mb2N1c093bmVyOiBmYWxzZSxcbiAgICBhdXRvZm9jdXNOYW1lOiBmYWxzZSxcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCBvd25lcnMgPSB0aGlzLmdldE93bmVycygpO1xuICAgIGNvbnN0IGN1cnJlbnRPd25lciA9IG93bmVycy5maW5kKG8gPT4gby5pZCA9PT0gdGhpcy5wcm9wcy5zZWxlY3RlZE93bmVySUQpIHx8IG93bmVyc1swXTtcblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImdpdGh1Yi1SZXBvc2l0b3J5SG9tZVwiPlxuICAgICAgICA8VGFiYmFibGVTZWxlY3RcbiAgICAgICAgICB0YWJHcm91cD17dGhpcy5wcm9wcy50YWJHcm91cH1cbiAgICAgICAgICBjb21tYW5kcz17dGhpcy5wcm9wcy5jb21tYW5kc31cbiAgICAgICAgICBhdXRvZm9jdXM9e3RoaXMucHJvcHMuYXV0b2ZvY3VzT3duZXJ9XG4gICAgICAgICAgY2xhc3NOYW1lPVwiZ2l0aHViLVJlcG9zaXRvcnlIb21lLW93bmVyXCJcbiAgICAgICAgICBjbGVhcmFibGU9e2ZhbHNlfVxuICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnByb3BzLmlzTG9hZGluZ31cbiAgICAgICAgICBvcHRpb25zPXtvd25lcnN9XG4gICAgICAgICAgb3B0aW9uUmVuZGVyZXI9e3RoaXMucmVuZGVyT3duZXJ9XG4gICAgICAgICAgdmFsdWU9e2N1cnJlbnRPd25lcn1cbiAgICAgICAgICB2YWx1ZVJlbmRlcmVyPXt0aGlzLnJlbmRlck93bmVyfVxuICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmRpZENoYW5nZU93bmVyfVxuICAgICAgICAvPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJnaXRodWItUmVwb3NpdG9yeUhvbWUtc2VwYXJhdG9yXCI+Lzwvc3Bhbj5cbiAgICAgICAgPFRhYmJhYmxlVGV4dEVkaXRvclxuICAgICAgICAgIHRhYkdyb3VwPXt0aGlzLnByb3BzLnRhYkdyb3VwfVxuICAgICAgICAgIGNvbW1hbmRzPXt0aGlzLnByb3BzLmNvbW1hbmRzfVxuICAgICAgICAgIGF1dG9mb2N1cz17dGhpcy5wcm9wcy5hdXRvZm9jdXNOYW1lfVxuICAgICAgICAgIG1pbmk9e3RydWV9XG4gICAgICAgICAgYnVmZmVyPXt0aGlzLnByb3BzLm5hbWVCdWZmZXJ9XG4gICAgICAgIC8+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG5cbiAgcmVuZGVyT3duZXIgPSBvd25lciA9PiAoXG4gICAgPEZyYWdtZW50PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJnaXRodWItUmVwb3NpdG9yeUhvbWUtb3duZXJPcHRpb25cIj5cbiAgICAgICAgPGltZyBhbHQ9XCJcIiBzcmM9e293bmVyLmF2YXRhclVSTH0gY2xhc3NOYW1lPVwiZ2l0aHViLVJlcG9zaXRvcnlIb21lLW93bmVyQXZhdGFyXCIgLz5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZ2l0aHViLVJlcG9zaXRvcnlIb21lLW93bmVyTmFtZVwiPntvd25lci5sb2dpbn08L3NwYW4+XG4gICAgICA8L2Rpdj5cbiAgICAgIHtvd25lci5kaXNhYmxlZCAmJiAhb3duZXIucGxhY2Vob2xkZXIgJiYgKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdpdGh1Yi1SZXBvc2l0b3J5SG9tZS1vd25lclVud3JpdGFibGVcIj5cbiAgICAgICAgICAoaW5zdWZmaWNpZW50IHBlcm1pc3Npb25zKVxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG4gICAgPC9GcmFnbWVudD5cbiAgKTtcblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICB0aGlzLnNjaGVkdWxlUGFnZUxvYWQoKTtcbiAgfVxuXG4gIGNvbXBvbmVudERpZFVwZGF0ZSgpIHtcbiAgICB0aGlzLnNjaGVkdWxlUGFnZUxvYWQoKTtcbiAgfVxuXG4gIGdldE93bmVycygpIHtcbiAgICBpZiAoIXRoaXMucHJvcHMudXNlcikge1xuICAgICAgcmV0dXJuIFt7XG4gICAgICAgIGlkOiAnbG9hZGluZycsXG4gICAgICAgIGxvZ2luOiAnbG9hZGluZy4uLicsXG4gICAgICAgIGF2YXRhclVSTDogJycsXG4gICAgICAgIGRpc2FibGVkOiB0cnVlLFxuICAgICAgICBwbGFjZWhvbGRlcjogdHJ1ZSxcbiAgICAgIH1dO1xuICAgIH1cblxuICAgIGNvbnN0IG93bmVycyA9IFt7XG4gICAgICBpZDogdGhpcy5wcm9wcy51c2VyLmlkLFxuICAgICAgbG9naW46IHRoaXMucHJvcHMudXNlci5sb2dpbixcbiAgICAgIGF2YXRhclVSTDogdGhpcy5wcm9wcy51c2VyLmF2YXRhclVybCxcbiAgICAgIGRpc2FibGVkOiBmYWxzZSxcbiAgICB9XTtcblxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIGlmICghdGhpcy5wcm9wcy51c2VyLm9yZ2FuaXphdGlvbnMuZWRnZXMpIHtcbiAgICAgIHJldHVybiBvd25lcnM7XG4gICAgfVxuXG4gICAgZm9yIChjb25zdCB7bm9kZX0gb2YgdGhpcy5wcm9wcy51c2VyLm9yZ2FuaXphdGlvbnMuZWRnZXMpIHtcbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgaWYgKCFub2RlKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBvd25lcnMucHVzaCh7XG4gICAgICAgIGlkOiBub2RlLmlkLFxuICAgICAgICBsb2dpbjogbm9kZS5sb2dpbixcbiAgICAgICAgYXZhdGFyVVJMOiBub2RlLmF2YXRhclVybCxcbiAgICAgICAgZGlzYWJsZWQ6ICFub2RlLnZpZXdlckNhbkNyZWF0ZVJlcG9zaXRvcmllcyxcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmICh0aGlzLnByb3BzLnJlbGF5ICYmIHRoaXMucHJvcHMucmVsYXkuaGFzTW9yZSgpKSB7XG4gICAgICBvd25lcnMucHVzaCh7XG4gICAgICAgIGlkOiAnbG9hZGluZycsXG4gICAgICAgIGxvZ2luOiAnbG9hZGluZy4uLicsXG4gICAgICAgIGF2YXRhclVSTDogJycsXG4gICAgICAgIGRpc2FibGVkOiB0cnVlLFxuICAgICAgICBwbGFjZWhvbGRlcjogdHJ1ZSxcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBvd25lcnM7XG4gIH1cblxuICBkaWRDaGFuZ2VPd25lciA9IG93bmVyID0+IHRoaXMucHJvcHMuZGlkQ2hhbmdlT3duZXJJRChvd25lci5pZCk7XG5cbiAgc2NoZWR1bGVQYWdlTG9hZCgpIHtcbiAgICBpZiAoIXRoaXMucHJvcHMucmVsYXkuaGFzTW9yZSgpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgc2V0VGltZW91dCh0aGlzLmxvYWROZXh0UGFnZSwgUEFHRV9ERUxBWSk7XG4gIH1cblxuICBsb2FkTmV4dFBhZ2UgPSAoKSA9PiB7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKHRoaXMucHJvcHMucmVsYXkuaXNMb2FkaW5nKCkpIHtcbiAgICAgIHNldFRpbWVvdXQodGhpcy5sb2FkTmV4dFBhZ2UsIFBBR0VfREVMQVkpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMucHJvcHMucmVsYXkubG9hZE1vcmUoUEFHRV9TSVpFKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBjcmVhdGVQYWdpbmF0aW9uQ29udGFpbmVyKEJhcmVSZXBvc2l0b3J5SG9tZVNlbGVjdGlvblZpZXcsIHtcbiAgdXNlcjogZ3JhcGhxbGBcbiAgICBmcmFnbWVudCByZXBvc2l0b3J5SG9tZVNlbGVjdGlvblZpZXdfdXNlciBvbiBVc2VyXG4gICAgQGFyZ3VtZW50RGVmaW5pdGlvbnMoXG4gICAgICBvcmdhbml6YXRpb25Db3VudDoge3R5cGU6IFwiSW50IVwifVxuICAgICAgb3JnYW5pemF0aW9uQ3Vyc29yOiB7dHlwZTogXCJTdHJpbmdcIn1cbiAgICApIHtcbiAgICAgIGlkXG4gICAgICBsb2dpblxuICAgICAgYXZhdGFyVXJsKHNpemU6IDI0KVxuICAgICAgb3JnYW5pemF0aW9ucyhcbiAgICAgICAgZmlyc3Q6ICRvcmdhbml6YXRpb25Db3VudFxuICAgICAgICBhZnRlcjogJG9yZ2FuaXphdGlvbkN1cnNvclxuICAgICAgKSBAY29ubmVjdGlvbihrZXk6IFwiUmVwb3NpdG9yeUhvbWVTZWxlY3Rpb25WaWV3X29yZ2FuaXphdGlvbnNcIikge1xuICAgICAgICBwYWdlSW5mbyB7XG4gICAgICAgICAgaGFzTmV4dFBhZ2VcbiAgICAgICAgICBlbmRDdXJzb3JcbiAgICAgICAgfVxuXG4gICAgICAgIGVkZ2VzIHtcbiAgICAgICAgICBjdXJzb3JcbiAgICAgICAgICBub2RlIHtcbiAgICAgICAgICAgIGlkXG4gICAgICAgICAgICBsb2dpblxuICAgICAgICAgICAgYXZhdGFyVXJsKHNpemU6IDI0KVxuICAgICAgICAgICAgdmlld2VyQ2FuQ3JlYXRlUmVwb3NpdG9yaWVzXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICBgLFxufSwge1xuICBkaXJlY3Rpb246ICdmb3J3YXJkJyxcbiAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgZ2V0Q29ubmVjdGlvbkZyb21Qcm9wcyhwcm9wcykge1xuICAgIHJldHVybiBwcm9wcy51c2VyICYmIHByb3BzLnVzZXIub3JnYW5pemF0aW9ucztcbiAgfSxcbiAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgZ2V0RnJhZ21lbnRWYXJpYWJsZXMocHJldlZhcnMsIHRvdGFsQ291bnQpIHtcbiAgICByZXR1cm4gey4uLnByZXZWYXJzLCB0b3RhbENvdW50fTtcbiAgfSxcbiAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgZ2V0VmFyaWFibGVzKHByb3BzLCB7Y291bnQsIGN1cnNvcn0pIHtcbiAgICByZXR1cm4ge1xuICAgICAgaWQ6IHByb3BzLnVzZXIuaWQsXG4gICAgICBvcmdhbml6YXRpb25Db3VudDogY291bnQsXG4gICAgICBvcmdhbml6YXRpb25DdXJzb3I6IGN1cnNvcixcbiAgICB9O1xuICB9LFxuICBxdWVyeTogZ3JhcGhxbGBcbiAgICBxdWVyeSByZXBvc2l0b3J5SG9tZVNlbGVjdGlvblZpZXdRdWVyeShcbiAgICAgICRpZDogSUQhXG4gICAgICAkb3JnYW5pemF0aW9uQ291bnQ6IEludCFcbiAgICAgICRvcmdhbml6YXRpb25DdXJzb3I6IFN0cmluZ1xuICAgICkge1xuICAgICAgbm9kZShpZDogJGlkKSB7XG4gICAgICAgIC4uLiBvbiBVc2VyIHtcbiAgICAgICAgICAuLi5yZXBvc2l0b3J5SG9tZVNlbGVjdGlvblZpZXdfdXNlciBAYXJndW1lbnRzKFxuICAgICAgICAgICAgb3JnYW5pemF0aW9uQ291bnQ6ICRvcmdhbml6YXRpb25Db3VudFxuICAgICAgICAgICAgb3JnYW5pemF0aW9uQ3Vyc29yOiAkb3JnYW5pemF0aW9uQ3Vyc29yXG4gICAgICAgICAgKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICBgLFxufSk7XG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLE1BQUEsR0FBQUMsdUJBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLFVBQUEsR0FBQUMsc0JBQUEsQ0FBQUYsT0FBQTtBQUNBLElBQUFHLFdBQUEsR0FBQUgsT0FBQTtBQUVBLElBQUFJLFNBQUEsR0FBQUosT0FBQTtBQUE4RCxTQUFBRSx1QkFBQUcsR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLEtBQUFFLE9BQUEsRUFBQUYsR0FBQTtBQUFBLFNBQUFHLHlCQUFBQyxXQUFBLGVBQUFDLE9BQUEsa0NBQUFDLGlCQUFBLE9BQUFELE9BQUEsUUFBQUUsZ0JBQUEsT0FBQUYsT0FBQSxZQUFBRix3QkFBQSxZQUFBQSxDQUFBQyxXQUFBLFdBQUFBLFdBQUEsR0FBQUcsZ0JBQUEsR0FBQUQsaUJBQUEsS0FBQUYsV0FBQTtBQUFBLFNBQUFWLHdCQUFBTSxHQUFBLEVBQUFJLFdBQUEsU0FBQUEsV0FBQSxJQUFBSixHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxXQUFBRCxHQUFBLFFBQUFBLEdBQUEsb0JBQUFBLEdBQUEsd0JBQUFBLEdBQUEsNEJBQUFFLE9BQUEsRUFBQUYsR0FBQSxVQUFBUSxLQUFBLEdBQUFMLHdCQUFBLENBQUFDLFdBQUEsT0FBQUksS0FBQSxJQUFBQSxLQUFBLENBQUFDLEdBQUEsQ0FBQVQsR0FBQSxZQUFBUSxLQUFBLENBQUFFLEdBQUEsQ0FBQVYsR0FBQSxTQUFBVyxNQUFBLFdBQUFDLHFCQUFBLEdBQUFDLE1BQUEsQ0FBQUMsY0FBQSxJQUFBRCxNQUFBLENBQUFFLHdCQUFBLFdBQUFDLEdBQUEsSUFBQWhCLEdBQUEsUUFBQWdCLEdBQUEsa0JBQUFILE1BQUEsQ0FBQUksU0FBQSxDQUFBQyxjQUFBLENBQUFDLElBQUEsQ0FBQW5CLEdBQUEsRUFBQWdCLEdBQUEsU0FBQUksSUFBQSxHQUFBUixxQkFBQSxHQUFBQyxNQUFBLENBQUFFLHdCQUFBLENBQUFmLEdBQUEsRUFBQWdCLEdBQUEsY0FBQUksSUFBQSxLQUFBQSxJQUFBLENBQUFWLEdBQUEsSUFBQVUsSUFBQSxDQUFBQyxHQUFBLEtBQUFSLE1BQUEsQ0FBQUMsY0FBQSxDQUFBSCxNQUFBLEVBQUFLLEdBQUEsRUFBQUksSUFBQSxZQUFBVCxNQUFBLENBQUFLLEdBQUEsSUFBQWhCLEdBQUEsQ0FBQWdCLEdBQUEsU0FBQUwsTUFBQSxDQUFBVCxPQUFBLEdBQUFGLEdBQUEsTUFBQVEsS0FBQSxJQUFBQSxLQUFBLENBQUFhLEdBQUEsQ0FBQXJCLEdBQUEsRUFBQVcsTUFBQSxZQUFBQSxNQUFBO0FBQUEsU0FBQVcsUUFBQUMsTUFBQSxFQUFBQyxjQUFBLFFBQUFDLElBQUEsR0FBQVosTUFBQSxDQUFBWSxJQUFBLENBQUFGLE1BQUEsT0FBQVYsTUFBQSxDQUFBYSxxQkFBQSxRQUFBQyxPQUFBLEdBQUFkLE1BQUEsQ0FBQWEscUJBQUEsQ0FBQUgsTUFBQSxHQUFBQyxjQUFBLEtBQUFHLE9BQUEsR0FBQUEsT0FBQSxDQUFBQyxNQUFBLFdBQUFDLEdBQUEsV0FBQWhCLE1BQUEsQ0FBQUUsd0JBQUEsQ0FBQVEsTUFBQSxFQUFBTSxHQUFBLEVBQUFDLFVBQUEsT0FBQUwsSUFBQSxDQUFBTSxJQUFBLENBQUFDLEtBQUEsQ0FBQVAsSUFBQSxFQUFBRSxPQUFBLFlBQUFGLElBQUE7QUFBQSxTQUFBUSxjQUFBQyxNQUFBLGFBQUFDLENBQUEsTUFBQUEsQ0FBQSxHQUFBQyxTQUFBLENBQUFDLE1BQUEsRUFBQUYsQ0FBQSxVQUFBRyxNQUFBLFdBQUFGLFNBQUEsQ0FBQUQsQ0FBQSxJQUFBQyxTQUFBLENBQUFELENBQUEsUUFBQUEsQ0FBQSxPQUFBYixPQUFBLENBQUFULE1BQUEsQ0FBQXlCLE1BQUEsT0FBQUMsT0FBQSxXQUFBdkIsR0FBQSxJQUFBd0IsZUFBQSxDQUFBTixNQUFBLEVBQUFsQixHQUFBLEVBQUFzQixNQUFBLENBQUF0QixHQUFBLFNBQUFILE1BQUEsQ0FBQTRCLHlCQUFBLEdBQUE1QixNQUFBLENBQUE2QixnQkFBQSxDQUFBUixNQUFBLEVBQUFyQixNQUFBLENBQUE0Qix5QkFBQSxDQUFBSCxNQUFBLEtBQUFoQixPQUFBLENBQUFULE1BQUEsQ0FBQXlCLE1BQUEsR0FBQUMsT0FBQSxXQUFBdkIsR0FBQSxJQUFBSCxNQUFBLENBQUFDLGNBQUEsQ0FBQW9CLE1BQUEsRUFBQWxCLEdBQUEsRUFBQUgsTUFBQSxDQUFBRSx3QkFBQSxDQUFBdUIsTUFBQSxFQUFBdEIsR0FBQSxpQkFBQWtCLE1BQUE7QUFBQSxTQUFBTSxnQkFBQXhDLEdBQUEsRUFBQWdCLEdBQUEsRUFBQTJCLEtBQUEsSUFBQTNCLEdBQUEsR0FBQTRCLGNBQUEsQ0FBQTVCLEdBQUEsT0FBQUEsR0FBQSxJQUFBaEIsR0FBQSxJQUFBYSxNQUFBLENBQUFDLGNBQUEsQ0FBQWQsR0FBQSxFQUFBZ0IsR0FBQSxJQUFBMkIsS0FBQSxFQUFBQSxLQUFBLEVBQUFiLFVBQUEsUUFBQWUsWUFBQSxRQUFBQyxRQUFBLG9CQUFBOUMsR0FBQSxDQUFBZ0IsR0FBQSxJQUFBMkIsS0FBQSxXQUFBM0MsR0FBQTtBQUFBLFNBQUE0QyxlQUFBRyxHQUFBLFFBQUEvQixHQUFBLEdBQUFnQyxZQUFBLENBQUFELEdBQUEsMkJBQUEvQixHQUFBLGdCQUFBQSxHQUFBLEdBQUFpQyxNQUFBLENBQUFqQyxHQUFBO0FBQUEsU0FBQWdDLGFBQUFFLEtBQUEsRUFBQUMsSUFBQSxlQUFBRCxLQUFBLGlCQUFBQSxLQUFBLGtCQUFBQSxLQUFBLE1BQUFFLElBQUEsR0FBQUYsS0FBQSxDQUFBRyxNQUFBLENBQUFDLFdBQUEsT0FBQUYsSUFBQSxLQUFBRyxTQUFBLFFBQUFDLEdBQUEsR0FBQUosSUFBQSxDQUFBakMsSUFBQSxDQUFBK0IsS0FBQSxFQUFBQyxJQUFBLDJCQUFBSyxHQUFBLHNCQUFBQSxHQUFBLFlBQUFDLFNBQUEsNERBQUFOLElBQUEsZ0JBQUFGLE1BQUEsR0FBQVMsTUFBQSxFQUFBUixLQUFBO0FBRTlELE1BQU1TLFVBQVUsR0FBRyxHQUFHO0FBRWYsTUFBTUMsU0FBUyxHQUFHLEVBQUU7QUFBQ0MsT0FBQSxDQUFBRCxTQUFBLEdBQUFBLFNBQUE7QUFFckIsTUFBTUUsK0JBQStCLFNBQVNDLGNBQUssQ0FBQ0MsU0FBUyxDQUFDO0VBQUFDLFlBQUEsR0FBQUMsSUFBQTtJQUFBLFNBQUFBLElBQUE7SUFBQTFCLGVBQUEsc0JBMkVyRDJCLEtBQUssSUFDakIxRSxNQUFBLENBQUFTLE9BQUEsQ0FBQWtFLGFBQUEsQ0FBQzNFLE1BQUEsQ0FBQTRFLFFBQVEsUUFDUDVFLE1BQUEsQ0FBQVMsT0FBQSxDQUFBa0UsYUFBQTtNQUFLRSxTQUFTLEVBQUM7SUFBbUMsR0FDaEQ3RSxNQUFBLENBQUFTLE9BQUEsQ0FBQWtFLGFBQUE7TUFBS0csR0FBRyxFQUFDLEVBQUU7TUFBQ0MsR0FBRyxFQUFFTCxLQUFLLENBQUNNLFNBQVU7TUFBQ0gsU0FBUyxFQUFDO0lBQW1DLENBQUUsQ0FBQyxFQUNsRjdFLE1BQUEsQ0FBQVMsT0FBQSxDQUFBa0UsYUFBQTtNQUFNRSxTQUFTLEVBQUM7SUFBaUMsR0FBRUgsS0FBSyxDQUFDTyxLQUFZLENBQ2xFLENBQUMsRUFDTFAsS0FBSyxDQUFDUSxRQUFRLElBQUksQ0FBQ1IsS0FBSyxDQUFDUyxXQUFXLElBQ25DbkYsTUFBQSxDQUFBUyxPQUFBLENBQUFrRSxhQUFBO01BQUtFLFNBQVMsRUFBQztJQUF1QywrQkFFakQsQ0FFQyxDQUNYO0lBQUE5QixlQUFBLHlCQTREZ0IyQixLQUFLLElBQUksSUFBSSxDQUFDVSxLQUFLLENBQUNDLGdCQUFnQixDQUFDWCxLQUFLLENBQUNZLEVBQUUsQ0FBQztJQUFBdkMsZUFBQSx1QkFVaEQsTUFBTTtNQUNuQjtNQUNBLElBQUksSUFBSSxDQUFDcUMsS0FBSyxDQUFDRyxLQUFLLENBQUNDLFNBQVMsQ0FBQyxDQUFDLEVBQUU7UUFDaENDLFVBQVUsQ0FBQyxJQUFJLENBQUNDLFlBQVksRUFBRXhCLFVBQVUsQ0FBQztRQUN6QztNQUNGO01BRUEsSUFBSSxDQUFDa0IsS0FBSyxDQUFDRyxLQUFLLENBQUNJLFFBQVEsQ0FBQ3hCLFNBQVMsQ0FBQztJQUN0QyxDQUFDO0VBQUE7RUF6SER5QixNQUFNQSxDQUFBLEVBQUc7SUFDUCxNQUFNQyxNQUFNLEdBQUcsSUFBSSxDQUFDQyxTQUFTLENBQUMsQ0FBQztJQUMvQixNQUFNQyxZQUFZLEdBQUdGLE1BQU0sQ0FBQ0csSUFBSSxDQUFDQyxDQUFDLElBQUlBLENBQUMsQ0FBQ1gsRUFBRSxLQUFLLElBQUksQ0FBQ0YsS0FBSyxDQUFDYyxlQUFlLENBQUMsSUFBSUwsTUFBTSxDQUFDLENBQUMsQ0FBQztJQUV2RixPQUNFN0YsTUFBQSxDQUFBUyxPQUFBLENBQUFrRSxhQUFBO01BQUtFLFNBQVMsRUFBQztJQUF1QixHQUNwQzdFLE1BQUEsQ0FBQVMsT0FBQSxDQUFBa0UsYUFBQSxDQUFDckUsU0FBQSxDQUFBNkYsY0FBYztNQUNiQyxRQUFRLEVBQUUsSUFBSSxDQUFDaEIsS0FBSyxDQUFDZ0IsUUFBUztNQUM5QkMsUUFBUSxFQUFFLElBQUksQ0FBQ2pCLEtBQUssQ0FBQ2lCLFFBQVM7TUFDOUJDLFNBQVMsRUFBRSxJQUFJLENBQUNsQixLQUFLLENBQUNtQixjQUFlO01BQ3JDMUIsU0FBUyxFQUFDLDZCQUE2QjtNQUN2QzJCLFNBQVMsRUFBRSxLQUFNO01BQ2pCdEIsUUFBUSxFQUFFLElBQUksQ0FBQ0UsS0FBSyxDQUFDSSxTQUFVO01BQy9CaUIsT0FBTyxFQUFFWixNQUFPO01BQ2hCYSxjQUFjLEVBQUUsSUFBSSxDQUFDQyxXQUFZO01BQ2pDekQsS0FBSyxFQUFFNkMsWUFBYTtNQUNwQmEsYUFBYSxFQUFFLElBQUksQ0FBQ0QsV0FBWTtNQUNoQ0UsUUFBUSxFQUFFLElBQUksQ0FBQ0M7SUFBZSxDQUMvQixDQUFDLEVBQ0Y5RyxNQUFBLENBQUFTLE9BQUEsQ0FBQWtFLGFBQUE7TUFBTUUsU0FBUyxFQUFDO0lBQWlDLE1BQVEsQ0FBQyxFQUMxRDdFLE1BQUEsQ0FBQVMsT0FBQSxDQUFBa0UsYUFBQSxDQUFDckUsU0FBQSxDQUFBeUcsa0JBQWtCO01BQ2pCWCxRQUFRLEVBQUUsSUFBSSxDQUFDaEIsS0FBSyxDQUFDZ0IsUUFBUztNQUM5QkMsUUFBUSxFQUFFLElBQUksQ0FBQ2pCLEtBQUssQ0FBQ2lCLFFBQVM7TUFDOUJDLFNBQVMsRUFBRSxJQUFJLENBQUNsQixLQUFLLENBQUM0QixhQUFjO01BQ3BDQyxJQUFJLEVBQUUsSUFBSztNQUNYQyxNQUFNLEVBQUUsSUFBSSxDQUFDOUIsS0FBSyxDQUFDK0I7SUFBVyxDQUMvQixDQUNFLENBQUM7RUFFVjtFQWdCQUMsaUJBQWlCQSxDQUFBLEVBQUc7SUFDbEIsSUFBSSxDQUFDQyxnQkFBZ0IsQ0FBQyxDQUFDO0VBQ3pCO0VBRUFDLGtCQUFrQkEsQ0FBQSxFQUFHO0lBQ25CLElBQUksQ0FBQ0QsZ0JBQWdCLENBQUMsQ0FBQztFQUN6QjtFQUVBdkIsU0FBU0EsQ0FBQSxFQUFHO0lBQ1YsSUFBSSxDQUFDLElBQUksQ0FBQ1YsS0FBSyxDQUFDbUMsSUFBSSxFQUFFO01BQ3BCLE9BQU8sQ0FBQztRQUNOakMsRUFBRSxFQUFFLFNBQVM7UUFDYkwsS0FBSyxFQUFFLFlBQVk7UUFDbkJELFNBQVMsRUFBRSxFQUFFO1FBQ2JFLFFBQVEsRUFBRSxJQUFJO1FBQ2RDLFdBQVcsRUFBRTtNQUNmLENBQUMsQ0FBQztJQUNKO0lBRUEsTUFBTVUsTUFBTSxHQUFHLENBQUM7TUFDZFAsRUFBRSxFQUFFLElBQUksQ0FBQ0YsS0FBSyxDQUFDbUMsSUFBSSxDQUFDakMsRUFBRTtNQUN0QkwsS0FBSyxFQUFFLElBQUksQ0FBQ0csS0FBSyxDQUFDbUMsSUFBSSxDQUFDdEMsS0FBSztNQUM1QkQsU0FBUyxFQUFFLElBQUksQ0FBQ0ksS0FBSyxDQUFDbUMsSUFBSSxDQUFDQyxTQUFTO01BQ3BDdEMsUUFBUSxFQUFFO0lBQ1osQ0FBQyxDQUFDOztJQUVGO0lBQ0EsSUFBSSxDQUFDLElBQUksQ0FBQ0UsS0FBSyxDQUFDbUMsSUFBSSxDQUFDRSxhQUFhLENBQUNDLEtBQUssRUFBRTtNQUN4QyxPQUFPN0IsTUFBTTtJQUNmO0lBRUEsS0FBSyxNQUFNO01BQUM4QjtJQUFJLENBQUMsSUFBSSxJQUFJLENBQUN2QyxLQUFLLENBQUNtQyxJQUFJLENBQUNFLGFBQWEsQ0FBQ0MsS0FBSyxFQUFFO01BQ3hEO01BQ0EsSUFBSSxDQUFDQyxJQUFJLEVBQUU7UUFDVDtNQUNGO01BRUE5QixNQUFNLENBQUN2RCxJQUFJLENBQUM7UUFDVmdELEVBQUUsRUFBRXFDLElBQUksQ0FBQ3JDLEVBQUU7UUFDWEwsS0FBSyxFQUFFMEMsSUFBSSxDQUFDMUMsS0FBSztRQUNqQkQsU0FBUyxFQUFFMkMsSUFBSSxDQUFDSCxTQUFTO1FBQ3pCdEMsUUFBUSxFQUFFLENBQUN5QyxJQUFJLENBQUNDO01BQ2xCLENBQUMsQ0FBQztJQUNKO0lBRUEsSUFBSSxJQUFJLENBQUN4QyxLQUFLLENBQUNHLEtBQUssSUFBSSxJQUFJLENBQUNILEtBQUssQ0FBQ0csS0FBSyxDQUFDc0MsT0FBTyxDQUFDLENBQUMsRUFBRTtNQUNsRGhDLE1BQU0sQ0FBQ3ZELElBQUksQ0FBQztRQUNWZ0QsRUFBRSxFQUFFLFNBQVM7UUFDYkwsS0FBSyxFQUFFLFlBQVk7UUFDbkJELFNBQVMsRUFBRSxFQUFFO1FBQ2JFLFFBQVEsRUFBRSxJQUFJO1FBQ2RDLFdBQVcsRUFBRTtNQUNmLENBQUMsQ0FBQztJQUNKO0lBRUEsT0FBT1UsTUFBTTtFQUNmO0VBSUF3QixnQkFBZ0JBLENBQUEsRUFBRztJQUNqQixJQUFJLENBQUMsSUFBSSxDQUFDakMsS0FBSyxDQUFDRyxLQUFLLENBQUNzQyxPQUFPLENBQUMsQ0FBQyxFQUFFO01BQy9CO0lBQ0Y7SUFFQXBDLFVBQVUsQ0FBQyxJQUFJLENBQUNDLFlBQVksRUFBRXhCLFVBQVUsQ0FBQztFQUMzQztBQVdGO0FBQUNFLE9BQUEsQ0FBQUMsK0JBQUEsR0FBQUEsK0JBQUE7QUFBQXRCLGVBQUEsQ0F0S1lzQiwrQkFBK0IsZUFDdkI7RUFDakI7RUFDQWtCLEtBQUssRUFBRXVDLGtCQUFTLENBQUNDLEtBQUssQ0FBQztJQUNyQkYsT0FBTyxFQUFFQyxrQkFBUyxDQUFDRSxJQUFJLENBQUNDLFVBQVU7SUFDbEN6QyxTQUFTLEVBQUVzQyxrQkFBUyxDQUFDRSxJQUFJLENBQUNDLFVBQVU7SUFDcEN0QyxRQUFRLEVBQUVtQyxrQkFBUyxDQUFDRSxJQUFJLENBQUNDO0VBQzNCLENBQUMsQ0FBQyxDQUFDQSxVQUFVO0VBQ2JWLElBQUksRUFBRU8sa0JBQVMsQ0FBQ0MsS0FBSyxDQUFDO0lBQ3BCekMsRUFBRSxFQUFFd0Msa0JBQVMsQ0FBQ0ksTUFBTSxDQUFDRCxVQUFVO0lBQy9CaEQsS0FBSyxFQUFFNkMsa0JBQVMsQ0FBQ0ksTUFBTSxDQUFDRCxVQUFVO0lBQ2xDVCxTQUFTLEVBQUVNLGtCQUFTLENBQUNJLE1BQU0sQ0FBQ0QsVUFBVTtJQUN0Q1IsYUFBYSxFQUFFSyxrQkFBUyxDQUFDQyxLQUFLLENBQUM7TUFDN0JMLEtBQUssRUFBRUksa0JBQVMsQ0FBQ0ssT0FBTyxDQUFDTCxrQkFBUyxDQUFDQyxLQUFLLENBQUM7UUFDdkNKLElBQUksRUFBRUcsa0JBQVMsQ0FBQ0MsS0FBSyxDQUFDO1VBQ3BCekMsRUFBRSxFQUFFd0Msa0JBQVMsQ0FBQ0ksTUFBTSxDQUFDRCxVQUFVO1VBQy9CaEQsS0FBSyxFQUFFNkMsa0JBQVMsQ0FBQ0ksTUFBTSxDQUFDRCxVQUFVO1VBQ2xDVCxTQUFTLEVBQUVNLGtCQUFTLENBQUNJLE1BQU0sQ0FBQ0QsVUFBVTtVQUN0Q0wsMkJBQTJCLEVBQUVFLGtCQUFTLENBQUNNLElBQUksQ0FBQ0g7UUFDOUMsQ0FBQztNQUNILENBQUMsQ0FBQztJQUNKLENBQUMsQ0FBQyxDQUFDQTtFQUNMLENBQUMsQ0FBQztFQUVGO0VBQ0FkLFVBQVUsRUFBRVcsa0JBQVMsQ0FBQ2hHLE1BQU0sQ0FBQ21HLFVBQVU7RUFDdkN6QyxTQUFTLEVBQUVzQyxrQkFBUyxDQUFDTSxJQUFJLENBQUNILFVBQVU7RUFDcEMvQixlQUFlLEVBQUU0QixrQkFBUyxDQUFDSSxNQUFNLENBQUNELFVBQVU7RUFDNUM3QixRQUFRLEVBQUUwQixrQkFBUyxDQUFDaEcsTUFBTSxDQUFDbUcsVUFBVTtFQUNyQzFCLGNBQWMsRUFBRXVCLGtCQUFTLENBQUNNLElBQUk7RUFDOUJwQixhQUFhLEVBQUVjLGtCQUFTLENBQUNNLElBQUk7RUFFN0I7RUFDQS9DLGdCQUFnQixFQUFFeUMsa0JBQVMsQ0FBQ0UsSUFBSSxDQUFDQyxVQUFVO0VBRTNDO0VBQ0E1QixRQUFRLEVBQUV5QixrQkFBUyxDQUFDaEcsTUFBTSxDQUFDbUc7QUFDN0IsQ0FBQztBQUFBbEYsZUFBQSxDQXJDVXNCLCtCQUErQixrQkF1Q3BCO0VBQ3BCa0MsY0FBYyxFQUFFLEtBQUs7RUFDckJTLGFBQWEsRUFBRTtBQUNqQixDQUFDO0FBQUEsSUFBQXFCLFFBQUEsR0E4SFksSUFBQUMscUNBQXlCLEVBQUNqRSwrQkFBK0IsRUFBRTtFQUN4RWtELElBQUksV0FBQUEsQ0FBQTtJQUFBLE1BQUFJLElBQUEsR0FBQXpILE9BQUE7SUFBQSxJQUFBeUgsSUFBQSxDQUFBWSxJQUFBLElBQUFaLElBQUEsQ0FBQVksSUFBQTtNQUFBQyxPQUFBLENBQUFDLEtBQUE7SUFBQTtJQUFBLE9BQUF2SSxPQUFBO0VBQUE7QUE4Qk4sQ0FBQyxFQUFFO0VBQ0R3SSxTQUFTLEVBQUUsU0FBUztFQUNwQjtFQUNBQyxzQkFBc0JBLENBQUN2RCxLQUFLLEVBQUU7SUFDNUIsT0FBT0EsS0FBSyxDQUFDbUMsSUFBSSxJQUFJbkMsS0FBSyxDQUFDbUMsSUFBSSxDQUFDRSxhQUFhO0VBQy9DLENBQUM7RUFDRDtFQUNBbUIsb0JBQW9CQSxDQUFDQyxRQUFRLEVBQUVDLFVBQVUsRUFBRTtJQUN6QyxPQUFBdEcsYUFBQSxLQUFXcUcsUUFBUTtNQUFFQztJQUFVO0VBQ2pDLENBQUM7RUFDRDtFQUNBQyxZQUFZQSxDQUFDM0QsS0FBSyxFQUFFO0lBQUM0RCxLQUFLO0lBQUVDO0VBQU0sQ0FBQyxFQUFFO0lBQ25DLE9BQU87TUFDTDNELEVBQUUsRUFBRUYsS0FBSyxDQUFDbUMsSUFBSSxDQUFDakMsRUFBRTtNQUNqQjRELGlCQUFpQixFQUFFRixLQUFLO01BQ3hCRyxrQkFBa0IsRUFBRUY7SUFDdEIsQ0FBQztFQUNILENBQUM7RUFDREcsS0FBSyxXQUFBQSxDQUFBO0lBQUEsTUFBQXpCLElBQUEsR0FBQXpILE9BQUE7SUFBQSxJQUFBeUgsSUFBQSxDQUFBWSxJQUFBLElBQUFaLElBQUEsQ0FBQVksSUFBQTtNQUFBQyxPQUFBLENBQUFDLEtBQUE7SUFBQTtJQUFBLE9BQUF2SSxPQUFBO0VBQUE7QUFnQlAsQ0FBQyxDQUFDO0FBQUFrRSxPQUFBLENBQUEzRCxPQUFBLEdBQUE0SCxRQUFBIn0=