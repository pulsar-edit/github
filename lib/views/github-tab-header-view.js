"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _react = _interopRequireDefault(require("react"));
var _propTypes = _interopRequireDefault(require("prop-types"));
var _path = _interopRequireDefault(require("path"));
var _propTypes2 = require("../prop-types");
var _octicon = _interopRequireDefault(require("../atom/octicon"));
function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }
function _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == typeof i ? i : String(i); }
function _toPrimitive(t, r) { if ("object" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != typeof i) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }
class GithubTabHeaderView extends _react.default.Component {
  render() {
    const lockIcon = this.props.contextLocked ? 'lock' : 'unlock';
    const lockToggleTitle = this.props.contextLocked ? 'Change repository with the dropdown' : 'Follow the active pane item';
    return _react.default.createElement("header", {
      className: "github-Project"
    }, this.renderUser(), _react.default.createElement("select", {
      className: "github-Project-path input-select",
      value: this.props.workdir || '',
      disabled: this.props.changingWorkDir,
      onChange: this.props.handleWorkDirChange
    }, this.renderWorkDirs()), _react.default.createElement("button", {
      className: "github-Project-lock btn btn-small",
      onClick: this.props.handleLockToggle,
      disabled: this.props.changingLock,
      title: lockToggleTitle
    }, _react.default.createElement(_octicon.default, {
      icon: lockIcon
    })));
  }
  renderWorkDirs() {
    const workdirs = [];
    for (const workdir of this.props.workdirs) {
      workdirs.push(_react.default.createElement("option", {
        key: workdir,
        value: _path.default.normalize(workdir)
      }, _path.default.basename(workdir)));
    }
    return workdirs;
  }
  renderUser() {
    const login = this.props.user.getLogin();
    const avatarUrl = this.props.user.getAvatarUrl();
    return _react.default.createElement("img", {
      className: "github-Project-avatar",
      src: avatarUrl || 'atom://github/img/avatar.svg',
      title: `@${login}`,
      alt: `@${login}'s avatar`
    });
  }
}
exports.default = GithubTabHeaderView;
_defineProperty(GithubTabHeaderView, "propTypes", {
  user: _propTypes2.AuthorPropType.isRequired,
  // Workspace
  workdir: _propTypes.default.string,
  workdirs: _propTypes.default.shape({
    [Symbol.iterator]: _propTypes.default.func.isRequired
  }).isRequired,
  contextLocked: _propTypes.default.bool.isRequired,
  changingWorkDir: _propTypes.default.bool.isRequired,
  changingLock: _propTypes.default.bool.isRequired,
  handleWorkDirChange: _propTypes.default.func.isRequired,
  handleLockToggle: _propTypes.default.func.isRequired
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmVhY3QiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9wcm9wVHlwZXMiLCJfcGF0aCIsIl9wcm9wVHlwZXMyIiwiX29jdGljb24iLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIl9kZWZpbmVQcm9wZXJ0eSIsImtleSIsInZhbHVlIiwiX3RvUHJvcGVydHlLZXkiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJjb25maWd1cmFibGUiLCJ3cml0YWJsZSIsInQiLCJpIiwiX3RvUHJpbWl0aXZlIiwiU3RyaW5nIiwiciIsImUiLCJTeW1ib2wiLCJ0b1ByaW1pdGl2ZSIsImNhbGwiLCJUeXBlRXJyb3IiLCJOdW1iZXIiLCJHaXRodWJUYWJIZWFkZXJWaWV3IiwiUmVhY3QiLCJDb21wb25lbnQiLCJyZW5kZXIiLCJsb2NrSWNvbiIsInByb3BzIiwiY29udGV4dExvY2tlZCIsImxvY2tUb2dnbGVUaXRsZSIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc05hbWUiLCJyZW5kZXJVc2VyIiwid29ya2RpciIsImRpc2FibGVkIiwiY2hhbmdpbmdXb3JrRGlyIiwib25DaGFuZ2UiLCJoYW5kbGVXb3JrRGlyQ2hhbmdlIiwicmVuZGVyV29ya0RpcnMiLCJvbkNsaWNrIiwiaGFuZGxlTG9ja1RvZ2dsZSIsImNoYW5naW5nTG9jayIsInRpdGxlIiwiaWNvbiIsIndvcmtkaXJzIiwicHVzaCIsInBhdGgiLCJub3JtYWxpemUiLCJiYXNlbmFtZSIsImxvZ2luIiwidXNlciIsImdldExvZ2luIiwiYXZhdGFyVXJsIiwiZ2V0QXZhdGFyVXJsIiwic3JjIiwiYWx0IiwiZXhwb3J0cyIsIkF1dGhvclByb3BUeXBlIiwiaXNSZXF1aXJlZCIsIlByb3BUeXBlcyIsInN0cmluZyIsInNoYXBlIiwiaXRlcmF0b3IiLCJmdW5jIiwiYm9vbCJdLCJzb3VyY2VzIjpbImdpdGh1Yi10YWItaGVhZGVyLXZpZXcuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgcGF0aCBmcm9tICdwYXRoJztcblxuaW1wb3J0IHtBdXRob3JQcm9wVHlwZX0gZnJvbSAnLi4vcHJvcC10eXBlcyc7XG5pbXBvcnQgT2N0aWNvbiBmcm9tICcuLi9hdG9tL29jdGljb24nO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHaXRodWJUYWJIZWFkZXJWaWV3IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgc3RhdGljIHByb3BUeXBlcyA9IHtcbiAgICB1c2VyOiBBdXRob3JQcm9wVHlwZS5pc1JlcXVpcmVkLFxuXG4gICAgLy8gV29ya3NwYWNlXG4gICAgd29ya2RpcjogUHJvcFR5cGVzLnN0cmluZyxcbiAgICB3b3JrZGlyczogUHJvcFR5cGVzLnNoYXBlKHtbU3ltYm9sLml0ZXJhdG9yXTogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZH0pLmlzUmVxdWlyZWQsXG4gICAgY29udGV4dExvY2tlZDogUHJvcFR5cGVzLmJvb2wuaXNSZXF1aXJlZCxcbiAgICBjaGFuZ2luZ1dvcmtEaXI6IFByb3BUeXBlcy5ib29sLmlzUmVxdWlyZWQsXG4gICAgY2hhbmdpbmdMb2NrOiBQcm9wVHlwZXMuYm9vbC5pc1JlcXVpcmVkLFxuICAgIGhhbmRsZVdvcmtEaXJDaGFuZ2U6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXG4gICAgaGFuZGxlTG9ja1RvZ2dsZTogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCBsb2NrSWNvbiA9IHRoaXMucHJvcHMuY29udGV4dExvY2tlZCA/ICdsb2NrJyA6ICd1bmxvY2snO1xuICAgIGNvbnN0IGxvY2tUb2dnbGVUaXRsZSA9IHRoaXMucHJvcHMuY29udGV4dExvY2tlZCA/XG4gICAgICAnQ2hhbmdlIHJlcG9zaXRvcnkgd2l0aCB0aGUgZHJvcGRvd24nIDpcbiAgICAgICdGb2xsb3cgdGhlIGFjdGl2ZSBwYW5lIGl0ZW0nO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxoZWFkZXIgY2xhc3NOYW1lPVwiZ2l0aHViLVByb2plY3RcIj5cbiAgICAgICAge3RoaXMucmVuZGVyVXNlcigpfVxuICAgICAgICA8c2VsZWN0IGNsYXNzTmFtZT1cImdpdGh1Yi1Qcm9qZWN0LXBhdGggaW5wdXQtc2VsZWN0XCJcbiAgICAgICAgICB2YWx1ZT17dGhpcy5wcm9wcy53b3JrZGlyIHx8ICcnfVxuICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnByb3BzLmNoYW5naW5nV29ya0Rpcn1cbiAgICAgICAgICBvbkNoYW5nZT17dGhpcy5wcm9wcy5oYW5kbGVXb3JrRGlyQ2hhbmdlfT5cbiAgICAgICAgICB7dGhpcy5yZW5kZXJXb3JrRGlycygpfVxuICAgICAgICA8L3NlbGVjdD5cbiAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJnaXRodWItUHJvamVjdC1sb2NrIGJ0biBidG4tc21hbGxcIlxuICAgICAgICAgIG9uQ2xpY2s9e3RoaXMucHJvcHMuaGFuZGxlTG9ja1RvZ2dsZX1cbiAgICAgICAgICBkaXNhYmxlZD17dGhpcy5wcm9wcy5jaGFuZ2luZ0xvY2t9XG4gICAgICAgICAgdGl0bGU9e2xvY2tUb2dnbGVUaXRsZX0+XG4gICAgICAgICAgPE9jdGljb24gaWNvbj17bG9ja0ljb259IC8+XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9oZWFkZXI+XG4gICAgKTtcbiAgfVxuXG4gIHJlbmRlcldvcmtEaXJzKCkge1xuICAgIGNvbnN0IHdvcmtkaXJzID0gW107XG4gICAgZm9yIChjb25zdCB3b3JrZGlyIG9mIHRoaXMucHJvcHMud29ya2RpcnMpIHtcbiAgICAgIHdvcmtkaXJzLnB1c2goPG9wdGlvbiBrZXk9e3dvcmtkaXJ9IHZhbHVlPXtwYXRoLm5vcm1hbGl6ZSh3b3JrZGlyKX0+e3BhdGguYmFzZW5hbWUod29ya2Rpcil9PC9vcHRpb24+KTtcbiAgICB9XG4gICAgcmV0dXJuIHdvcmtkaXJzO1xuICB9XG5cbiAgcmVuZGVyVXNlcigpIHtcbiAgICBjb25zdCBsb2dpbiA9IHRoaXMucHJvcHMudXNlci5nZXRMb2dpbigpO1xuICAgIGNvbnN0IGF2YXRhclVybCA9IHRoaXMucHJvcHMudXNlci5nZXRBdmF0YXJVcmwoKTtcblxuICAgIHJldHVybiAoXG4gICAgICA8aW1nIGNsYXNzTmFtZT1cImdpdGh1Yi1Qcm9qZWN0LWF2YXRhclwiXG4gICAgICAgIHNyYz17YXZhdGFyVXJsIHx8ICdhdG9tOi8vZ2l0aHViL2ltZy9hdmF0YXIuc3ZnJ31cbiAgICAgICAgdGl0bGU9e2BAJHtsb2dpbn1gfVxuICAgICAgICBhbHQ9e2BAJHtsb2dpbn0ncyBhdmF0YXJgfVxuICAgICAgLz5cbiAgICApO1xuICB9XG59XG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLE1BQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLFVBQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFFLEtBQUEsR0FBQUgsc0JBQUEsQ0FBQUMsT0FBQTtBQUVBLElBQUFHLFdBQUEsR0FBQUgsT0FBQTtBQUNBLElBQUFJLFFBQUEsR0FBQUwsc0JBQUEsQ0FBQUMsT0FBQTtBQUFzQyxTQUFBRCx1QkFBQU0sR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLEtBQUFFLE9BQUEsRUFBQUYsR0FBQTtBQUFBLFNBQUFHLGdCQUFBSCxHQUFBLEVBQUFJLEdBQUEsRUFBQUMsS0FBQSxJQUFBRCxHQUFBLEdBQUFFLGNBQUEsQ0FBQUYsR0FBQSxPQUFBQSxHQUFBLElBQUFKLEdBQUEsSUFBQU8sTUFBQSxDQUFBQyxjQUFBLENBQUFSLEdBQUEsRUFBQUksR0FBQSxJQUFBQyxLQUFBLEVBQUFBLEtBQUEsRUFBQUksVUFBQSxRQUFBQyxZQUFBLFFBQUFDLFFBQUEsb0JBQUFYLEdBQUEsQ0FBQUksR0FBQSxJQUFBQyxLQUFBLFdBQUFMLEdBQUE7QUFBQSxT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