"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _react = _interopRequireDefault(require("react"));
var _propTypes = _interopRequireDefault(require("prop-types"));
var _nodeEmoji = require("node-emoji");
var _moment = _interopRequireDefault(require("moment"));
var _multiFilePatchController = _interopRequireDefault(require("../controllers/multi-file-patch-controller"));
var _commands = _interopRequireWildcard(require("../atom/commands"));
var _refHolder = _interopRequireDefault(require("../models/ref-holder"));
function _getRequireWildcardCache(e) { if ("function" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }
function _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || "object" != typeof e && "function" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if ("default" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }
function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
function ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }
function _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }
function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }
function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }
function _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == typeof i ? i : String(i); }
function _toPrimitive(t, r) { if ("object" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != typeof i) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }
class CommitDetailView extends _react.default.Component {
  constructor(props) {
    super(props);
    this.refRoot = new _refHolder.default();
  }
  render() {
    const commit = this.props.commit;
    return _react.default.createElement("div", {
      className: "github-CommitDetailView",
      ref: this.refRoot.setter
    }, this.renderCommands(), _react.default.createElement("div", {
      className: "github-CommitDetailView-header native-key-bindings",
      tabIndex: "-1"
    }, _react.default.createElement("div", {
      className: "github-CommitDetailView-commit"
    }, _react.default.createElement("h3", {
      className: "github-CommitDetailView-title"
    }, (0, _nodeEmoji.emojify)(commit.getMessageSubject())), _react.default.createElement("div", {
      className: "github-CommitDetailView-meta"
    }, this.renderAuthors(), _react.default.createElement("span", {
      className: "github-CommitDetailView-metaText"
    }, this.getAuthorInfo(), " committed ", this.humanizeTimeSince(commit.getAuthorDate())), _react.default.createElement("div", {
      className: "github-CommitDetailView-sha"
    }, this.renderDotComLink())), this.renderShowMoreButton(), this.renderCommitMessageBody())), _react.default.createElement(_multiFilePatchController.default, _extends({
      multiFilePatch: commit.getMultiFileDiff(),
      surface: this.props.surfaceCommit
    }, this.props)));
  }
  renderCommands() {
    return _react.default.createElement(_commands.default, {
      registry: this.props.commands,
      target: this.refRoot
    }, _react.default.createElement(_commands.Command, {
      command: "github:surface",
      callback: this.props.surfaceCommit
    }));
  }
  renderCommitMessageBody() {
    const collapsed = this.props.messageCollapsible && !this.props.messageOpen;
    return _react.default.createElement("pre", {
      className: "github-CommitDetailView-moreText"
    }, collapsed ? this.props.commit.abbreviatedBody() : this.props.commit.getMessageBody());
  }
  renderShowMoreButton() {
    if (!this.props.messageCollapsible) {
      return null;
    }
    const buttonText = this.props.messageOpen ? 'Show Less' : 'Show More';
    return _react.default.createElement("button", {
      className: "github-CommitDetailView-moreButton",
      onClick: this.props.toggleMessage
    }, buttonText);
  }
  humanizeTimeSince(date) {
    return (0, _moment.default)(date * 1000).fromNow();
  }
  renderDotComLink() {
    const remote = this.props.currentRemote;
    const sha = this.props.commit.getSha();
    if (remote.isGithubRepo() && this.props.isCommitPushed) {
      const repoUrl = `https://github.com/${remote.getOwner()}/${remote.getRepo()}`;
      return _react.default.createElement("a", {
        href: `${repoUrl}/commit/${sha}`,
        title: `open commit ${sha} on GitHub.com`
      }, sha);
    } else {
      return _react.default.createElement("span", null, sha);
    }
  }
  getAuthorInfo() {
    const commit = this.props.commit;
    const coAuthorCount = commit.getCoAuthors().length;
    if (coAuthorCount === 0) {
      return commit.getAuthorName();
    } else if (coAuthorCount === 1) {
      return `${commit.getAuthorName()} and ${commit.getCoAuthors()[0].getFullName()}`;
    } else {
      return `${commit.getAuthorName()} and ${coAuthorCount} others`;
    }
  }
  renderAuthor(author) {
    const email = author.getEmail();
    const avatarUrl = author.getAvatarUrl();
    return _react.default.createElement("img", {
      className: "github-CommitDetailView-avatar github-RecentCommit-avatar",
      key: email,
      src: avatarUrl,
      title: email,
      alt: `${email}'s avatar'`
    });
  }
  renderAuthors() {
    const coAuthors = this.props.commit.getCoAuthors();
    const authors = [this.props.commit.getAuthor(), ...coAuthors];
    return _react.default.createElement("span", {
      className: "github-CommitDetailView-authors github-RecentCommit-authors"
    }, authors.map(this.renderAuthor));
  }
}
exports.default = CommitDetailView;
_defineProperty(CommitDetailView, "drilledPropTypes", {
  // Model properties
  repository: _propTypes.default.object.isRequired,
  commit: _propTypes.default.object.isRequired,
  currentRemote: _propTypes.default.object.isRequired,
  isCommitPushed: _propTypes.default.bool.isRequired,
  itemType: _propTypes.default.func.isRequired,
  // Atom environment
  workspace: _propTypes.default.object.isRequired,
  commands: _propTypes.default.object.isRequired,
  keymaps: _propTypes.default.object.isRequired,
  tooltips: _propTypes.default.object.isRequired,
  config: _propTypes.default.object.isRequired,
  // Action functions
  destroy: _propTypes.default.func.isRequired,
  surfaceCommit: _propTypes.default.func.isRequired
});
_defineProperty(CommitDetailView, "propTypes", _objectSpread({}, CommitDetailView.drilledPropTypes, {
  // Controller state
  messageCollapsible: _propTypes.default.bool.isRequired,
  messageOpen: _propTypes.default.bool.isRequired,
  // Action functions
  toggleMessage: _propTypes.default.func.isRequired
}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmVhY3QiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9wcm9wVHlwZXMiLCJfbm9kZUVtb2ppIiwiX21vbWVudCIsIl9tdWx0aUZpbGVQYXRjaENvbnRyb2xsZXIiLCJfY29tbWFuZHMiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsIl9yZWZIb2xkZXIiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJvYmoiLCJvd25LZXlzIiwia2V5cyIsImdldE93blByb3BlcnR5U3ltYm9scyIsIm8iLCJmaWx0ZXIiLCJlbnVtZXJhYmxlIiwicHVzaCIsImFwcGx5IiwiX29iamVjdFNwcmVhZCIsImFyZ3VtZW50cyIsImxlbmd0aCIsImZvckVhY2giLCJfZGVmaW5lUHJvcGVydHkiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzIiwiZGVmaW5lUHJvcGVydGllcyIsIl9leHRlbmRzIiwiYXNzaWduIiwiYmluZCIsInRhcmdldCIsInNvdXJjZSIsImtleSIsInZhbHVlIiwiX3RvUHJvcGVydHlLZXkiLCJjb25maWd1cmFibGUiLCJ3cml0YWJsZSIsIl90b1ByaW1pdGl2ZSIsIlN0cmluZyIsIlN5bWJvbCIsInRvUHJpbWl0aXZlIiwiVHlwZUVycm9yIiwiTnVtYmVyIiwiQ29tbWl0RGV0YWlsVmlldyIsIlJlYWN0IiwiQ29tcG9uZW50IiwiY29uc3RydWN0b3IiLCJwcm9wcyIsInJlZlJvb3QiLCJSZWZIb2xkZXIiLCJyZW5kZXIiLCJjb21taXQiLCJjcmVhdGVFbGVtZW50IiwiY2xhc3NOYW1lIiwicmVmIiwic2V0dGVyIiwicmVuZGVyQ29tbWFuZHMiLCJ0YWJJbmRleCIsImVtb2ppZnkiLCJnZXRNZXNzYWdlU3ViamVjdCIsInJlbmRlckF1dGhvcnMiLCJnZXRBdXRob3JJbmZvIiwiaHVtYW5pemVUaW1lU2luY2UiLCJnZXRBdXRob3JEYXRlIiwicmVuZGVyRG90Q29tTGluayIsInJlbmRlclNob3dNb3JlQnV0dG9uIiwicmVuZGVyQ29tbWl0TWVzc2FnZUJvZHkiLCJtdWx0aUZpbGVQYXRjaCIsImdldE11bHRpRmlsZURpZmYiLCJzdXJmYWNlIiwic3VyZmFjZUNvbW1pdCIsInJlZ2lzdHJ5IiwiY29tbWFuZHMiLCJDb21tYW5kIiwiY29tbWFuZCIsImNhbGxiYWNrIiwiY29sbGFwc2VkIiwibWVzc2FnZUNvbGxhcHNpYmxlIiwibWVzc2FnZU9wZW4iLCJhYmJyZXZpYXRlZEJvZHkiLCJnZXRNZXNzYWdlQm9keSIsImJ1dHRvblRleHQiLCJvbkNsaWNrIiwidG9nZ2xlTWVzc2FnZSIsImRhdGUiLCJtb21lbnQiLCJmcm9tTm93IiwicmVtb3RlIiwiY3VycmVudFJlbW90ZSIsInNoYSIsImdldFNoYSIsImlzR2l0aHViUmVwbyIsImlzQ29tbWl0UHVzaGVkIiwicmVwb1VybCIsImdldE93bmVyIiwiZ2V0UmVwbyIsImhyZWYiLCJ0aXRsZSIsImNvQXV0aG9yQ291bnQiLCJnZXRDb0F1dGhvcnMiLCJnZXRBdXRob3JOYW1lIiwiZ2V0RnVsbE5hbWUiLCJyZW5kZXJBdXRob3IiLCJhdXRob3IiLCJlbWFpbCIsImdldEVtYWlsIiwiYXZhdGFyVXJsIiwiZ2V0QXZhdGFyVXJsIiwic3JjIiwiYWx0IiwiY29BdXRob3JzIiwiYXV0aG9ycyIsImdldEF1dGhvciIsIm1hcCIsImV4cG9ydHMiLCJyZXBvc2l0b3J5IiwiUHJvcFR5cGVzIiwib2JqZWN0IiwiaXNSZXF1aXJlZCIsImJvb2wiLCJpdGVtVHlwZSIsImZ1bmMiLCJ3b3Jrc3BhY2UiLCJrZXltYXBzIiwidG9vbHRpcHMiLCJjb25maWciLCJkZXN0cm95IiwiZHJpbGxlZFByb3BUeXBlcyJdLCJzb3VyY2VzIjpbImNvbW1pdC1kZXRhaWwtdmlldy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCB7ZW1vamlmeX0gZnJvbSAnbm9kZS1lbW9qaSc7XG5pbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudCc7XG5cbmltcG9ydCBNdWx0aUZpbGVQYXRjaENvbnRyb2xsZXIgZnJvbSAnLi4vY29udHJvbGxlcnMvbXVsdGktZmlsZS1wYXRjaC1jb250cm9sbGVyJztcbmltcG9ydCBDb21tYW5kcywge0NvbW1hbmR9IGZyb20gJy4uL2F0b20vY29tbWFuZHMnO1xuaW1wb3J0IFJlZkhvbGRlciBmcm9tICcuLi9tb2RlbHMvcmVmLWhvbGRlcic7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENvbW1pdERldGFpbFZpZXcgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBzdGF0aWMgZHJpbGxlZFByb3BUeXBlcyA9IHtcbiAgICAvLyBNb2RlbCBwcm9wZXJ0aWVzXG4gICAgcmVwb3NpdG9yeTogUHJvcFR5cGVzLm9iamVjdC5pc1JlcXVpcmVkLFxuICAgIGNvbW1pdDogUHJvcFR5cGVzLm9iamVjdC5pc1JlcXVpcmVkLFxuICAgIGN1cnJlbnRSZW1vdGU6IFByb3BUeXBlcy5vYmplY3QuaXNSZXF1aXJlZCxcbiAgICBpc0NvbW1pdFB1c2hlZDogUHJvcFR5cGVzLmJvb2wuaXNSZXF1aXJlZCxcbiAgICBpdGVtVHlwZTogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcblxuICAgIC8vIEF0b20gZW52aXJvbm1lbnRcbiAgICB3b3Jrc3BhY2U6IFByb3BUeXBlcy5vYmplY3QuaXNSZXF1aXJlZCxcbiAgICBjb21tYW5kczogUHJvcFR5cGVzLm9iamVjdC5pc1JlcXVpcmVkLFxuICAgIGtleW1hcHM6IFByb3BUeXBlcy5vYmplY3QuaXNSZXF1aXJlZCxcbiAgICB0b29sdGlwczogUHJvcFR5cGVzLm9iamVjdC5pc1JlcXVpcmVkLFxuICAgIGNvbmZpZzogUHJvcFR5cGVzLm9iamVjdC5pc1JlcXVpcmVkLFxuXG4gICAgLy8gQWN0aW9uIGZ1bmN0aW9uc1xuICAgIGRlc3Ryb3k6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXG4gICAgc3VyZmFjZUNvbW1pdDogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcbiAgfVxuXG4gIHN0YXRpYyBwcm9wVHlwZXMgPSB7XG4gICAgLi4uQ29tbWl0RGV0YWlsVmlldy5kcmlsbGVkUHJvcFR5cGVzLFxuXG4gICAgLy8gQ29udHJvbGxlciBzdGF0ZVxuICAgIG1lc3NhZ2VDb2xsYXBzaWJsZTogUHJvcFR5cGVzLmJvb2wuaXNSZXF1aXJlZCxcbiAgICBtZXNzYWdlT3BlbjogUHJvcFR5cGVzLmJvb2wuaXNSZXF1aXJlZCxcblxuICAgIC8vIEFjdGlvbiBmdW5jdGlvbnNcbiAgICB0b2dnbGVNZXNzYWdlOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxuICB9XG5cbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG5cbiAgICB0aGlzLnJlZlJvb3QgPSBuZXcgUmVmSG9sZGVyKCk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgY29tbWl0ID0gdGhpcy5wcm9wcy5jb21taXQ7XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJnaXRodWItQ29tbWl0RGV0YWlsVmlld1wiIHJlZj17dGhpcy5yZWZSb290LnNldHRlcn0+XG4gICAgICAgIHt0aGlzLnJlbmRlckNvbW1hbmRzKCl9XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ2l0aHViLUNvbW1pdERldGFpbFZpZXctaGVhZGVyIG5hdGl2ZS1rZXktYmluZGluZ3NcIiB0YWJJbmRleD1cIi0xXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJnaXRodWItQ29tbWl0RGV0YWlsVmlldy1jb21taXRcIj5cbiAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJnaXRodWItQ29tbWl0RGV0YWlsVmlldy10aXRsZVwiPlxuICAgICAgICAgICAgICB7ZW1vamlmeShjb21taXQuZ2V0TWVzc2FnZVN1YmplY3QoKSl9XG4gICAgICAgICAgICA8L2gzPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJnaXRodWItQ29tbWl0RGV0YWlsVmlldy1tZXRhXCI+XG4gICAgICAgICAgICAgIHt0aGlzLnJlbmRlckF1dGhvcnMoKX1cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZ2l0aHViLUNvbW1pdERldGFpbFZpZXctbWV0YVRleHRcIj5cbiAgICAgICAgICAgICAgICB7dGhpcy5nZXRBdXRob3JJbmZvKCl9IGNvbW1pdHRlZCB7dGhpcy5odW1hbml6ZVRpbWVTaW5jZShjb21taXQuZ2V0QXV0aG9yRGF0ZSgpKX1cbiAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdpdGh1Yi1Db21taXREZXRhaWxWaWV3LXNoYVwiPlxuICAgICAgICAgICAgICAgIHt0aGlzLnJlbmRlckRvdENvbUxpbmsoKX1cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIHt0aGlzLnJlbmRlclNob3dNb3JlQnV0dG9uKCl9XG4gICAgICAgICAgICB7dGhpcy5yZW5kZXJDb21taXRNZXNzYWdlQm9keSgpfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPE11bHRpRmlsZVBhdGNoQ29udHJvbGxlclxuICAgICAgICAgIG11bHRpRmlsZVBhdGNoPXtjb21taXQuZ2V0TXVsdGlGaWxlRGlmZigpfVxuICAgICAgICAgIHN1cmZhY2U9e3RoaXMucHJvcHMuc3VyZmFjZUNvbW1pdH1cbiAgICAgICAgICB7Li4udGhpcy5wcm9wc31cbiAgICAgICAgLz5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cblxuICByZW5kZXJDb21tYW5kcygpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPENvbW1hbmRzIHJlZ2lzdHJ5PXt0aGlzLnByb3BzLmNvbW1hbmRzfSB0YXJnZXQ9e3RoaXMucmVmUm9vdH0+XG4gICAgICAgIDxDb21tYW5kIGNvbW1hbmQ9XCJnaXRodWI6c3VyZmFjZVwiIGNhbGxiYWNrPXt0aGlzLnByb3BzLnN1cmZhY2VDb21taXR9IC8+XG4gICAgICA8L0NvbW1hbmRzPlxuICAgICk7XG4gIH1cblxuICByZW5kZXJDb21taXRNZXNzYWdlQm9keSgpIHtcbiAgICBjb25zdCBjb2xsYXBzZWQgPSB0aGlzLnByb3BzLm1lc3NhZ2VDb2xsYXBzaWJsZSAmJiAhdGhpcy5wcm9wcy5tZXNzYWdlT3BlbjtcblxuICAgIHJldHVybiAoXG4gICAgICA8cHJlIGNsYXNzTmFtZT1cImdpdGh1Yi1Db21taXREZXRhaWxWaWV3LW1vcmVUZXh0XCI+XG4gICAgICAgIHtjb2xsYXBzZWQgPyB0aGlzLnByb3BzLmNvbW1pdC5hYmJyZXZpYXRlZEJvZHkoKSA6IHRoaXMucHJvcHMuY29tbWl0LmdldE1lc3NhZ2VCb2R5KCl9XG4gICAgICA8L3ByZT5cbiAgICApO1xuICB9XG5cbiAgcmVuZGVyU2hvd01vcmVCdXR0b24oKSB7XG4gICAgaWYgKCF0aGlzLnByb3BzLm1lc3NhZ2VDb2xsYXBzaWJsZSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgY29uc3QgYnV0dG9uVGV4dCA9IHRoaXMucHJvcHMubWVzc2FnZU9wZW4gPyAnU2hvdyBMZXNzJyA6ICdTaG93IE1vcmUnO1xuICAgIHJldHVybiAoXG4gICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImdpdGh1Yi1Db21taXREZXRhaWxWaWV3LW1vcmVCdXR0b25cIiBvbkNsaWNrPXt0aGlzLnByb3BzLnRvZ2dsZU1lc3NhZ2V9PntidXR0b25UZXh0fTwvYnV0dG9uPlxuICAgICk7XG4gIH1cblxuICBodW1hbml6ZVRpbWVTaW5jZShkYXRlKSB7XG4gICAgcmV0dXJuIG1vbWVudChkYXRlICogMTAwMCkuZnJvbU5vdygpO1xuICB9XG5cbiAgcmVuZGVyRG90Q29tTGluaygpIHtcbiAgICBjb25zdCByZW1vdGUgPSB0aGlzLnByb3BzLmN1cnJlbnRSZW1vdGU7XG4gICAgY29uc3Qgc2hhID0gdGhpcy5wcm9wcy5jb21taXQuZ2V0U2hhKCk7XG4gICAgaWYgKHJlbW90ZS5pc0dpdGh1YlJlcG8oKSAmJiB0aGlzLnByb3BzLmlzQ29tbWl0UHVzaGVkKSB7XG4gICAgICBjb25zdCByZXBvVXJsID0gYGh0dHBzOi8vZ2l0aHViLmNvbS8ke3JlbW90ZS5nZXRPd25lcigpfS8ke3JlbW90ZS5nZXRSZXBvKCl9YDtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxhIGhyZWY9e2Ake3JlcG9Vcmx9L2NvbW1pdC8ke3NoYX1gfVxuICAgICAgICAgIHRpdGxlPXtgb3BlbiBjb21taXQgJHtzaGF9IG9uIEdpdEh1Yi5jb21gfT5cbiAgICAgICAgICB7c2hhfVxuICAgICAgICA8L2E+XG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gKDxzcGFuPntzaGF9PC9zcGFuPik7XG4gICAgfVxuICB9XG5cbiAgZ2V0QXV0aG9ySW5mbygpIHtcbiAgICBjb25zdCBjb21taXQgPSB0aGlzLnByb3BzLmNvbW1pdDtcbiAgICBjb25zdCBjb0F1dGhvckNvdW50ID0gY29tbWl0LmdldENvQXV0aG9ycygpLmxlbmd0aDtcbiAgICBpZiAoY29BdXRob3JDb3VudCA9PT0gMCkge1xuICAgICAgcmV0dXJuIGNvbW1pdC5nZXRBdXRob3JOYW1lKCk7XG4gICAgfSBlbHNlIGlmIChjb0F1dGhvckNvdW50ID09PSAxKSB7XG4gICAgICByZXR1cm4gYCR7Y29tbWl0LmdldEF1dGhvck5hbWUoKX0gYW5kICR7Y29tbWl0LmdldENvQXV0aG9ycygpWzBdLmdldEZ1bGxOYW1lKCl9YDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGAke2NvbW1pdC5nZXRBdXRob3JOYW1lKCl9IGFuZCAke2NvQXV0aG9yQ291bnR9IG90aGVyc2A7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyQXV0aG9yKGF1dGhvcikge1xuICAgIGNvbnN0IGVtYWlsID0gYXV0aG9yLmdldEVtYWlsKCk7XG4gICAgY29uc3QgYXZhdGFyVXJsID0gYXV0aG9yLmdldEF2YXRhclVybCgpO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxpbWcgY2xhc3NOYW1lPVwiZ2l0aHViLUNvbW1pdERldGFpbFZpZXctYXZhdGFyIGdpdGh1Yi1SZWNlbnRDb21taXQtYXZhdGFyXCJcbiAgICAgICAga2V5PXtlbWFpbH1cbiAgICAgICAgc3JjPXthdmF0YXJVcmx9XG4gICAgICAgIHRpdGxlPXtlbWFpbH1cbiAgICAgICAgYWx0PXtgJHtlbWFpbH0ncyBhdmF0YXInYH1cbiAgICAgIC8+XG4gICAgKTtcbiAgfVxuXG4gIHJlbmRlckF1dGhvcnMoKSB7XG4gICAgY29uc3QgY29BdXRob3JzID0gdGhpcy5wcm9wcy5jb21taXQuZ2V0Q29BdXRob3JzKCk7XG4gICAgY29uc3QgYXV0aG9ycyA9IFt0aGlzLnByb3BzLmNvbW1pdC5nZXRBdXRob3IoKSwgLi4uY29BdXRob3JzXTtcblxuICAgIHJldHVybiAoXG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJnaXRodWItQ29tbWl0RGV0YWlsVmlldy1hdXRob3JzIGdpdGh1Yi1SZWNlbnRDb21taXQtYXV0aG9yc1wiPlxuICAgICAgICB7YXV0aG9ycy5tYXAodGhpcy5yZW5kZXJBdXRob3IpfVxuICAgICAgPC9zcGFuPlxuICAgICk7XG4gIH1cbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsTUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsVUFBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsVUFBQSxHQUFBRixPQUFBO0FBQ0EsSUFBQUcsT0FBQSxHQUFBSixzQkFBQSxDQUFBQyxPQUFBO0FBRUEsSUFBQUkseUJBQUEsR0FBQUwsc0JBQUEs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