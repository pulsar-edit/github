"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _react = _interopRequireDefault(require("react"));
var _propTypes = _interopRequireDefault(require("prop-types"));
var _classnames = _interopRequireDefault(require("classnames"));
var _electron = require("electron");
var _atom = require("atom");
var _atomTextEditor = _interopRequireDefault(require("../atom/atom-text-editor"));
var _refHolder = _interopRequireDefault(require("../models/ref-holder"));
var _reporterProxy = require("../reporter-proxy");
var _commands = _interopRequireWildcard(require("../atom/commands"));
function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }
function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }
function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }
function _toPropertyKey(arg) { var key = _toPrimitive(arg, "string"); return typeof key === "symbol" ? key : String(key); }
function _toPrimitive(input, hint) { if (typeof input !== "object" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || "default"); if (typeof res !== "object") return res; throw new TypeError("@@toPrimitive must return a primitive value."); } return (hint === "string" ? String : Number)(input); }
const {
  Menu,
  MenuItem
} = _electron.remote;
class ActionableReviewView extends _react.default.Component {
  constructor(props) {
    super(props);
    _defineProperty(this, "onCancel", () => {
      if (this.buffer.getText() === this.props.originalContent.body) {
        this.setState({
          editing: false
        });
      } else {
        const choice = this.props.confirm({
          message: 'Are you sure you want to discard your unsaved changes?',
          buttons: ['OK', 'Cancel']
        });
        if (choice === 0) {
          this.setState({
            editing: false
          });
        }
      }
    });
    _defineProperty(this, "onSubmitUpdate", async () => {
      const text = this.buffer.getText();
      if (text === this.props.originalContent.body || text === '') {
        this.setState({
          editing: false
        });
        return;
      }
      try {
        await this.props.contentUpdater(this.props.originalContent.id, text);
        this.setState({
          editing: false
        });
      } catch (e) {
        this.buffer.setText(text);
      }
    });
    _defineProperty(this, "reportAbuse", async (commentUrl, author) => {
      const url = 'https://github.com/contact/report-content?report=' + `${encodeURIComponent(author)}&content_url=${encodeURIComponent(commentUrl)}`;
      await _electron.shell.openExternal(url);
      (0, _reporterProxy.addEvent)('report-abuse', {
        package: 'github',
        component: this.constructor.name
      });
    });
    _defineProperty(this, "openOnGitHub", async url => {
      await _electron.shell.openExternal(url);
      (0, _reporterProxy.addEvent)('open-comment-in-browser', {
        package: 'github',
        component: this.constructor.name
      });
    });
    _defineProperty(this, "showActionsMenu", (event, content, author) => {
      event.preventDefault();
      const menu = this.props.createMenu();
      if (content.viewerCanUpdate) {
        menu.append(this.props.createMenuItem({
          label: 'Edit',
          click: () => this.setState({
            editing: true
          })
        }));
      }
      menu.append(this.props.createMenuItem({
        label: 'Open on GitHub',
        click: () => this.openOnGitHub(content.url)
      }));
      menu.append(this.props.createMenuItem({
        label: 'Report abuse',
        click: () => this.reportAbuse(content.url, author.login)
      }));
      menu.popup(_electron.remote.getCurrentWindow());
    });
    this.refEditor = new _refHolder.default();
    this.refRoot = new _refHolder.default();
    this.buffer = new _atom.TextBuffer();
    this.state = {
      editing: false
    };
  }
  componentDidUpdate(prevProps, prevState) {
    if (this.state.editing && !prevState.editing) {
      this.buffer.setText(this.props.originalContent.body);
      this.refEditor.map(e => e.getElement().focus());
    }
  }
  render() {
    return this.state.editing ? this.renderEditor() : this.props.render(this.showActionsMenu);
  }
  renderEditor() {
    const className = (0, _classnames.default)('github-Review-editable', {
      'github-Review-editable--disabled': this.props.isPosting
    });
    return _react.default.createElement("div", {
      className: className,
      ref: this.refRoot.setter
    }, this.renderCommands(), _react.default.createElement(_atomTextEditor.default, {
      buffer: this.buffer,
      lineNumberGutterVisible: false,
      softWrapped: true,
      autoHeight: true,
      readOnly: this.props.isPosting,
      refModel: this.refEditor
    }), _react.default.createElement("footer", {
      className: "github-Review-editable-footer"
    }, _react.default.createElement("button", {
      className: "github-Review-editableCancelButton btn btn-sm",
      title: "Cancel editing comment",
      disabled: this.props.isPosting,
      onClick: this.onCancel
    }, "Cancel"), _react.default.createElement("button", {
      className: "github-Review-updateCommentButton btn btn-sm btn-primary",
      title: "Update comment",
      disabled: this.props.isPosting,
      onClick: this.onSubmitUpdate
    }, "Update comment")));
  }
  renderCommands() {
    return _react.default.createElement(_commands.default, {
      registry: this.props.commands,
      target: this.refRoot
    }, _react.default.createElement(_commands.Command, {
      command: "github:submit-comment",
      callback: this.onSubmitUpdate
    }), _react.default.createElement(_commands.Command, {
      command: "core:cancel",
      callback: this.onCancel
    }));
  }
}
exports.default = ActionableReviewView;
_defineProperty(ActionableReviewView, "propTypes", {
  // Model
  originalContent: _propTypes.default.object.isRequired,
  isPosting: _propTypes.default.bool,
  // Atom environment
  commands: _propTypes.default.object.isRequired,
  confirm: _propTypes.default.func.isRequired,
  // Action methods
  contentUpdater: _propTypes.default.func.isRequired,
  createMenu: _propTypes.default.func,
  createMenuItem: _propTypes.default.func,
  // Render prop
  render: _propTypes.default.func.isRequired
});
_defineProperty(ActionableReviewView, "defaultProps", {
  createMenu: /* istanbul ignore next */() => new Menu(),
  createMenuItem: /* istanbul ignore next */(...args) => new MenuItem(...args)
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmVhY3QiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9wcm9wVHlwZXMiLCJfY2xhc3NuYW1lcyIsIl9lbGVjdHJvbiIsIl9hdG9tIiwiX2F0b21UZXh0RWRpdG9yIiwiX3JlZkhvbGRlciIsIl9yZXBvcnRlclByb3h5IiwiX2NvbW1hbmRzIiwiX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJub2RlSW50ZXJvcCIsIldlYWtNYXAiLCJjYWNoZUJhYmVsSW50ZXJvcCIsImNhY2hlTm9kZUludGVyb3AiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsImNhY2hlIiwiaGFzIiwiZ2V0IiwibmV3T2JqIiwiaGFzUHJvcGVydHlEZXNjcmlwdG9yIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJrZXkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJkZXNjIiwic2V0IiwiX2RlZmluZVByb3BlcnR5IiwidmFsdWUiLCJfdG9Qcm9wZXJ0eUtleSIsImVudW1lcmFibGUiLCJjb25maWd1cmFibGUiLCJ3cml0YWJsZSIsImFyZyIsIl90b1ByaW1pdGl2ZSIsIlN0cmluZyIsImlucHV0IiwiaGludCIsInByaW0iLCJTeW1ib2wiLCJ0b1ByaW1pdGl2ZSIsInVuZGVmaW5lZCIsInJlcyIsIlR5cGVFcnJvciIsIk51bWJlciIsIk1lbnUiLCJNZW51SXRlbSIsInJlbW90ZSIsIkFjdGlvbmFibGVSZXZpZXdWaWV3IiwiUmVhY3QiLCJDb21wb25lbnQiLCJjb25zdHJ1Y3RvciIsInByb3BzIiwiYnVmZmVyIiwiZ2V0VGV4dCIsIm9yaWdpbmFsQ29udGVudCIsImJvZHkiLCJzZXRTdGF0ZSIsImVkaXRpbmciLCJjaG9pY2UiLCJjb25maXJtIiwibWVzc2FnZSIsImJ1dHRvbnMiLCJ0ZXh0IiwiY29udGVudFVwZGF0ZXIiLCJpZCIsImUiLCJzZXRUZXh0IiwiY29tbWVudFVybCIsImF1dGhvciIsInVybCIsImVuY29kZVVSSUNvbXBvbmVudCIsInNoZWxsIiwib3BlbkV4dGVybmFsIiwiYWRkRXZlbnQiLCJwYWNrYWdlIiwiY29tcG9uZW50IiwibmFtZSIsImV2ZW50IiwiY29udGVudCIsInByZXZlbnREZWZhdWx0IiwibWVudSIsImNyZWF0ZU1lbnUiLCJ2aWV3ZXJDYW5VcGRhdGUiLCJhcHBlbmQiLCJjcmVhdGVNZW51SXRlbSIsImxhYmVsIiwiY2xpY2siLCJvcGVuT25HaXRIdWIiLCJyZXBvcnRBYnVzZSIsImxvZ2luIiwicG9wdXAiLCJnZXRDdXJyZW50V2luZG93IiwicmVmRWRpdG9yIiwiUmVmSG9sZGVyIiwicmVmUm9vdCIsIlRleHRCdWZmZXIiLCJzdGF0ZSIsImNvbXBvbmVudERpZFVwZGF0ZSIsInByZXZQcm9wcyIsInByZXZTdGF0ZSIsIm1hcCIsImdldEVsZW1lbnQiLCJmb2N1cyIsInJlbmRlciIsInJlbmRlckVkaXRvciIsInNob3dBY3Rpb25zTWVudSIsImNsYXNzTmFtZSIsImN4IiwiaXNQb3N0aW5nIiwiY3JlYXRlRWxlbWVudCIsInJlZiIsInNldHRlciIsInJlbmRlckNvbW1hbmRzIiwibGluZU51bWJlckd1dHRlclZpc2libGUiLCJzb2Z0V3JhcHBlZCIsImF1dG9IZWlnaHQiLCJyZWFkT25seSIsInJlZk1vZGVsIiwidGl0bGUiLCJkaXNhYmxlZCIsIm9uQ2xpY2siLCJvbkNhbmNlbCIsIm9uU3VibWl0VXBkYXRlIiwicmVnaXN0cnkiLCJjb21tYW5kcyIsInRhcmdldCIsIkNvbW1hbmQiLCJjb21tYW5kIiwiY2FsbGJhY2siLCJleHBvcnRzIiwiUHJvcFR5cGVzIiwib2JqZWN0IiwiaXNSZXF1aXJlZCIsImJvb2wiLCJmdW5jIiwiYXJncyJdLCJzb3VyY2VzIjpbImFjdGlvbmFibGUtcmV2aWV3LXZpZXcuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgY3ggZnJvbSAnY2xhc3NuYW1lcyc7XG5pbXBvcnQge3JlbW90ZSwgc2hlbGx9IGZyb20gJ2VsZWN0cm9uJztcbmltcG9ydCB7VGV4dEJ1ZmZlcn0gZnJvbSAnYXRvbSc7XG5pbXBvcnQgQXRvbVRleHRFZGl0b3IgZnJvbSAnLi4vYXRvbS9hdG9tLXRleHQtZWRpdG9yJztcbmltcG9ydCBSZWZIb2xkZXIgZnJvbSAnLi4vbW9kZWxzL3JlZi1ob2xkZXInO1xuaW1wb3J0IHthZGRFdmVudH0gZnJvbSAnLi4vcmVwb3J0ZXItcHJveHknO1xuaW1wb3J0IENvbW1hbmRzLCB7Q29tbWFuZH0gZnJvbSAnLi4vYXRvbS9jb21tYW5kcyc7XG5jb25zdCB7TWVudSwgTWVudUl0ZW19ID0gcmVtb3RlO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBY3Rpb25hYmxlUmV2aWV3VmlldyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIHN0YXRpYyBwcm9wVHlwZXMgPSB7XG4gICAgLy8gTW9kZWxcbiAgICBvcmlnaW5hbENvbnRlbnQ6IFByb3BUeXBlcy5vYmplY3QuaXNSZXF1aXJlZCxcbiAgICBpc1Bvc3Rpbmc6IFByb3BUeXBlcy5ib29sLFxuXG4gICAgLy8gQXRvbSBlbnZpcm9ubWVudFxuICAgIGNvbW1hbmRzOiBQcm9wVHlwZXMub2JqZWN0LmlzUmVxdWlyZWQsXG4gICAgY29uZmlybTogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcblxuICAgIC8vIEFjdGlvbiBtZXRob2RzXG4gICAgY29udGVudFVwZGF0ZXI6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXG4gICAgY3JlYXRlTWVudTogUHJvcFR5cGVzLmZ1bmMsXG4gICAgY3JlYXRlTWVudUl0ZW06IFByb3BUeXBlcy5mdW5jLFxuXG4gICAgLy8gUmVuZGVyIHByb3BcbiAgICByZW5kZXI6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXG4gIH1cblxuICBzdGF0aWMgZGVmYXVsdFByb3BzID0ge1xuICAgIGNyZWF0ZU1lbnU6IC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovICgpID0+IG5ldyBNZW51KCksXG4gICAgY3JlYXRlTWVudUl0ZW06IC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovICguLi5hcmdzKSA9PiBuZXcgTWVudUl0ZW0oLi4uYXJncyksXG4gIH1cblxuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLnJlZkVkaXRvciA9IG5ldyBSZWZIb2xkZXIoKTtcbiAgICB0aGlzLnJlZlJvb3QgPSBuZXcgUmVmSG9sZGVyKCk7XG4gICAgdGhpcy5idWZmZXIgPSBuZXcgVGV4dEJ1ZmZlcigpO1xuICAgIHRoaXMuc3RhdGUgPSB7ZWRpdGluZzogZmFsc2V9O1xuICB9XG5cbiAgY29tcG9uZW50RGlkVXBkYXRlKHByZXZQcm9wcywgcHJldlN0YXRlKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUuZWRpdGluZyAmJiAhcHJldlN0YXRlLmVkaXRpbmcpIHtcbiAgICAgIHRoaXMuYnVmZmVyLnNldFRleHQodGhpcy5wcm9wcy5vcmlnaW5hbENvbnRlbnQuYm9keSk7XG4gICAgICB0aGlzLnJlZkVkaXRvci5tYXAoZSA9PiBlLmdldEVsZW1lbnQoKS5mb2N1cygpKTtcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIHRoaXMuc3RhdGUuZWRpdGluZyA/IHRoaXMucmVuZGVyRWRpdG9yKCkgOiB0aGlzLnByb3BzLnJlbmRlcih0aGlzLnNob3dBY3Rpb25zTWVudSk7XG4gIH1cblxuICByZW5kZXJFZGl0b3IoKSB7XG4gICAgY29uc3QgY2xhc3NOYW1lID0gY3goJ2dpdGh1Yi1SZXZpZXctZWRpdGFibGUnLCB7J2dpdGh1Yi1SZXZpZXctZWRpdGFibGUtLWRpc2FibGVkJzogdGhpcy5wcm9wcy5pc1Bvc3Rpbmd9KTtcblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3NOYW1lfSByZWY9e3RoaXMucmVmUm9vdC5zZXR0ZXJ9PlxuICAgICAgICB7dGhpcy5yZW5kZXJDb21tYW5kcygpfVxuICAgICAgICA8QXRvbVRleHRFZGl0b3JcbiAgICAgICAgICBidWZmZXI9e3RoaXMuYnVmZmVyfVxuICAgICAgICAgIGxpbmVOdW1iZXJHdXR0ZXJWaXNpYmxlPXtmYWxzZX1cbiAgICAgICAgICBzb2Z0V3JhcHBlZD17dHJ1ZX1cbiAgICAgICAgICBhdXRvSGVpZ2h0PXt0cnVlfVxuICAgICAgICAgIHJlYWRPbmx5PXt0aGlzLnByb3BzLmlzUG9zdGluZ31cbiAgICAgICAgICByZWZNb2RlbD17dGhpcy5yZWZFZGl0b3J9XG4gICAgICAgIC8+XG4gICAgICAgIDxmb290ZXIgY2xhc3NOYW1lPVwiZ2l0aHViLVJldmlldy1lZGl0YWJsZS1mb290ZXJcIj5cbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJnaXRodWItUmV2aWV3LWVkaXRhYmxlQ2FuY2VsQnV0dG9uIGJ0biBidG4tc21cIlxuICAgICAgICAgICAgdGl0bGU9XCJDYW5jZWwgZWRpdGluZyBjb21tZW50XCJcbiAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnByb3BzLmlzUG9zdGluZ31cbiAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMub25DYW5jZWx9PlxuICAgICAgICAgICAgQ2FuY2VsXG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiZ2l0aHViLVJldmlldy11cGRhdGVDb21tZW50QnV0dG9uIGJ0biBidG4tc20gYnRuLXByaW1hcnlcIlxuICAgICAgICAgICAgdGl0bGU9XCJVcGRhdGUgY29tbWVudFwiXG4gICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5wcm9wcy5pc1Bvc3Rpbmd9XG4gICAgICAgICAgICBvbkNsaWNrPXt0aGlzLm9uU3VibWl0VXBkYXRlfT5cbiAgICAgICAgICAgIFVwZGF0ZSBjb21tZW50XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvZm9vdGVyPlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxuXG4gIHJlbmRlckNvbW1hbmRzKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8Q29tbWFuZHMgcmVnaXN0cnk9e3RoaXMucHJvcHMuY29tbWFuZHN9IHRhcmdldD17dGhpcy5yZWZSb290fT5cbiAgICAgICAgPENvbW1hbmQgY29tbWFuZD1cImdpdGh1YjpzdWJtaXQtY29tbWVudFwiIGNhbGxiYWNrPXt0aGlzLm9uU3VibWl0VXBkYXRlfSAvPlxuICAgICAgICA8Q29tbWFuZCBjb21tYW5kPVwiY29yZTpjYW5jZWxcIiBjYWxsYmFjaz17dGhpcy5vbkNhbmNlbH0gLz5cbiAgICAgIDwvQ29tbWFuZHM+XG4gICAgKTtcbiAgfVxuXG4gIG9uQ2FuY2VsID0gKCkgPT4ge1xuICAgIGlmICh0aGlzLmJ1ZmZlci5nZXRUZXh0KCkgPT09IHRoaXMucHJvcHMub3JpZ2luYWxDb250ZW50LmJvZHkpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe2VkaXRpbmc6IGZhbHNlfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGNob2ljZSA9IHRoaXMucHJvcHMuY29uZmlybSh7XG4gICAgICAgIG1lc3NhZ2U6ICdBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gZGlzY2FyZCB5b3VyIHVuc2F2ZWQgY2hhbmdlcz8nLFxuICAgICAgICBidXR0b25zOiBbJ09LJywgJ0NhbmNlbCddLFxuICAgICAgfSk7XG4gICAgICBpZiAoY2hvaWNlID09PSAwKSB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe2VkaXRpbmc6IGZhbHNlfSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgb25TdWJtaXRVcGRhdGUgPSBhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgdGV4dCA9IHRoaXMuYnVmZmVyLmdldFRleHQoKTtcbiAgICBpZiAodGV4dCA9PT0gdGhpcy5wcm9wcy5vcmlnaW5hbENvbnRlbnQuYm9keSB8fCB0ZXh0ID09PSAnJykge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7ZWRpdGluZzogZmFsc2V9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgYXdhaXQgdGhpcy5wcm9wcy5jb250ZW50VXBkYXRlcih0aGlzLnByb3BzLm9yaWdpbmFsQ29udGVudC5pZCwgdGV4dCk7XG4gICAgICB0aGlzLnNldFN0YXRlKHtlZGl0aW5nOiBmYWxzZX0pO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHRoaXMuYnVmZmVyLnNldFRleHQodGV4dCk7XG4gICAgfVxuICB9XG5cbiAgcmVwb3J0QWJ1c2UgPSBhc3luYyAoY29tbWVudFVybCwgYXV0aG9yKSA9PiB7XG4gICAgY29uc3QgdXJsID0gJ2h0dHBzOi8vZ2l0aHViLmNvbS9jb250YWN0L3JlcG9ydC1jb250ZW50P3JlcG9ydD0nICtcbiAgICAgIGAke2VuY29kZVVSSUNvbXBvbmVudChhdXRob3IpfSZjb250ZW50X3VybD0ke2VuY29kZVVSSUNvbXBvbmVudChjb21tZW50VXJsKX1gO1xuXG4gICAgYXdhaXQgc2hlbGwub3BlbkV4dGVybmFsKHVybCk7XG4gICAgYWRkRXZlbnQoJ3JlcG9ydC1hYnVzZScsIHtwYWNrYWdlOiAnZ2l0aHViJywgY29tcG9uZW50OiB0aGlzLmNvbnN0cnVjdG9yLm5hbWV9KTtcbiAgfVxuXG4gIG9wZW5PbkdpdEh1YiA9IGFzeW5jIHVybCA9PiB7XG4gICAgYXdhaXQgc2hlbGwub3BlbkV4dGVybmFsKHVybCk7XG4gICAgYWRkRXZlbnQoJ29wZW4tY29tbWVudC1pbi1icm93c2VyJywge3BhY2thZ2U6ICdnaXRodWInLCBjb21wb25lbnQ6IHRoaXMuY29uc3RydWN0b3IubmFtZX0pO1xuICB9XG5cbiAgc2hvd0FjdGlvbnNNZW51ID0gKGV2ZW50LCBjb250ZW50LCBhdXRob3IpID0+IHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgY29uc3QgbWVudSA9IHRoaXMucHJvcHMuY3JlYXRlTWVudSgpO1xuXG4gICAgaWYgKGNvbnRlbnQudmlld2VyQ2FuVXBkYXRlKSB7XG4gICAgICBtZW51LmFwcGVuZCh0aGlzLnByb3BzLmNyZWF0ZU1lbnVJdGVtKHtcbiAgICAgICAgbGFiZWw6ICdFZGl0JyxcbiAgICAgICAgY2xpY2s6ICgpID0+IHRoaXMuc2V0U3RhdGUoe2VkaXRpbmc6IHRydWV9KSxcbiAgICAgIH0pKTtcbiAgICB9XG5cbiAgICBtZW51LmFwcGVuZCh0aGlzLnByb3BzLmNyZWF0ZU1lbnVJdGVtKHtcbiAgICAgIGxhYmVsOiAnT3BlbiBvbiBHaXRIdWInLFxuICAgICAgY2xpY2s6ICgpID0+IHRoaXMub3Blbk9uR2l0SHViKGNvbnRlbnQudXJsKSxcbiAgICB9KSk7XG5cbiAgICBtZW51LmFwcGVuZCh0aGlzLnByb3BzLmNyZWF0ZU1lbnVJdGVtKHtcbiAgICAgIGxhYmVsOiAnUmVwb3J0IGFidXNlJyxcbiAgICAgIGNsaWNrOiAoKSA9PiB0aGlzLnJlcG9ydEFidXNlKGNvbnRlbnQudXJsLCBhdXRob3IubG9naW4pLFxuICAgIH0pKTtcblxuICAgIG1lbnUucG9wdXAocmVtb3RlLmdldEN1cnJlbnRXaW5kb3coKSk7XG4gIH1cbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsTUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsVUFBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsV0FBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUcsU0FBQSxHQUFBSCxPQUFBO0FBQ0EsSUFBQUksS0FBQSxHQUFBSixPQUFBO0FBQ0EsSUFBQUssZUFBQSxHQUFBTixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQU0sVUFBQSxHQUFBUCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQU8sY0FBQSxHQUFBUCxPQUFBO0FBQ0EsSUFBQVEsU0FBQSxHQUFBQyx1QkFBQSxDQUFBVCxPQUFBO0FBQW1ELFNBQUFVLHlCQUFBQyxXQUFBLGVBQUFDLE9BQUEs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